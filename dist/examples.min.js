!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function t(t,e,i,r){var n,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(s<3?n(o):s>3?n(e,i,o):n(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}const e="button_e3169063",i="buttonContent_e3169063",r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(t,e,i=null)=>{for(;e!==i;){const i=e.nextSibling;t.removeChild(e),e=i}},s=`{{lit-${String(Math.random()).slice(2)}}}`,o=`\x3c!--${s}--\x3e`,a=new RegExp(`${s}|${o}`);class l{constructor(t,e){this.parts=[],this.element=e;const i=[],r=[],n=document.createTreeWalker(e.content,133,null,!1);let o=0,l=-1,c=0;const{strings:f,values:{length:p}}=t;for(;c<p;){const t=n.nextNode();if(null!==t){if(l++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:i}=e;let r=0;for(let t=0;t<i;t++)h(e[t].name,"$lit$")&&r++;for(;r-- >0;){const e=f[c],i=d.exec(e)[2],r=i.toLowerCase()+"$lit$",n=t.getAttribute(r);t.removeAttribute(r);const s=n.split(a);this.parts.push({type:"attribute",index:l,name:i,strings:s}),c+=s.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(s)>=0){const r=t.parentNode,n=e.split(a),s=n.length-1;for(let e=0;e<s;e++){let i,s=n[e];if(""===s)i=u();else{const t=d.exec(s);null!==t&&h(t[2],"$lit$")&&(s=s.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),i=document.createTextNode(s)}r.insertBefore(i,t),this.parts.push({type:"node",index:++l})}""===n[s]?(r.insertBefore(u(),t),i.push(t)):t.data=n[s],c+=s}}else if(8===t.nodeType)if(t.data===s){const e=t.parentNode;null!==t.previousSibling&&l!==o||(l++,e.insertBefore(u(),t)),o=l,this.parts.push({type:"node",index:l}),null===t.nextSibling?t.data="":(i.push(t),l--),c++}else{let e=-1;for(;-1!==(e=t.data.indexOf(s,e+1));)this.parts.push({type:"node",index:-1}),c++}}else n.currentNode=r.pop()}for(const t of i)t.parentNode.removeChild(t)}}const h=(t,e)=>{const i=t.length-e.length;return i>=0&&t.slice(i)===e},c=t=>-1!==t.index,u=()=>document.createComment(""),d=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function f(t,e){const{element:{content:i},parts:r}=t,n=document.createTreeWalker(i,133,null,!1);let s=O(r),o=r[s],a=-1,l=0;const h=[];let c=null;for(;n.nextNode();){a++;const t=n.currentNode;for(t.previousSibling===c&&(c=null),e.has(t)&&(h.push(t),null===c&&(c=t)),null!==c&&l++;void 0!==o&&o.index===a;)o.index=null!==c?-1:o.index-l,s=O(r,s),o=r[s]}h.forEach(t=>t.parentNode.removeChild(t))}const p=t=>{let e=11===t.nodeType?0:1;const i=document.createTreeWalker(t,133,null,!1);for(;i.nextNode();)e++;return e},O=(t,e=-1)=>{for(let i=e+1;i<t.length;i++){const e=t[i];if(c(e))return i}return-1};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
const g=new WeakMap,m=t=>"function"==typeof t&&g.has(t),v={},y={};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class b{constructor(t,e,i){this.__parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(const i of this.__parts)void 0!==i&&i.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=r?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],i=this.template.parts,n=document.createTreeWalker(t,133,null,!1);let s,o=0,a=0,l=n.nextNode();for(;o<i.length;)if(s=i[o],c(s)){for(;a<s.index;)a++,"TEMPLATE"===l.nodeName&&(e.push(l),n.currentNode=l.content),null===(l=n.nextNode())&&(n.currentNode=e.pop(),l=n.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,s.name,s.strings,this.options));o++}else this.__parts.push(void 0),o++;return r&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const w=` ${s} `;class S{constructor(t,e,i,r){this.strings=t,this.values=e,this.type=i,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",i=!1;for(let r=0;r<t;r++){const t=this.strings[r],n=t.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===t.indexOf("--\x3e",n+1);const a=d.exec(t);e+=null===a?t+(i?w:o):t.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+s}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const x=t=>null===t||!("object"==typeof t||"function"==typeof t),k=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class _{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new P(this)}_getValue(){const t=this.strings,e=t.length-1;let i="";for(let r=0;r<e;r++){i+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(x(t)||!k(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class P{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===v||x(t)&&t===this.value||(this.value=t,m(t)||(this.committer.dirty=!0))}commit(){for(;m(this.value);){const t=this.value;this.value=v,t(this)}this.value!==v&&this.committer.commit()}}class A{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(u()),this.endNode=t.appendChild(u())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=u()),t.__insert(this.endNode=u())}insertAfterPart(t){t.__insert(this.startNode=u()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;m(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=v,t(this)}const t=this.__pendingValue;t!==v&&(x(t)?t!==this.value&&this.__commitText(t):t instanceof S?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):k(t)?this.__commitIterable(t):t===y?(this.value=y,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=i:this.__commitNode(document.createTextNode(i)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof b&&this.value.template===e)this.value.update(t.values);else{const i=new b(e,t.processor,this.options),r=i._clone();i.update(t.values),this.__commitNode(r),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i,r=0;for(const n of t)i=e[r],void 0===i&&(i=new A(this.options),e.push(i),0===r?i.appendIntoPart(this):i.insertAfterPart(e[r-1])),i.setValue(n),i.commit(),r++;r<e.length&&(e.length=r,this.clear(i&&i.endNode))}clear(t=this.startNode){n(this.startNode.parentNode,t.nextSibling,this.endNode)}}class E{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;m(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=v,t(this)}if(this.__pendingValue===v)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=v}}class X extends _{constructor(t,e,i){super(t,e,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new T(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class T extends P{}let C=!1;(()=>{try{const t={get capture(){return C=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class ${constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;m(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=v,t(this)}if(this.__pendingValue===v)return;const t=this.__pendingValue,e=this.value,i=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=N(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=v}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const N=t=>t&&(C?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */;function R(t){let e=D.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},D.set(t.type,e));let i=e.stringsArray.get(t.strings);if(void 0!==i)return i;const r=t.strings.join(s);return i=e.keyString.get(r),void 0===i&&(i=new l(t,t.getTemplateElement()),e.keyString.set(r,i)),e.stringsArray.set(t.strings,i),i}const D=new Map,V=new WeakMap,W=(t,e,i)=>{let r=V.get(e);void 0===r&&(n(e,e.firstChild),V.set(e,r=new A(Object.assign({templateFactory:R},i))),r.appendInto(e)),r.setValue(t),r.commit()};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const M=new
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class{handleAttributeExpressions(t,e,i,r){const n=e[0];if("."===n){return new X(t,e.slice(1),i).parts}if("@"===n)return[new $(t,e.slice(1),r.eventContext)];if("?"===n)return[new E(t,e.slice(1),i)];return new _(t,e,i).parts}handleTextExpression(t){return new A(t)}};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");const z=(t,...e)=>new S(t,e,"html",M)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */,Q=(t,e)=>`${t}--${e}`;let q=!0;void 0===window.ShadyCSS?q=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),q=!1);const j=t=>e=>{const i=Q(e.type,t);let r=D.get(i);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},D.set(i,r));let n=r.stringsArray.get(e.strings);if(void 0!==n)return n;const o=e.strings.join(s);if(n=r.keyString.get(o),void 0===n){const i=e.getTemplateElement();q&&window.ShadyCSS.prepareTemplateDom(i,t),n=new l(e,i),r.keyString.set(o,n)}return r.stringsArray.set(e.strings,n),n},U=["html","svg"],L=new Set,B=(t,e,i)=>{L.add(t);const r=i?i.element:document.createElement("template"),n=e.querySelectorAll("style"),{length:s}=n;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(r,t);const o=document.createElement("style");for(let t=0;t<s;t++){const e=n[t];e.parentNode.removeChild(e),o.textContent+=e.textContent}(t=>{U.forEach(e=>{const i=D.get(Q(e,t));void 0!==i&&i.keyString.forEach(t=>{const{element:{content:e}}=t,i=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{i.add(t)}),f(t,i)})})})(t);const a=r.content;i?function(t,e,i=null){const{element:{content:r},parts:n}=t;if(null==i)return void r.appendChild(e);const s=document.createTreeWalker(r,133,null,!1);let o=O(n),a=0,l=-1;for(;s.nextNode();){l++;for(s.currentNode===i&&(a=p(e),i.parentNode.insertBefore(e,i));-1!==o&&n[o].index===l;){if(a>0){for(;-1!==o;)n[o].index+=a,o=O(n,o);return}o=O(n,o)}}}(i,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)e.insertBefore(l.cloneNode(!0),e.firstChild);else if(i){a.insertBefore(o,a.firstChild);const t=new Set;t.add(o),f(i,t)}};window.JSCompiler_renameProperty=(t,e)=>t;const G={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},I=(t,e)=>e!==t&&(e==e||t==t),Y={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:I};class Z extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,i)=>{const r=this._attributeNameForProperty(i,e);void 0!==r&&(this._attributeToPropertyMap.set(r,i),t.push(r))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=Y){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const i="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,i,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this._requestUpdate(t,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||Y}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const i of e)this.createProperty(i,t[i])}}static _attributeNameForProperty(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,i=I){return i(t,e)}static _propertyValueFromAttribute(t,e){const i=e.type,r=e.converter||G,n="function"==typeof r?r:r.fromAttribute;return n?n(t,i):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const i=e.type,r=e.converter;return(r&&r.toAttribute||G.toAttribute)(t,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,i){e!==i&&this._attributeToProperty(t,i)}_propertyToAttribute(t,e,i=Y){const r=this.constructor,n=r._attributeNameForProperty(t,i);if(void 0!==n){const t=r._propertyValueToAttribute(e,i);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(n):this.setAttribute(n,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const i=this.constructor,r=i._attributeToPropertyMap.get(t);if(void 0!==r){const t=i.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=i._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}_requestUpdate(t,e){let i=!0;if(void 0!==t){const r=this.constructor,n=r.getPropertyOptions(t);r._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}Z.finalized=!0;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
const H=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:r}=e;return{kind:i,elements:r,finisher(e){window.customElements.define(t,e)}}})(t,e),F=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(i){i.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function K(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):F(t,e)}
/**
    @license
    Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at
    http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
    http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
    found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
    part of the polymer project is also subject to an additional IP rights grant
    found at http://polymer.github.io/PATENTS.txt
    */
const J="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,tt=Symbol();class et{constructor(t,e){if(e!==tt)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(J?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const it=t=>new et(String(t),tt);
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const rt={};class nt extends Z{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(void 0===t)this._styles=[];else if(Array.isArray(t)){const e=(t,i)=>t.reduceRight((t,i)=>Array.isArray(i)?e(i,t):(t.add(i),t),i),i=e(t,new Set),r=[];i.forEach(t=>r.unshift(t)),this._styles=r}else this._styles=[t]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?J?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==rt&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return rt}}nt.finalized=!0,nt.render=(t,e,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const r=i.scopeName,s=V.has(e),o=q&&11===e.nodeType&&!!e.host,a=o&&!L.has(r),l=a?document.createDocumentFragment():e;if(W(t,l,Object.assign({templateFactory:j(r)},i)),a){const t=V.get(l);V.delete(l);const i=t.value instanceof b?t.value.template:void 0;B(r,l,i),n(e,e.firstChild),e.appendChild(l),V.set(e,t)}!s&&o&&window.ShadyCSS.styleElement(e.host)};let st=class extends nt{render(){return z`
            <div class=${e}>
                <div class=${i}>
                    <slot></slot>
                </div>
            </div>
        `}};st.styles=it(".button_e3169063{height:48px;padding:6px 4px;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent;border:0;display:inline-block;outline:none;cursor:pointer;text-decoration:none;position:absolute;right:0;top:0}.button_e3169063:focus .buttonContent_e3169063,.button_e3169063:hover .buttonContent_e3169063{background-color:hsla(0,0%,100%,.12)}.button_e3169063:active .buttonContent_e3169063{background-color:hsla(0,0%,80%,.25)}.buttonContent_e3169063{transition:background-color .3s linear;height:36px;min-width:64px;line-height:36px;padding:0 8px;letter-spacing:.5px;border-radius:2px;display:block;text-transform:uppercase;text-align:center;font-weight:500;position:relative;border:0;outline:none;background-color:transparent;color:#ff0}"),st=t([H("my-button")],st);const ot="toolbar_4a429c0a",at="toolbarTitle_4a429c0a",lt="toolbarOptions_4a429c0a";let ht=class extends nt{constructor(){super(...arguments),this.title=""}render(){return z`
            <div class=${ot}>
                <div class=${at}>${this.title}</div>
                <div class=${lt}>
                    <slot></slot>
                </div>
            </div>
        `}};ht.styles=it(".toolbar_4a429c0a{padding:16px;line-height:16px;display:flex}.toolbarTitle_4a429c0a{font-weight:500;display:flex;flex:1 0 auto}.toolbarOptions_4a429c0a{font-weight:500}"),t([K({type:String})],ht.prototype,"title",void 0),ht=t([H("my-toolbar")],ht);const ct="loadingIndicator_15cc1833",ut="centered_15cc1833",dt="spinner_15cc1833",ft="path_15cc1833";
/**
     * @license
     * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class pt{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}const Ot=new WeakMap,gt=(mt=t=>e=>{if(!(e instanceof P)||e instanceof T||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:i}=e,{element:r}=i;let n=Ot.get(e);void 0===n&&(r.setAttribute("class",i.strings.join(" ")),Ot.set(e,n=new Set));const s=r.classList||new pt(r);n.forEach(e=>{e in t||(s.remove(e),n.delete(e))});for(const e in t){const i=t[e];i!=n.has(e)&&(i?(s.add(e),n.add(e)):(s.remove(e),n.delete(e)))}"function"==typeof s.commit&&s.commit()},(...t)=>{const e=mt(...t);return g.set(e,!0),e});var mt;let vt=class extends nt{constructor(){super(...arguments),this.centered=!1}render(){return z`
            <div class="${gt({[ct]:!0,[ut]:this.centered})}">
                <svg class=${dt}>
                    <circle class=${ft} cx="50" cy="50" r="20"/>
                </svg>
            </div>
        `}};vt.styles=it("@-webkit-keyframes dashLoading_15cc1833{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dashLoading_15cc1833{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}.loadingIndicator_15cc1833{width:100px;height:100px;position:relative;display:inline-block}.centered_15cc1833{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.spinner_15cc1833{width:100px;height:100px;-webkit-animation:spin_15cc1833 3s linear infinite;animation:spin_15cc1833 3s linear infinite;position:relative}.path_15cc1833{-webkit-animation:dashLoading_15cc1833 1.5s ease-in-out infinite;animation:dashLoading_15cc1833 1.5s ease-in-out infinite;fill:transparent;stroke:#ff0;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-width:6;stroke-miterlimit:20;stroke-linecap:round}"),t([K({type:Boolean})],vt.prototype,"centered",void 0),vt=t([H("my-loading-spinner")],vt);const yt="app_e274581c",bt="navigation_e274581c",wt="viewport_e274581c",St="content_e274581c",xt="title_e274581c";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var kt=function(t,e){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var _t=function(){return(_t=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function Pt(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function At(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,s=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}function Et(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(At(arguments[e]));return t}var Xt=[];Object.freeze(Xt);var Tt={};function Ct(){return++Je.mobxGuid}function $t(t){throw Nt(!1,t),"X"}function Nt(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(Tt);var Rt=[];function Dt(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Vt=function(){};function Wt(t){return null!==t&&"object"==typeof t}function Mt(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function zt(t,e,i){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:i})}function Qt(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!i||!1!==i.configurable&&!1!==i.writable}function qt(t,e){var i="isMobX"+t;return e.prototype[i]=!0,function(t){return Wt(t)&&!0===t[i]}}function jt(t){return t instanceof Map}function Ut(t){return t instanceof Set}function Lt(t){var e=new Set;for(var i in t)e.add(i);return Object.getOwnPropertySymbols(t).forEach((function(i){Object.getOwnPropertyDescriptor(t,i).enumerable&&e.add(i)})),Array.from(e)}function Bt(t){return t&&t.toString?t.toString():new String(t).toString()}function Gt(t){return null===t?null:"object"==typeof t?""+t:t}var It=Symbol("mobx administration"),Yt=function(){function t(t){void 0===t&&(t="Atom@"+Ct()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=be.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return si(this)},t.prototype.reportChanged=function(){ri(),function(t){if(t.lowestObserverState===be.STALE)return;t.lowestObserverState=be.STALE,t.observers.forEach((function(e){e.dependenciesState===be.UP_TO_DATE&&(e.isTracing!==we.NONE&&oi(e,t),e.onBecomeStale()),e.dependenciesState=be.STALE}))}(this),ni()},t.prototype.toString=function(){return this.name},t}(),Zt=qt("Atom",Yt);function Ht(t,e,i){void 0===e&&(e=Vt),void 0===i&&(i=Vt);var r,n=new Yt(t);return e!==Vt&&Ai("onBecomeObserved",n,e,r),i!==Vt&&Pi(n,i),n}var Ft={identity:function(t,e){return t===e},structural:function(t,e){return vr(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return vr(t,e,1)}},Kt=Symbol("mobx did run lazy initializers"),Jt=Symbol("mobx pending decorators"),te={},ee={};function ie(t,e){var i=e?te:ee;return i[t]||(i[t]={configurable:!0,enumerable:e,get:function(){return re(this),this[t]},set:function(e){re(this),this[t]=e}})}function re(t){var e,i;if(!0!==t[Kt]){var r=t[Jt];if(r){zt(t,Kt,!0);var n=Et(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var s=Pt(n),o=s.next();!o.done;o=s.next()){var a=r[o.value];a.propertyCreator(t,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}}}function ne(t,e){return function(){var i,r=function(r,n,s,o){if(!0===o)return e(r,n,s,r,i),null;if("production"===process.env.NODE_ENV||se(arguments)||$t("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,Jt)){var a=r[Jt];zt(r,Jt,_t({},a))}return r[Jt][n]={prop:n,propertyCreator:e,descriptor:s,decoratorTarget:r,decoratorArguments:i},ie(n,t)};return se(arguments)?(i=Xt,r.apply(null,arguments)):(i=Array.prototype.slice.call(arguments),r)}}function se(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function oe(t,e,i){return Di(t)?t:Array.isArray(t)?ve.array(t,{name:i}):Mt(t)?ve.object(t,void 0,{name:i}):jt(t)?ve.map(t,{name:i}):Ut(t)?ve.set(t,{name:i}):t}function ae(t){return t}function le(t){Nt(t);var e=ne(!0,(function(e,i,r,n,s){"production"!==process.env.NODE_ENV&&Nt(!r||!r.get,'@observable cannot be used on getter (property "'+Bt(i)+'"), use @computed instead.');var o=r?r.initializer?r.initializer.call(e):r.value:void 0;hr(e).addObservableProp(i,o,t)})),i="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?$t("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):e.apply(null,arguments)}:e;return i.enhancer=t,i}var he={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ce(t){/^(deep|name|equals|defaultDecorator|proxy)$/.test(t)||$t("invalid option for (extend)observable: "+t)}function ue(t){if(null==t)return he;if("string"==typeof t)return{name:t,deep:!0,proxy:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof t)return $t("expected options object");Object.keys(t).forEach(ce)}return t}Object.freeze(he);var de=le(oe),fe=le((function(t,e,i){return null==t||pr(t)||tr(t)||nr(t)||ar(t)?t:Array.isArray(t)?ve.array(t,{name:i,deep:!1}):Mt(t)?ve.object(t,void 0,{name:i,deep:!1}):jt(t)?ve.map(t,{name:i,deep:!1}):Ut(t)?ve.set(t,{name:i,deep:!1}):$t("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),pe=le(ae),Oe=le((function(t,e,i){if("production"!==process.env.NODE_ENV&&Di(t))throw"observable.struct should not be used with observable values";return vr(t,e)?e:t}));function ge(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?ae:oe}var me={box:function(t,e){arguments.length>2&&ye("box");var i=ue(e);return new Be(t,ge(i),i.name,!0,i.equals)},array:function(t,e){arguments.length>2&&ye("array");var i=ue(e);return Zi(t,ge(i),i.name)},map:function(t,e){arguments.length>2&&ye("map");var i=ue(e);return new rr(t,ge(i),i.name)},set:function(t,e){arguments.length>2&&ye("set");var i=ue(e);return new or(t,ge(i),i.name)},object:function(t,e,i){"string"==typeof arguments[1]&&ye("object");var r=ue(i);if(!1===r.proxy)return Ei({},t,e,r);var n=Xi(r),s=Ei({},void 0,void 0,r),o=qi(s);return Ti(o,t,e,n),o},ref:pe,shallow:fe,deep:de,struct:Oe},ve=function(t,e,i){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return de.apply(null,arguments);if(Di(t))return t;var r=Mt(t)?ve.object(t,e,i):Array.isArray(t)?ve.array(t,e):jt(t)?ve.map(t,e):Ut(t)?ve.set(t,e):t;if(r!==t)return r;$t("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function ye(t){$t("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(me).forEach((function(t){return ve[t]=me[t]}));var be,we,Se=ne(!1,(function(t,e,i,r,n){var s=i.get,o=i.set,a=n[0]||{};hr(t).addComputedProp(t,e,_t({get:s,set:o,context:t},a))})),xe=Se({equals:Ft.structural}),ke=function(t,e,i){if("string"==typeof e)return Se.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return Se.apply(null,arguments);"production"!==process.env.NODE_ENV&&(Nt("function"==typeof t,"First argument to `computed` should be an expression."),Nt(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Ge(r)};ke.struct=xe,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(be||(be={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(we||(we={}));var _e=function(t){this.cause=t};function Pe(t){return t instanceof _e}function Ae(t){switch(t.dependenciesState){case be.UP_TO_DATE:return!1;case be.NOT_TRACKING:case be.STALE:return!0;case be.POSSIBLY_STALE:for(var e=Re(!0),i=$e(),r=t.observing,n=r.length,s=0;s<n;s++){var o=r[s];if(Ie(o)){if(Je.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return Ne(i),De(e),!0}if(t.dependenciesState===be.STALE)return Ne(i),De(e),!0}}return Ve(t),Ne(i),De(e),!1}}function Ee(t){var e=t.observers.size>0;Je.computationDepth>0&&e&&$t("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+t.name),Je.allowStateChanges||!e&&"strict"!==Je.enforceActions||$t("production"!==process.env.NODE_ENV&&(Je.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+t.name)}function Xe(t,e,i){var r=Re(!0);Ve(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Je.runId;var n,s=Je.trackingDerivation;if(Je.trackingDerivation=t,!0===Je.disableErrorBoundaries)n=e.call(i);else try{n=e.call(i)}catch(t){n=new _e(t)}return Je.trackingDerivation=s,function(t){for(var e=t.observing,i=t.observing=t.newObserving,r=be.UP_TO_DATE,n=0,s=t.unboundDepsCount,o=0;o<s;o++){0===(a=i[o]).diffValue&&(a.diffValue=1,n!==o&&(i[n]=a),n++),a.dependenciesState>r&&(r=a.dependenciesState)}i.length=n,t.newObserving=null,s=e.length;for(;s--;){0===(a=e[s]).diffValue&&ei(a,t),a.diffValue=0}for(;n--;){var a;1===(a=i[n]).diffValue&&(a.diffValue=0,ti(a,t))}r!==be.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),function(t){if("production"===process.env.NODE_ENV)return;if(0!==t.observing.length)return;(Je.reactionRequiresObservable||t.requiresObservable)&&console.warn("[mobx] Derivation "+t.name+" is created/updated without reading any observable value")}(t),De(r),n}function Te(t){var e=t.observing;t.observing=[];for(var i=e.length;i--;)ei(e[i],t);t.dependenciesState=be.NOT_TRACKING}function Ce(t){var e=$e();try{return t()}finally{Ne(e)}}function $e(){var t=Je.trackingDerivation;return Je.trackingDerivation=null,t}function Ne(t){Je.trackingDerivation=t}function Re(t){var e=Je.allowStateReads;return Je.allowStateReads=t,e}function De(t){Je.allowStateReads=t}function Ve(t){if(t.dependenciesState!==be.UP_TO_DATE){t.dependenciesState=be.UP_TO_DATE;for(var e=t.observing,i=e.length;i--;)e[i].lowestObserverState=be.UP_TO_DATE}}var We=0,Me=1,ze=Object.getOwnPropertyDescriptor((function(){}),"name"),Qe=ze&&ze.configurable;function qe(t,e,i){"production"!==process.env.NODE_ENV&&(Nt("function"==typeof e,"`action` can only be invoked on functions"),"string"==typeof t&&t||$t("actions should have valid names, got: '"+t+"'"));var r=function(){return je(t,e,i||this,arguments)};return r.isMobxAction=!0,"production"!==process.env.NODE_ENV&&Qe&&Object.defineProperty(r,"name",{value:t}),r}function je(t,e,i,r){var n=function(t,e,i){var r=fi()&&!!t,n=0;if(r&&"production"!==process.env.NODE_ENV){n=Date.now();var s=i&&i.length||0,o=new Array(s);if(s>0)for(var a=0;a<s;a++)o[a]=i[a];Oi({type:"action",name:t,object:e,arguments:o})}var l=$e();ri();var h=Ue(!0),c=Re(!0),u={prevDerivation:l,prevAllowStateChanges:h,prevAllowStateReads:c,notifySpy:r,startTime:n,actionId:Me++,parentActionId:We};return We=u.actionId,u}(t,i,r);try{return e.apply(i,r)}catch(t){throw n.error=t,t}finally{!function(t){We!==t.actionId&&$t("invalid action stack. did you forget to finish an action?");We=t.parentActionId,void 0!==t.error&&(Je.suppressReactionErrors=!0);Le(t.prevAllowStateChanges),De(t.prevAllowStateReads),ni(),Ne(t.prevDerivation),t.notifySpy&&"production"!==process.env.NODE_ENV&&mi({time:Date.now()-t.startTime});Je.suppressReactionErrors=!1}(n)}}function Ue(t){var e=Je.allowStateChanges;return Je.allowStateChanges=t,e}function Le(t){Je.allowStateChanges=t}var Be=function(t){function e(e,i,r,n,s){void 0===r&&(r="ObservableValue@"+Ct()),void 0===n&&(n=!0),void 0===s&&(s=Ft.default);var o=t.call(this,r)||this;return o.enhancer=i,o.name=r,o.equals=s,o.hasUnreportedChange=!1,o.value=i(e,void 0,r),n&&fi()&&"production"!==process.env.NODE_ENV&&pi({type:"create",name:o.name,newValue:""+o.value}),o}return function(t,e){function i(){this.constructor=t}kt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==Je.UNCHANGED){var i=fi();i&&"production"!==process.env.NODE_ENV&&Oi({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),i&&"production"!==process.env.NODE_ENV&&mi()}},e.prototype.prepareNewValue=function(t){if(Ee(this),ji(this)){var e=Li(this,{object:this,type:"update",newValue:t});if(!e)return Je.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Je.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Bi(this)&&Ii(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Ui(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Gi(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return Gt(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Yt),Ge=(qt("ObservableValue",Be),function(){function t(t){this.dependenciesState=be.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=be.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Ct(),this.value=new _e(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=we.NONE,Nt(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+Ct(),t.set&&(this.setter=qe(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?Ft.structural:Ft.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==be.UP_TO_DATE)return;t.lowestObserverState=be.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===be.UP_TO_DATE&&(e.dependenciesState=be.POSSIBLY_STALE,e.isTracing!==we.NONE&&oi(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&$t("Cycle detected in computation "+this.name+": "+this.derivation),0!==Je.inBatch||0!==this.observers.size||this.keepAlive?(si(this),Ae(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===be.STALE)return;t.lowestObserverState=be.STALE,t.observers.forEach((function(e){e.dependenciesState===be.POSSIBLY_STALE?e.dependenciesState=be.STALE:e.dependenciesState===be.UP_TO_DATE&&(t.lowestObserverState=be.UP_TO_DATE)}))}(this)):Ae(this)&&(this.warnAboutUntrackedRead(),ri(),this.value=this.computeValue(!1),ni());var t=this.value;if(Pe(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(Pe(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){Nt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else Nt(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},t.prototype.trackAndCompute=function(){fi()&&"production"!==process.env.NODE_ENV&&pi({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===be.NOT_TRACKING,i=this.computeValue(!0),r=e||Pe(t)||Pe(i)||!this.equals(t,i);return r&&(this.value=i),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Je.computationDepth++,t)e=Xe(this,this.derivation,this.scope);else if(!0===Je.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new _e(t)}return Je.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(Te(this),this.value=void 0)},t.prototype.observe=function(t,e){var i=this,r=!0,n=void 0;return xi((function(){var s=i.get();if(!r||e){var o=$e();t({type:"update",object:i,newValue:s,oldValue:n}),Ne(o)}r=!1,n=s}))},t.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&$t("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==we.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Je.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return Gt(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}()),Ie=qt("ComputedValue",Ge),Ye=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ze={};function He(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Ze}var Fe=!0,Ke=!1,Je=function(){var t=He();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Fe=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Ye).version&&(Fe=!1),Fe?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Ye):(setTimeout((function(){Ke||$t("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ye)}();function ti(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function ei(t,e){t.observers.delete(e),0===t.observers.size&&ii(t)}function ii(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Je.pendingUnobservations.push(t))}function ri(){Je.inBatch++}function ni(){if(0==--Je.inBatch){hi();for(var t=Je.pendingUnobservations,e=0;e<t.length;e++){var i=t[e];i.isPendingUnobservation=!1,0===i.observers.size&&(i.isBeingObserved&&(i.isBeingObserved=!1,i.onBecomeUnobserved()),i instanceof Ge&&i.suspend())}Je.pendingUnobservations=[]}}function si(t){!function(t){"production"!==process.env.NODE_ENV&&!Je.allowStateReads&&Je.observableRequiresReaction&&console.warn("[mobx] Observable "+t.name+" being read outside a reactive context")}(t);var e=Je.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Je.inBatch>0&&ii(t),!1)}function oi(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===we.BREAK){var i=[];!function t(e,i,r){if(i.length>=1e3)return void i.push("(and many more)");i.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,i,r+1)}))}(function(t,e){return Ci(Or(t,e))}(t),i,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Ge?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+i.join("\n")+"\n*/\n    ")()}}var ai=function(){function t(t,e,i,r){void 0===t&&(t="Reaction@"+Ct()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=i,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=be.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Ct(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=we.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Je.pendingReactions.push(this),hi())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(ri(),this._isScheduled=!1,Ae(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&fi()&&"production"!==process.env.NODE_ENV&&pi({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}ni()}},t.prototype.track=function(t){if(!this.isDisposed){ri();var e,i=fi();i&&"production"!==process.env.NODE_ENV&&(e=Date.now(),Oi({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Xe(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Te(this),Pe(r)&&this.reportExceptionInDerivation(r.cause),i&&"production"!==process.env.NODE_ENV&&mi({time:Date.now()-e}),ni()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Je.disableErrorBoundaries)throw t;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Je.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(i,t),fi()&&pi({type:"error",name:this.name,message:i,error:""+t}),Je.globalReactionErrorHandlers.forEach((function(i){return i(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ri(),Te(this),ni()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[It]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=!1;"boolean"==typeof t[t.length-1]&&(i=t.pop());var r=Vi(t);if(!r)return $t("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===we.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=i?we.BREAK:we.LOG}(this,t)},t}(),li=function(t){return t()};function hi(){Je.inBatch>0||Je.isRunningReactions||li(ci)}function ci(){Je.isRunningReactions=!0;for(var t=Je.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var i=t.splice(0),r=0,n=i.length;r<n;r++)i[r].runReaction()}Je.isRunningReactions=!1}var ui=qt("Reaction",ai);function di(t){var e=li;li=function(i){return t((function(){return e(i)}))}}function fi(){return"production"!==process.env.NODE_ENV&&!!Je.spyListeners.length}function pi(t){if("production"!==process.env.NODE_ENV&&Je.spyListeners.length)for(var e=Je.spyListeners,i=0,r=e.length;i<r;i++)e[i](t)}function Oi(t){"production"!==process.env.NODE_ENV&&pi(_t(_t({},t),{spyReportStart:!0}))}var gi={spyReportEnd:!0};function mi(t){"production"!==process.env.NODE_ENV&&pi(t?_t(_t({},t),{spyReportEnd:!0}):gi)}function vi(){$t("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function yi(t){return function(e,i,r){if(r){if("production"!==process.env.NODE_ENV&&void 0!==r.get)return $t("@action cannot be used with getters");if(r.value)return{value:qe(t,r.value),enumerable:!1,configurable:!0,writable:!0};var n=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return qe(t,n.call(this))}}}return bi(t).apply(this,arguments)}}function bi(t){return function(e,i,r){Object.defineProperty(e,i,{configurable:!0,enumerable:!1,get:function(){},set:function(e){zt(this,i,wi(t,e))}})}}var wi=function(t,e,i,r){return 1===arguments.length&&"function"==typeof t?qe(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?qe(t,e):1===arguments.length&&"string"==typeof t?yi(t):!0!==r?yi(e).apply(null,arguments):void zt(t,e,qe(t.name||e,i.value,this))};function Si(t,e,i){zt(t,e,qe(e,i.bind(t)))}function xi(t,e){var i;void 0===e&&(e=Tt),"production"!==process.env.NODE_ENV&&(Nt("function"==typeof t,"Autorun expects a function as first argument"),Nt(!1==("function"==typeof(i=t)&&!0===i.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var r,n=e&&e.name||t.name||"Autorun@"+Ct();if(!e.scheduler&&!e.delay)r=new ai(n,(function(){this.track(a)}),e.onError,e.requiresObservable);else{var s=_i(e),o=!1;r=new ai(n,(function(){o||(o=!0,s((function(){o=!1,r.isDisposed||r.track(a)})))}),e.onError,e.requiresObservable)}function a(){t(r)}return r.schedule(),r.getDisposer()}wi.bound=function(t,e,i,r){return!0===r?(Si(t,e,i.value),null):i?{configurable:!0,enumerable:!1,get:function(){return Si(this,e,i.value||i.initializer.call(this)),this[e]},set:vi}:{enumerable:!1,configurable:!0,set:function(t){Si(this,e,t)},get:function(){}}};var ki=function(t){return t()};function _i(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ki}function Pi(t,e,i){return Ai("onBecomeUnobserved",t,e,i)}function Ai(t,e,i,r){var n="function"==typeof r?Or(e,i):Or(e),s="function"==typeof r?r:i,o=t+"Listeners";return n[o]?n[o].add(s):n[o]=new Set([s]),"function"!=typeof n[t]?$t("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var t=n[o];t&&(t.delete(s),0===t.size&&delete n[o])}}function Ei(t,e,i,r){"production"!==process.env.NODE_ENV&&(Nt(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),Nt("object"==typeof t,"'extendObservable' expects an object as first argument"),Nt(!nr(t),"'extendObservable' should not be used on maps, use map.merge instead"));var n=Xi(r=ue(r));return re(t),hr(t,r.name,n.enhancer),e&&Ti(t,e,i,n),t}function Xi(t){return t.defaultDecorator||(!1===t.deep?pe:de)}function Ti(t,e,i,r){var n,s,o,a;if("production"!==process.env.NODE_ENV&&(Nt(!Di(e),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),i)){var l=Lt(i);try{for(var h=Pt(l),c=h.next();!c.done;c=h.next()){(f=c.value)in e||$t("Trying to declare a decorator for unspecified property '"+Bt(f)+"'")}}catch(t){n={error:t}}finally{try{c&&!c.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}ri();try{l=Lt(e);try{for(var u=Pt(l),d=u.next();!d.done;d=u.next()){var f=d.value,p=Object.getOwnPropertyDescriptor(e,f);"production"!==process.env.NODE_ENV&&(Mt(e)||$t("'extendObservabe' only accepts plain objects as second argument"),Ni(p.value)&&$t("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var O=i&&f in i?i[f]:p.get?Se:r;"production"!==process.env.NODE_ENV&&"function"!=typeof O&&$t("Not a valid decorator for '"+Bt(f)+"', got: "+O);var g=O(t,f,p,!0);g&&Object.defineProperty(t,f,g)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}}finally{ni()}}function Ci(t){var e,i,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,i=[],e.forEach((function(t){-1===i.indexOf(t)&&i.push(t)})),i).map(Ci)),r}function $i(t,e){if(null==t)return!1;if(void 0!==e){if(!1===pr(t))return!1;if(!t[It].values.has(e))return!1;var i=Or(t,e);return Ie(i)}return Ie(t)}function Ni(t){return arguments.length>1?$t("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):$i(t)}function Ri(t,e){return null!=t&&(void 0!==e?"production"!==process.env.NODE_ENV&&(nr(t)||tr(t))?$t("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!pr(t)&&t[It].values.has(e):pr(t)||!!t[It]||Zt(t)||ui(t)||Ie(t))}function Di(t){return 1!==arguments.length&&$t("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Ri(t)}function Vi(t){switch(t.length){case 0:return Je.trackingDerivation;case 1:return Or(t[0]);case 2:return Or(t[0],t[1])}}function Wi(t,e){void 0===e&&(e=void 0),ri();try{return t.apply(e)}finally{ni()}}function Mi(t){return t[It]}function zi(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var Qi={has:function(t,e){if(e===It||"constructor"===e||e===Kt)return!0;var i=Mi(t);return zi(e)?i.has(e):e in t},get:function(t,e){if(e===It||"constructor"===e||e===Kt)return t[e];var i=Mi(t),r=i.values.get(e);if(r instanceof Yt){var n=r.get();return void 0===n&&i.has(e),n}return zi(e)&&i.has(e),t[e]},set:function(t,e,i){return!!zi(e)&&(function t(e,i,r){if(2!==arguments.length||ar(e))if(pr(e)){var n=e[It],s=n.values.get(i);s?n.write(i,r):n.addObservableProp(i,r,n.defaultEnhancer)}else if(nr(e))e.set(i,r);else if(ar(e))e.add(i);else{if(!tr(e))return $t("production"!==process.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof i&&(i=parseInt(i,10)),Nt(i>=0,"Not a valid index: '"+i+"'"),ri(),i>=e.length&&(e.length=i+1),e[i]=r,ni()}else{ri();var o=i;try{for(var a in o)t(e,a,o[a])}finally{ni()}}}(t,e,i),!0)},deleteProperty:function(t,e){return!!zi(e)&&(Mi(t).remove(e),!0)},ownKeys:function(t){return Mi(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return $t("Dynamic observable objects cannot be frozen"),!1}};function qi(t){var e=new Proxy(t,Qi);return t[It].proxy=e,e}function ji(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Ui(t,e){var i=t.interceptors||(t.interceptors=[]);return i.push(e),Dt((function(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}))}function Li(t,e){var i=$e();try{for(var r=Et(t.interceptors||[]),n=0,s=r.length;n<s&&(Nt(!(e=r[n](e))||e.type,"Intercept handlers should return nothing or a change object"),e);n++);return e}finally{Ne(i)}}function Bi(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Gi(t,e){var i=t.changeListeners||(t.changeListeners=[]);return i.push(e),Dt((function(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}))}function Ii(t,e){var i=$e(),r=t.changeListeners;if(r){for(var n=0,s=(r=r.slice()).length;n<s;n++)r[n](e);Ne(i)}}var Yi={get:function(t,e){return e===It?t[It]:"length"===e?t[It].getArrayLength():"number"==typeof e?Fi.get.call(t,e):"string"!=typeof e||isNaN(e)?Fi.hasOwnProperty(e)?Fi[e]:t[e]:Fi.get.call(t,parseInt(e))},set:function(t,e,i){return"length"===e&&t[It].setArrayLength(i),"number"==typeof e&&Fi.set.call(t,e,i),"symbol"==typeof e||isNaN(e)?t[e]=i:Fi.set.call(t,parseInt(e),i),!0},preventExtensions:function(t){return $t("Observable arrays cannot be frozen"),!1}};function Zi(t,e,i,r){void 0===i&&(i="ObservableArray@"+Ct()),void 0===r&&(r=!1);var n,s,o,a=new Hi(i,e,r);n=a.values,s=It,o=a,Object.defineProperty(n,s,{enumerable:!1,writable:!1,configurable:!0,value:o});var l=new Proxy(a.values,Yi);if(a.proxy=l,t&&t.length){var h=Ue(!0);a.spliceWithArray(0,0,t),Le(h)}return l}var Hi=function(){function t(t,e,i){this.owned=i,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Yt(t||"ObservableArray@"+Ct()),this.enhancer=function(i,r){return e(i,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Ui(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Gi(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var i=new Array(t-e),r=0;r<t-e;r++)i[r]=void 0;this.spliceWithArray(e,0,i)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,i){var r=this;Ee(this.atom);var n=this.values.length;if(void 0===t?t=0:t>n?t=n:t<0&&(t=Math.max(0,n+t)),e=1===arguments.length?n-t:null==e?0:Math.max(0,Math.min(e,n-t)),void 0===i&&(i=Xt),ji(this)){var s=Li(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:i});if(!s)return Xt;e=s.removedCount,i=s.added}if(i=0===i.length?i:i.map((function(t){return r.enhancer(t,void 0)})),"production"!==process.env.NODE_ENV){var o=i.length-e;this.updateArrayLength(n,o)}var a=this.spliceItemsIntoValues(t,e,i);return 0===e&&0===i.length||this.notifyArraySplice(t,i,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,i){var r;if(i.length<1e4)return(r=this.values).splice.apply(r,Et([t,e],i));var n=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(i,this.values.slice(t+e)),n},t.prototype.notifyArrayChildUpdate=function(t,e,i){var r=!this.owned&&fi(),n=Bi(this),s=n||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:i}:null;r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},s),{name:this.atom.name})),this.atom.reportChanged(),n&&Ii(this,s),r&&"production"!==process.env.NODE_ENV&&mi()},t.prototype.notifyArraySplice=function(t,e,i){var r=!this.owned&&fi(),n=Bi(this),s=n||r?{object:this.proxy,type:"splice",index:t,removed:i,added:e,removedCount:i.length,addedCount:e.length}:null;r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},s),{name:this.atom.name})),this.atom.reportChanged(),n&&Ii(this,s),r&&"production"!==process.env.NODE_ENV&&mi()},t}(),Fi={intercept:function(t){return this[It].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[It].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[It];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this[It];switch(arguments.length){case 0:return[];case 1:return n.spliceWithArray(t);case 2:return n.spliceWithArray(t,e)}return n.spliceWithArray(t,e,i)},spliceWithArray:function(t,e,i){return this[It].spliceWithArray(t,e,i)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this[It];return i.spliceWithArray(i.values.length,0,t),i.values.length},pop:function(){return this.splice(Math.max(this[It].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this[It];return i.spliceWithArray(0,0,t),i.values.length},reverse:function(){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[It],i=e.dehanceValues(e.values).indexOf(t);return i>-1&&(this.splice(i,1),!0)},get:function(t){var e=this[It];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var i=this[It],r=i.values;if(t<r.length){Ee(i.atom);var n=r[t];if(ji(i)){var s=Li(i,{type:"update",object:i.proxy,index:t,newValue:e});if(!s)return;e=s.newValue}(e=i.enhancer(e,n))!==n&&(r[t]=e,i.notifyArrayChildUpdate(t,e,n))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);i.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){Fi[t]=function(){var e=this[It];e.atom.reportObserved();var i=e.dehanceValues(e.values);return i[t].apply(i,arguments)}}));var Ki,Ji=qt("ObservableArrayAdministration",Hi);function tr(t){return Wt(t)&&Ji(t[It])}var er,ir={},rr=function(){function t(t,e,i){if(void 0===e&&(e=oe),void 0===i&&(i="ObservableMap@"+Ct()),this.enhancer=e,this.name=i,this[Ki]=ir,this._keysAtom=Ht(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Je.trackingDerivation)return this._has(t);var i=this._hasMap.get(t);if(!i){var r=i=new Be(this._has(t),ae,this.name+"."+Bt(t)+"?",!1);this._hasMap.set(t,r),Pi(r,(function(){return e._hasMap.delete(t)}))}return i.get()},t.prototype.set=function(t,e){var i=this._has(t);if(ji(this)){var r=Li(this,{type:i?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return i?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(ji(this)&&!(n=Li(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var i=fi(),r=Bi(this),n=r||i?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return i&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},n),{name:this.name,key:t})),Wi((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),r&&Ii(this,n),i&&"production"!==process.env.NODE_ENV&&mi(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var i=this._hasMap.get(t);i&&i.setNewValue(e)},t.prototype._updateValue=function(t,e){var i=this._data.get(t);if((e=i.prepareNewValue(e))!==Je.UNCHANGED){var r=fi(),n=Bi(this),s=n||r?{type:"update",object:this,oldValue:i.value,name:t,newValue:e}:null;r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},s),{name:this.name,key:t})),i.setNewValue(e),n&&Ii(this,s),r&&"production"!==process.env.NODE_ENV&&mi()}},t.prototype._addValue=function(t,e){var i=this;Ee(this._keysAtom),Wi((function(){var r=new Be(e,i.enhancer,i.name+"."+Bt(t),!1);i._data.set(t,r),e=r.value,i._updateHasMapEntry(t,!0),i._keysAtom.reportChanged()}));var r=fi(),n=Bi(this),s=n||r?{type:"add",object:this,name:t,newValue:e}:null;r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},s),{name:this.name,key:t})),n&&Ii(this,s),r&&"production"!==process.env.NODE_ENV&&mi()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,i=Array.from(this.keys());return wr({next:function(){return e<i.length?{value:t.get(i[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,i=Array.from(this.keys());return wr({next:function(){if(e<i.length){var r=i[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(Ki=It,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var i,r;try{for(var n=Pt(this),s=n.next();!s.done;s=n.next()){var o=At(s.value,2),a=o[0],l=o[1];t.call(e,l,a,this)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}},t.prototype.merge=function(t){var e=this;return nr(t)&&(t=t.toJS()),Wi((function(){Mt(t)?Lt(t).forEach((function(i){return e.set(i,t[i])})):Array.isArray(t)?t.forEach((function(t){var i=At(t,2),r=i[0],n=i[1];return e.set(r,n)})):jt(t)?(t.constructor!==Map&&$t("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,i){return e.set(i,t)}))):null!=t&&$t("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Wi((function(){Ce((function(){var e,i;try{for(var r=Pt(t.keys()),n=r.next();!n.done;n=r.next()){var s=n.value;t.delete(s)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Wi((function(){var i,r=Mt(i=t)?Object.keys(i):Array.isArray(i)?i.map((function(t){return At(t,1)[0]})):jt(i)||nr(i)?Array.from(i.keys()):$t("Cannot get keys from '"+i+"'");Array.from(e.keys()).filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,i={};try{for(var r=Pt(this),n=r.next();!n.done;n=r.next()){var s=At(n.value,2),o=s[0],a=s[1];i["symbol"==typeof o?o:Bt(o)]=a}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return Bt(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return"production"!==process.env.NODE_ENV&&Nt(!0!==e,"`observe` doesn't support fireImmediately=true in combination with maps."),Gi(this,t)},t.prototype.intercept=function(t){return Ui(this,t)},t}(),nr=qt("ObservableMap",rr),sr={},or=function(){function t(t,e,i){if(void 0===e&&(e=oe),void 0===i&&(i="ObservableSet@"+Ct()),this.name=i,this[er]=sr,this._data=new Set,this._atom=Ht(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,i)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Wi((function(){Ce((function(){var e,i;try{for(var r=Pt(t._data.values()),n=r.next();!n.done;n=r.next()){var s=n.value;t.delete(s)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var i,r;try{for(var n=Pt(this),s=n.next();!s.done;s=n.next()){var o=s.value;t.call(e,o,o,this)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((Ee(this._atom),ji(this))&&!(n=Li(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Wi((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var i=fi(),r=Bi(this),n=r||i?{type:"add",object:this,newValue:t}:null;i&&"production"!==process.env.NODE_ENV&&Oi(n),r&&Ii(this,n),i&&"production"!==process.env.NODE_ENV&&mi()}return this},t.prototype.delete=function(t){var e=this;if(ji(this)&&!(n=Li(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var i=fi(),r=Bi(this),n=r||i?{type:"delete",object:this,oldValue:t}:null;return i&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},n),{name:this.name})),Wi((function(){e._atom.reportChanged(),e._data.delete(t)})),r&&Ii(this,n),i&&"production"!==process.env.NODE_ENV&&mi(),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),i=Array.from(this.values());return wr({next:function(){var r=t;return t+=1,r<i.length?{value:[e[r],i[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,i=Array.from(this._data.values());return wr({next:function(){return e<i.length?{value:t.dehanceValue(i[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return ar(t)&&(t=t.toJS()),Wi((function(){Array.isArray(t)||Ut(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&$t("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return"production"!==process.env.NODE_ENV&&Nt(!0!==e,"`observe` doesn't support fireImmediately=true in combination with sets."),Gi(this,t)},t.prototype.intercept=function(t){return Ui(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(er=It,Symbol.iterator)]=function(){return this.values()},t}(),ar=qt("ObservableSet",or),lr=function(){function t(t,e,i,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=i,this.defaultEnhancer=r,this.keysAtom=new Yt(i+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var i=this.target,r=this.values.get(t);if(r instanceof Ge)r.set(e);else{if(ji(this)){if(!(o=Li(this,{type:"update",object:this.proxy||i,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==Je.UNCHANGED){var n=Bi(this),s=fi(),o=n||s?{type:"update",object:this.proxy||i,oldValue:r.value,name:t,newValue:e}:null;s&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},o),{name:this.name,key:t})),r.setNewValue(e),n&&Ii(this,o),s&&"production"!==process.env.NODE_ENV&&mi()}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),i=e.get(t);if(i)return i.get();var r=!!this.values.get(t);return i=new Be(r,ae,this.name+"."+Bt(t)+"?",!1),e.set(t,i),i.get()},t.prototype.addObservableProp=function(t,e,i){void 0===i&&(i=this.defaultEnhancer);var r,n,s=this.target;if(r=s,n=t,"production"===process.env.NODE_ENV||Qt(r,n)||$t("Cannot make property '"+n.toString()+"' observable, it is not configurable and writable in the target object"),ji(this)){var o=Li(this,{object:this.proxy||s,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var a=new Be(e,i,this.name+"."+Bt(t),!1);this.values.set(t,a),e=a.value,Object.defineProperty(s,t,function(t){return cr[t]||(cr[t]={configurable:!0,enumerable:!0,get:function(){return this[It].read(t)},set:function(e){this[It].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,i){var r=this.target;i.name=i.name||this.name+"."+Bt(e),this.values.set(e,new Ge(i)),(t===r||Qt(t,e))&&Object.defineProperty(t,e,function(t){return ur[t]||(ur[t]={configurable:Je.computedConfigurable,enumerable:!1,get:function(){return dr(this).read(t)},set:function(e){dr(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(ji(this))if(!(a=Li(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{ri();var i=Bi(this),r=fi(),n=this.values.get(t),s=n&&n.get();if(n&&n.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var a=i||r?{type:"remove",object:this.proxy||e,oldValue:s,name:t}:null;r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},a),{name:this.name,key:t})),i&&Ii(this,a),r&&"production"!==process.env.NODE_ENV&&mi()}finally{ni()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return"production"!==process.env.NODE_ENV&&Nt(!0!==e,"`observe` doesn't support the fire immediately property for observable objects."),Gi(this,t)},t.prototype.intercept=function(t){return Ui(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var i=Bi(this),r=fi(),n=i||r?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(r&&"production"!==process.env.NODE_ENV&&Oi(_t(_t({},n),{name:this.name,key:t})),i&&Ii(this,n),r&&"production"!==process.env.NODE_ENV&&mi(),this.pendingKeys){var s=this.pendingKeys.get(t);s&&s.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var i=[];try{for(var r=Pt(this.values),n=r.next();!n.done;n=r.next()){var s=At(n.value,2),o=s[0];s[1]instanceof Be&&i.push(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},t}();function hr(t,e,i){if(void 0===e&&(e=""),void 0===i&&(i=oe),Object.prototype.hasOwnProperty.call(t,It))return t[It];"production"!==process.env.NODE_ENV&&Nt(Object.isExtensible(t),"Cannot make the designated object observable; it is not extensible"),Mt(t)||(e=(t.constructor.name||"ObservableObject")+"@"+Ct()),e||(e="ObservableObject@"+Ct());var r=new lr(t,new Map,Bt(e),i);return zt(t,It,r),r}var cr=Object.create(null),ur=Object.create(null);function dr(t){var e=t[It];return e||(re(t),t[It])}var fr=qt("ObservableObjectAdministration",lr);function pr(t){return!!Wt(t)&&(re(t),fr(t[It]))}function Or(t,e){if("object"==typeof t&&null!==t){if(tr(t))return void 0!==e&&$t("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),t[It].atom;if(ar(t))return t[It];if(nr(t)){var i=t;return void 0===e?i._keysAtom:((r=i._data.get(e)||i._hasMap.get(e))||$t("production"!==process.env.NODE_ENV&&"the entry '"+e+"' does not exist in the observable map '"+gr(t)+"'"),r)}var r;if(re(t),e&&!t[It]&&t[e],pr(t))return e?((r=t[It].values.get(e))||$t("production"!==process.env.NODE_ENV&&"no observable property '"+e+"' found on the observable object '"+gr(t)+"'"),r):$t("production"!==process.env.NODE_ENV&&"please specify a property");if(Zt(t)||Ie(t)||ui(t))return t}else if("function"==typeof t&&ui(t[It]))return t[It];return $t("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+t)}function gr(t,e){return(void 0!==e?Or(t,e):pr(t)||nr(t)||ar(t)?function t(e,i){return e||$t("Expecting some object"),void 0!==i?t(Or(e,i)):Zt(e)||Ie(e)||ui(e)||nr(e)||ar(e)?e:(re(e),e[It]?e[It]:void $t("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+e))}(t):Or(t)).name}var mr=Object.prototype.toString;function vr(t,e,i){return void 0===i&&(i=-1),function t(e,i,r,n,s){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return!1;if(e!=e)return i!=i;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof i)return!1;var a=mr.call(e);if(a!==mr.call(i))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+i;case"[object Number]":return+e!=+e?+i!=+i:0==+e?1/+e==1/i:+e==+i;case"[object Date]":case"[object Boolean]":return+e==+i;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(i);case"[object Map]":case"[object Set]":r>=0&&r++}e=yr(e),i=yr(i);var l="[object Array]"===a;if(!l){if("object"!=typeof e||"object"!=typeof i)return!1;var h=e.constructor,c=i.constructor;if(h!==c&&!("function"==typeof h&&h instanceof h&&"function"==typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in i)return!1}if(0===r)return!1;r<0&&(r=-1);s=s||[];var u=(n=n||[]).length;for(;u--;)if(n[u]===e)return s[u]===i;if(n.push(e),s.push(i),l){if((u=e.length)!==i.length)return!1;for(;u--;)if(!t(e[u],i[u],r-1,n,s))return!1}else{var d=Object.keys(e),f=void 0;if(u=d.length,Object.keys(i).length!==u)return!1;for(;u--;)if(f=d[u],!br(i,f)||!t(e[f],i[f],r-1,n,s))return!1}return n.pop(),s.pop(),!0}(t,e,i)}function yr(t){return tr(t)?t.slice():jt(t)||nr(t)||Ut(t)||ar(t)?Array.from(t.entries()):t}function br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wr(t){return t[Symbol.iterator]=Sr,t}function Sr(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch(t){var xr=He();"undefined"==typeof process&&(xr.process={}),xr.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var t=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+t+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Je.spyListeners.push(t),Dt((function(){Je.spyListeners=Je.spyListeners.filter((function(e){return e!==t}))})))},extras:{getDebugName:gr},$mobx:It});const kr=Symbol("LitMobxRenderReaction"),_r=Symbol("LitMobxRequestUpdate");class Pr extends(function(t){var e,i;return i=class extends t{constructor(){super(...arguments),this[e]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const t=this.constructor.name||this.nodeName;this[kr]=new ai(t+".update()",this[_r]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[kr]&&(this[kr].dispose(),this[kr]=void 0)}update(t){this[kr]?this[kr].track(super.update.bind(this,t)):super.update(t)}},e=_r,i}(nt)){}var Ar;!function(t){t[t.initialized=0]="initialized",t[t.loading=1]="loading",t[t.finished=2]="finished",t[t.cancelled=3]="cancelled",t[t.failed=4]="failed"}(Ar||(Ar={}));class Er{constructor(t,e){this.response=null,this.url=t,this.abortController=new AbortController,this.requestOptions={...e,signal:this.abortController.signal},this.status=Ar.initialized}async getJson(){const t=await this.getResponse();if(null===t)return null;try{return await t.json()}catch(e){return console.error(`Error while parsing json response! (${this.url})`,e,t),null}}async getText(){const t=await this.getResponse();return t&&await t.text()}async getResponse(){if(this.status!==Ar.initialized)return this.response;this.status=Ar.loading;try{this.response=await fetch(this.url,this.requestOptions),this.status=Ar.finished,this.response.ok||console.error(`Response was not successful! (${this.url})`,this.response)}catch(t){console.error(`Error while fetching data! (${this.url})`,t),this.status=Ar.failed}return this.response}cancel(){this.status===Ar.loading&&(this.abortController.abort(),this.status=Ar.cancelled)}}class Xr{constructor(t){this.uniqueRequests=new Map,this.requestOptions=t}createRequest(t,e){const i=this.buildUrl(t,e);return new Er(i.toString(),this.requestOptions)}createUniqueRequest(t,e){const i=this.buildUrl(t,e),r=this.uniqueRequests.get(i);r&&r.cancel();const n=new Er(i,this.requestOptions);return this.uniqueRequests.set(i,n),n}buildUrl(t,e){const i=new URL(t,window.location.origin);if(e)for(const[t,r]of Object.entries(e))i.searchParams.append(t,r.toString());return i.toString()}}class Tr{constructor(t){this.sourcePath="public/js",this.manifestPath="public/examples.json",this.exampleData=null,this.currentExample=null,this.requestService=t,this.loadExampleData()}get nestedExamples(){const t=this.hasExamples?Object.entries(this.exampleData):[];return new Map(t.map(([t,e])=>[this.getCleanName(t),e.map(e=>({name:this.getCleanName(e),path:`${t}/${e}.js`}))]))}get examplesList(){return Array.from(this.nestedExamples.values()).reduce((t,e)=>[...t,...e],[])}get hasExamples(){return null!==this.exampleData}getExampleByPath(t){return this.examplesList.find(e=>e.path===t)||null}setCurrentExample(t){this.currentExample=t}async loadExampleSource(t){const e=this.requestService.createUniqueRequest(`${this.sourcePath}/${t}`,{"no-cache":Date.now()}),i=await e.getText();if(null===i)throw new Error(`Could not fetch file ${t} on path ${this.sourcePath}!`);return i}async loadExampleData(){const t=this.requestService.createUniqueRequest(this.manifestPath,{"no-cache":Date.now()}),e=await t.getJson();if(null===e)throw new Error(`Could not fetch manifest.json on path ${this.manifestPath}!`);!function(t,e){var i="string"==typeof t?t:t.name||"<unnamed action>",r="function"==typeof t?t:e;"production"!==process.env.NODE_ENV&&(Nt("function"==typeof r&&0===r.length,"`runInAction` expects a function without arguments"),"string"==typeof i&&i||$t("actions should have valid names, got: '"+i+"'")),je(i,r,this,void 0)}(()=>{this.exampleData=e})}getCleanName(t){return t.split("-").map(t=>[...t].some(t=>t!==t.toUpperCase())?t[0].toUpperCase()+t.substr(1):t).join(" ")}}t([ve],Tr.prototype,"exampleData",void 0),t([ve],Tr.prototype,"currentExample",void 0),t([ke],Tr.prototype,"nestedExamples",null),t([ke],Tr.prototype,"examplesList",null),t([ke],Tr.prototype,"hasExamples",null),t([wi],Tr.prototype,"setCurrentExample",null),t([wi],Tr.prototype,"loadExampleData",null);class Cr{constructor(){this.currentHash=window.location.hash.slice(1),window.addEventListener("hashchange",this.handleHashChange)}setHash(t){t&&t!==this.currentHash&&(window.location.hash=t)}handleHashChange(){this.currentHash=window.location.hash.slice(1)}}t([ve],Cr.prototype,"currentHash",void 0),t([wi.bound],Cr.prototype,"handleHashChange",null);const $r=new class{constructor(t){this.dependencies=new Map,this.dependencyStack=new Set,this.dependencyFactories=t}async loadDependencies(t){const e=Object.keys(this.dependencyFactories);for(const i of e)await this.loadDependency(i,t);return this.dependencies}get(t){if(!this.dependencies.has(t))throw new Error(`Could not found loaded dependency ${t}!`);return this.dependencies.get(t)}async loadDependency(t,e){if(this.dependencies.has(t))return this.dependencies.get(t);if(this.dependencyStack.has(t)){const e=[...this.dependencyStack,t].join(" > ");throw new Error("Circular dependencies detected! Stack: "+e)}this.dependencyStack.add(t);const i=await this.dependencyFactories[t](this,e);return this.dependencyStack.delete(t),this.dependencies.set(t,i),i}}({requestService:(t,e)=>new Xr(e.requestOptions),exampleService:t=>new Tr(t.get("requestService")),locationService:()=>new Cr});let Nr=class extends Pr{constructor(){super(...arguments),this.exampleService=$r.get("exampleService"),this.locationService=$r.get("locationService")}connectedCallback(){super.connectedCallback(),function(t,e,i){void 0===i&&(i=Tt),"production"!==process.env.NODE_ENV&&(Nt("function"==typeof t,"First argument to reaction should be a function"),Nt("object"==typeof i,"Third argument of reactions should be an object"));var r,n,s,o=i.name||"Reaction@"+Ct(),a=wi(o,i.onError?(r=i.onError,n=e,function(){try{return n.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!i.scheduler&&!i.delay,h=_i(i),c=!0,u=!1,d=i.compareStructural?Ft.structural:i.equals||Ft.default,f=new ai(o,(function(){c||l?p():u||(u=!0,h(p))}),i.onError,i.requiresObservable);function p(){if(u=!1,!f.isDisposed){var e=!1;f.track((function(){var i=t(f);e=c||!d(s,i),s=i})),c&&i.fireImmediately&&a(s,f),c||!0!==e||a(s,f),c&&(c=!1)}}f.schedule(),f.getDisposer()}(()=>[this.locationService.currentHash,this.exampleService.hasExamples],([t,e])=>{var i;if(!e)return;if(!t)return void this.locationService.setHash(null===(i=this.exampleService.examplesList[0])||void 0===i?void 0:i.path);const r=this.exampleService.getExampleByPath(t);this.exampleService.setCurrentExample(r)})}render(){return z`
            <div class="${yt}">
                <aside class=${bt}>
                    <div class=${wt}>
                        <header>
                            <h1 class=${xt}>ExoJs Examples</h1>
                        </header>
                        <my-navigation />
                    </div>
                </aside>
                <main class="${St}">
                    <my-editor></my-editor>
                </main>
            </div>
        `}};Nr.styles=it("::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-button{width:0;height:0}::-webkit-scrollbar-thumb{border:0;border-radius:0}::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb:hover{background:hsla(0,0%,100%,.1)}::-webkit-scrollbar-thumb:active{background:hsla(0,0%,100%,.1)}::-webkit-scrollbar-track{background:rgba(0,0,0,.2);border:0;border-radius:0}::-webkit-scrollbar-track:active,::-webkit-scrollbar-track:hover{background:rgba(0,0,0,.2)}::-webkit-scrollbar-corner{background:transparent}*{box-sizing:border-box}.app_e274581c{min-width:1120px;transition:transform .35s ease;padding-left:320px;display:block;width:100%}.app_e274581c,.navigation_e274581c{position:absolute;left:0;top:0;bottom:0}.navigation_e274581c{transition:all .35s ease;width:320px;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);background:#232323;overflow:hidden;outline:none;height:100%}.viewport_e274581c{position:absolute;overflow-y:auto;width:100%;bottom:0;left:0;top:0}.content_e274581c{position:relative;overflow-x:hidden;overflow-y:auto;height:100%}.title_e274581c{height:64px;padding:8px 16px;line-height:48px;font-size:20px;font-weight:500;color:#fff;position:relative;overflow:hidden;cursor:default;margin:0}"),Nr=t([H("my-app")],Nr);const Rr="navigationLink_0ccc2d3d";let Dr=class extends nt{render(){return z`
            <a href=${this.href} class=${Rr}>
                <slot></slot>
            </a>
        `}};Dr.styles=it(".navigationLink_0ccc2d3d{transition:background-color .12s cubic-bezier(0,0,.2,1);padding:0 16px;height:48px;font-size:16px;line-height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);font-weight:400;color:#fff;text-decoration:none;position:relative;cursor:pointer;display:block;box-sizing:border-box}.navigationLink_0ccc2d3d:hover{background-color:hsla(0,0%,100%,.12)}.navigationLink_0ccc2d3d:active{background-color:hsla(0,0%,100%,.18)}"),t([K({type:String})],Dr.prototype,"href",void 0),Dr=t([H("my-navigation-link")],Dr);const Vr="navigationTitle_84ac336b";let Wr=class extends nt{render(){return z`
            <div class=${Vr}>
                <slot></slot>
            </div>
        `}};Wr.styles=it(".navigationTitle_84ac336b{transition:background-color .12s cubic-bezier(0,0,.2,1);padding:0 16px;height:48px;font-size:14px;line-height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);font-weight:500;color:#ff0;text-decoration:none;position:relative;cursor:default;display:block}"),Wr=t([H("my-navigation-title")],Wr);const Mr="navigationSection_4cdca904";let zr=class extends nt{render(){return z`
            <section class=${Mr}>
                <my-navigation-title>${this.headline}</my-navigation-title>
                <slot></slot>
            </section>
        `}};zr.styles=it(".navigationSection_4cdca904{display:flex;flex-direction:column}"),t([K({type:String})],zr.prototype,"headline",void 0),zr=t([H("my-navigation-section")],zr);const Qr="navigation_d61dfd22";let qr=class extends Pr{constructor(){super(...arguments),this.exampleService=$r.get("exampleService")}render(){const{hasExamples:t,nestedExamples:e}=this.exampleService;return t?z`
            <nav class=${Qr}>
                ${Array.from(e.entries()).map(([t,e])=>this.renderCategory(t,e))}
            </nav>
        `:z`<my-loading-indicator />`}renderCategory(t,e){return z`
            <my-navigation-section headline=${t}>
                ${e.map(({name:t,path:e})=>this.renderLink(t,e))}
            </my-navigation-section>
        `}renderLink(t,e){return z`
            <my-navigation-link href="#${e}">${t}</my-navigation-link>
        `}};qr.styles=it(".navigation_d61dfd22{padding:8px 0}"),qr=t([H("my-navigation")],qr);const jr="preview_2e09ccf0";let Ur=class extends nt{constructor(){super(...arguments),this.sourceCode=null}render(){if(null===this.sourceCode)return z`<span>No Sourcecode to preview...</span>`;return z`
            <iframe 
                class=${jr} 
                onload=${this.onLoadIframe}
                onerror=${this.onErrorIframe}
                src=${"preview.html"}
             />
        `}onLoadIframe(t){console.log("onLoadIframe",t)}onErrorIframe(t){console.log("onErrorIframe",t)}async createIframeElement(){return new Promise((t,e)=>{const i=document.createElement("iframe");i.classList.add(jr),i.onload=()=>{try{this.addIframeScript(i,this.sourceCode)}catch(t){return e()}t(i)},i.onerror=()=>e(),i.src="preview.html"})}addIframeScript(t,e){var i;const r=null===(i=t.contentWindow)||void 0===i?void 0:i.document.body;if(!r)throw new Error("Could not access iframe body element!");const n=document.createElement("script");n.type="text/javascript",n.innerHTML=`\n            window.onload = function () {\n                ${e}\n            }\n        `,r.appendChild(n)}};Ur.styles=it(".preview_2e09ccf0{width:100%;height:100%;border:0}canvas{display:block}"),t([K({type:String})],Ur.prototype,"sourceCode",void 0),Ur=t([H("my-editor-preview")],Ur);const Lr="codemirrorElement_e2494e1a";let Br="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Br.length;t++)Br[t]+=Br[t-1];function Gr(t){for(let e=1;e<Br.length;e+=2)if(Br[e]>t)return Br[e-1]<=t;return!1}function Ir(t){return t>=127462&&t<=127487}function Yr(t,e){if(e==t.length)return e;e&&Hr(t.charCodeAt(e))&&Fr(t.charCodeAt(e-1))&&e--;let i=Kr(t,e);for(e+=Jr(i);e<t.length;){let r=Kr(t,e);if(8205==i||8205==r||Gr(r))e+=Jr(r),i=r;else{if(!Ir(r))break;{let i=0,r=e-2;for(;r>=0&&Ir(Kr(t,r));)i++,r-=2;if(i%2==0)break;e+=2}}}return e}function Zr(t,e){for(;e>0;){let i=Yr(t,e-2);if(i<e)return i;e--}return 0}function Hr(t){return t>=56320&&t<57344}function Fr(t){return t>=55296&&t<56320}function Kr(t,e){let i=t.charCodeAt(e);if(!Fr(i)||e+1==t.length)return i;let r=t.charCodeAt(e+1);return Hr(r)?r-56320+(i-55296<<10)+65536:i}function Jr(t){return t<65536?1:2}function tn(t,e,i){for(let r=0;r<t.length;)9==t.charCodeAt(r)?(e+=i-e%i,r++):(e++,r=Yr(t,r));return e}function en(t,e,i,r){for(let n=0;n<t.length;){if(e>=i)return{offset:n,leftOver:0};e+=9==t.charCodeAt(n)?r-e%r:1,n=Yr(t,n)}return{offset:t.length,leftOver:i-e}}class rn{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);for(let e=0;e<nn.length;e+=2){if(nn[e]!=this)continue;let i=nn[e+1];if(i.start<=t&&i.end>=t)return i}return on(this,this.lineInner(t,!1,1,0).finish(this))}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);for(let e=0;e<nn.length;e+=2){if(nn[e]!=this)continue;let i=nn[e+1];if(i.number==t)return i}return on(this,this.lineInner(t,!0,1,0).finish(this))}replace(t,e,i){let r=[];return this.decompose(0,t,r),r.push(i),this.decompose(e,this.length,r),ln.from(r,this.length-(e-t)+i.length)}append(t){return 0==this.length?t:0==t.length?this:ln.from([this,t],this.length+t.length)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i),ln.from(i,e-t)}eq(t){return this==t||function(t,e){if(t.length!=e.length||t.lines!=e.lines)return!1;let i=new dn(t),r=new dn(e);for(let t=0,e=0;;){if(i.lineBreak!=r.lineBreak||i.done!=r.done)return!1;if(i.done)return!0;if(i.lineBreak)i.next(),r.next(),t=e=0;else{let n=i.value.slice(t),s=r.value.slice(e);if(n.length==s.length){if(n!=s)return!1;i.next(),r.next(),t=e=0}else if(n.length>s.length){if(n.slice(0,s.length)!=s)return!1;t+=s.length,r.next(),e=0}else{if(s.slice(0,n.length)!=n)return!1;e+=n.length,i.next(),t=0}}}}(this,t)}iter(t=1){return new dn(this,t)}iterRange(t,e=this.length){return new fn(this,t,e)}iterLines(t=0){return new pn(this,t)}toString(){return this.sliceString(0)}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");if(1==t.length&&!t[0]&&rn.empty)return rn.empty;let e=hn(t);return e<1024?new an(t,e):ln.from(an.split(t,[]),e)}}"undefined"!=typeof Symbol&&(rn.prototype[Symbol.iterator]=function(){return this.iter()});let nn=[],sn=-2;function on(t,e){return sn=(sn+2)%12,nn[sn]=t,nn[sn+1]=e,e}class an extends rn{constructor(t,e=hn(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,r){for(let n=0;;n++){let s=this.text[n],o=r+s.length;if((e?i:o)>=t)return new On(r,o,i,s);r=o+1,i++}}decompose(t,e,i){i.push(new an(un(this.text,t,e),Math.min(e,this.length)-Math.max(0,t)))}lastLineLength(){return this.text[this.text.length-1].length}firstLineLength(){return this.text[0].length}replace(t,e,i){let r=this.length+i.length-(e-t);return r>=1024||!(i instanceof an)?super.replace(t,e,i):new an(cn(this.text,cn(i.text,un(this.text,0,t)),e),r)}sliceString(t,e=this.length,i="\n"){return un(this.text,t,e).join(i)}flatten(t){t[t.length-1]+=this.text[0];for(let e=1;e<this.text.length;e++)t.push(this.text[e])}static split(t,e){let i=[],r=-1;for(let n of t)for(;;){let t=r+n.length+1;if(t<512){r=t,i.push(n);break}let s=512-r-1,o=n.charCodeAt(s);o>=56320&&o<57344&&s++,i.push(n.slice(0,s)),e.push(new an(i,512)),n=n.slice(s),r=-1,i=[]}return-1!=r&&e.push(new an(i,r)),e}}class ln extends rn{constructor(t,e){super(),this.children=t,this.length=e,this.lines=1;for(let e of t)this.lines+=e.lines-1}lineInner(t,e,i,r){for(let n=0;;n++){let s=this.children[n],o=r+s.length,a=i+s.lines-1;if((e?a:o)>=t){let a,l=s.lineInner(t,e,i,r);return l.start==r&&(a=this.lineLengthTo(n))&&(l.start-=a,l.content=null),l.end==o&&(a=this.lineLengthFrom(n+1))&&(l.end+=a,l.content=null),l}r=o,i=a}}decompose(t,e,i){for(let r=0,n=0;n<e&&r<this.children.length;r++){let s=this.children[r],o=n+s.length;t<o&&e>n&&(n>=t&&o<=e?i.push(s):s.decompose(t-n,e-n,i)),n=o}}lineLengthTo(t){let e=0;for(let i=t-1;i>=0;i--){let t=this.children[i];if(t.lines>1)return e+t.lastLineLength();e+=t.length}return e}lastLineLength(){return this.lineLengthTo(this.children.length)}lineLengthFrom(t){let e=0;for(let i=t;i<this.children.length;i++){let t=this.children[i];if(t.lines>1)return e+t.firstLineLength();e+=t.length}return e}firstLineLength(){return this.lineLengthFrom(0)}replace(t,e,i){if(i.length<512&&e-t<512){let r=i.length-(e-t);for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(t>=s&&e<=a&&o.length+r<this.length+r>>2&&o.length+r>0){let a=this.children.slice();return a[n]=o.replace(t-s,e-s,i),new ln(a,this.length+r)}s=a}}return super.replace(t,e,i)}sliceString(t,e=this.length,i="\n"){let r="";for(let n=0,s=0;s<e&&n<this.children.length;n++){let o=this.children[n],a=s+o.length;t<a&&e>s&&(r+=o.sliceString(t-s,e-s,i)),s=a}return r}flatten(t){for(let e of this.children)e.flatten(t)}static from(t,e){if(!t.every(t=>t instanceof rn))throw new Error("NOP");if(e<1024){let i=[""];for(let e of t)e.flatten(i);return new an(i,e)}let i=Math.max(512,e>>3),r=i<<1,n=i>>1,s=[],o=0,a=[];function l(t){let e,c=t.length;if(c)if(c>r&&t instanceof ln)for(let e of t.children)l(e);else c>n&&(o>n||0==o)?(h(),s.push(t)):t instanceof an&&o>0&&(e=a[a.length-1])instanceof an&&t.length+e.length<=512?(o+=c,a[a.length-1]=new an(cn(t.text,e.text.slice()),t.length+e.length)):(o+c>i&&h(),o+=c,a.push(t))}function h(){0!=o&&(s.push(1==a.length?a[0]:ln.from(a,o)),o=0,a.length=0)}for(let e of t)l(e);return h(),1==s.length?s[0]:new ln(s,e)}}function hn(t){let e=-1;for(let i of t)e+=i.length+1;return e}function cn(t,e,i=0,r=1e9){for(let n=0,s=0,o=!0;s<t.length&&n<=r;s++){let a=t[s],l=n+a.length;l>=i&&(l>r&&(a=a.slice(0,r-n)),n<i&&(a=a.slice(i-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function un(t,e,i){return cn(t,[""],e,i)}rn.empty=rn.of([""]);class dn{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?0:t instanceof an?t.text.length:t.children.length]}next(t=0){for(;;){let e=this.nodes.length-1;if(e<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let i=this.nodes[e],r=this.offsets[e];if(i instanceof an){if(r!=(this.dir>0?0:i.text.length)&&!this.lineBreak){if(this.lineBreak=!0,0==t)return this.value="\n",this;t--;continue}let n=i.text[r-(this.dir<0?1:0)];if(this.offsets[e]=r+=this.dir,r==(this.dir>0?i.text.length:0)&&(this.nodes.pop(),this.offsets.pop()),this.lineBreak=!1,n.length>Math.max(0,t))return this.value=0==t?n:this.dir>0?n.slice(t):n.slice(0,n.length-t),this;t-=n.length}else if(r==(this.dir>0?i.children.length:0))this.nodes.pop(),this.offsets.pop();else{let n=i.children[this.dir>0?r:r-1],s=n.length;this.offsets[e]=r+this.dir,t>s?t-=s:(this.nodes.push(n),this.offsets.push(this.dir>0?0:n instanceof an?n.text.length:n.children.length))}}}}class fn{constructor(t,e,i){this.value="",this.cursor=new dn(t,e>i?-1:1),e>i?(this.skip=t.length-e,this.limit=e-i):(this.skip=e,this.limit=i-e)}next(){if(this.limit<=0)this.limit=-1;else{let{value:t,lineBreak:e,done:i}=this.cursor.next(this.skip);this.skip=0,this.value=t;let r=e?1:t.length;r>this.limit&&(this.value=this.cursor.dir>0?t.slice(0,this.limit):t.slice(r-this.limit)),i||0==this.value.length?this.limit=-1:this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class pn{constructor(t,e=0){this.value="",this.done=!1,this.cursor=t.iter(),this.skip=e}next(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){let{value:t,lineBreak:e,done:i}=this.cursor.next(this.skip);if(this.skip=0,i||e)return this;this.value+=t}}get lineBreak(){return!1}}class On{constructor(t,e,i,r){this.start=t,this.end=e,this.number=i,this.content=r}get length(){return this.end-this.start}slice(t=0,e=this.length){if("string"==typeof this.content)return e==t+1?this.content.charAt(t):this.content.slice(t,e);if(t==e)return"";let i=this.content.slice(t,e);return 0==t&&e==this.length&&(this.content=i),i}finish(t){return null==this.content&&(this.content=new gn(t,this.start)),this}findClusterBreak(t,e){if(t<0||t>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");let i,r;return"string"==this.content?(i=this.start,r=this.content):(i=Math.max(0,t-256),r=this.slice(i,Math.min(this.length,i+512))),(e?Yr:Zr)(r,t-i)+i}}class gn{constructor(t,e){this.doc=t,this.start=e,this.cursor=null,this.strings=null}slice(t,e){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(let i="",r=0,n=0;;n++){n==this.strings.length&&this.strings.push(this.cursor.next().value);let s=this.strings[n],o=r+s.length;if(!(o<=t)){if(i+=s.slice(Math.max(0,t-r),Math.min(s.length,e-r)),o>=e)return i;r+=s.length}}}}const mn=1024;class vn{constructor(t,e){this.enter=t,this.leave=e,this.result=void 0}get done(){return void 0!==this.result}doEnter(t,e,i){let r=this.enter(t,e,i);return void 0===r||(!1!==r&&(this.result=r),!1)}}let yn=0;class bn{constructor({deserialize:t}={}){this.id=yn++,this.deserialize=t||(()=>{throw new Error("This node type doesn't define a deserialize function")})}static string(){return new bn({deserialize:t=>t})}static number(){return new bn({deserialize:Number})}static flag(){return new bn({deserialize:()=>!0})}set(t,e){return t[this.id]=e,t}add(t){return new wn(this,"function"==typeof t?t:Sn.match(t))}}bn.error=bn.flag(),bn.skipped=bn.flag(),bn.closedBy=new bn({deserialize:t=>t.split(" ")}),bn.openedBy=new bn({deserialize:t=>t.split(" ")}),bn.top=bn.flag();class wn{constructor(t,e){this.prop=t,this.f=e}}class Sn{constructor(t,e,i){this.name=t,this.props=e,this.id=i}prop(t){return this.props[t.id]}static match(t){let e=Object.create(null);for(let i in t)for(let r of i.split(" "))e[r]=t[i];return t=>e[t.name]}}Sn.none=new Sn("",Object.create(null),0);class xn{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node group")}extend(...t){let e=[];for(let i of this.types){let r=null;for(let e of t){let t=e.f(i);if(void 0!==t){if(!r){r=Object.create(null);for(let t in i.props)r[t]=i.props[t]}r[e.prop.id]=t}}e.push(r?new Sn(i.name,r,i.id):i)}return new xn(e)}}class kn{get name(){return this.type.name}get depth(){let t=0;for(let e=this.parent;e;e=e.parent)t++;return t}get root(){let t=this;for(;t.parent;)t=t.parent;return t}resolve(t,e=0){let i=this.resolveAt(t);if(0!=e)for(;;){let r=e<0?i.childBefore(t):i.childAfter(t);if(!r||(e<0?r.end:r.start)!=t)break;i=r}return i}get firstChild(){return this.childAfter(this.start-1)}get lastChild(){return this.childBefore(this.end+1)}}class _n extends kn{constructor(t,e,i,r){super(),this.type=t,this.children=e,this.positions=i,this.length=r}get start(){return 0}get end(){return this.length}toString(){let t=this.children.map(t=>t.toString()).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(bn.error)?JSON.stringify(this.name):this.name)+(t.length?"("+t+")":""):t}partial(t,e,i,r,n){for(let s=0;s<this.children.length;s++){let o=this.positions[s];if(o>e)break;let a=this.children[s],l=o+a.length;l<t||(t<=o&&e>=l?(r.push(a),n.push(o+i)):a instanceof _n&&a.partial(t-o,e-o,i+o,r,n))}}applyChanges(t){if(0==t.length)return this;let e=[],i=[];function r(t,e,i){let r=-1;return t.iterate({from:e,to:i<0?0:t.length,enter:()=>r<0&&void 0,leave(t,n,s){r<0&&(i<0?s<=e:n>=e)&&!t.prop(bn.error)&&(r=i<0?Math.min(e,s-1):Math.max(e,n+1))}}),r>-1?r:i<0?0:t.length}let n=0;for(let s=0,o=0;;s++){let a=s==t.length?null:t[s],l=a?r(this,a.fromA,-1):this.length;if(l>o&&this.partial(o,l,n,e,i),!a)break;o=r(this,a.toA,1),n+=a.toB-a.fromB-(a.toA-a.fromA)}return new _n(Sn.none,e,i,this.length+n)}cut(t){if(t>=this.length)return this;let e=[],i=[];for(let r=0;r<this.children.length;r++){let n=this.positions[r];if(n>=t)break;let s=this.children[r],o=n+s.length;e.push(o<=t?s:s.cut(t-n)),i.push(n)}return new _n(this.type,e,i,t)}iterate({from:t=this.start,to:e=this.end,enter:i,leave:r}){let n=new vn(i,r);return this.iterInner(t,e,0,n),n.result}iterInner(t,e,i,r){if(!this.type.name||r.doEnter(this.type,i,i+this.length)){if(t<=e)for(let n=0;n<this.children.length&&!r.done;n++){let s=this.children[n],o=this.positions[n]+i,a=o+s.length;if(o>e)break;a<t||s.iterInner(t,e,o,r)}else for(let n=this.children.length-1;n>=0&&!r.done;n--){let s=this.children[n],o=this.positions[n]+i;if(o+s.length<e)break;o>t||s.iterInner(t,e,o,r)}r.leave&&this.type.name&&r.leave(this.type,i,i+this.length)}}resolveAt(t){if(Pn==this)for(let e=An;;){let i=e.parent;if(!i)break;if(e.start<t&&e.end>t)return e.resolve(t);e=i}return Pn=this,An=this.resolveInner(t,0,this)}childBefore(t){return this.findChild(t,-1,0,this)}childAfter(t){return this.findChild(t,1,0,this)}findChild(t,e,i,r){for(let n=0;n<this.children.length;n++){let s=this.positions[n]+i,o=-1;if(s>=t)if(e<0&&n>0)o=n-1;else{if(!(e>0))break;o=n}if(o<0&&(s+this.children[n].length>t||e<0&&n==this.children.length-1)&&(o=n),o>=0){let n=this.children[o],s=this.positions[o]+i;if(0==n.length&&s==t)continue;if(n instanceof _n)return n.type.name?new Xn(n,s,r):n.findChild(t,e,s,r);{let i=n.findIndex(t,e,s,0,n.buffer.length);if(i>-1)return new Tn(n,s,i,r)}}}return null}resolveInner(t,e,i){let r=this.findChild(t,0,e,i);return r?r.resolveAt(t):i}append(t){if(t.children.length&&t.positions[0]<this.length)throw new Error("Can't append overlapping trees");return new _n(this.type,this.children.concat(t.children),this.positions.concat(t.positions),t.length)}balance(t=mn){return this.children.length<=$n?this:Nn(this.type,Sn.none,this.children,this.positions,0,this.children.length,0,t,this.length)}static build(t){return function(t){let{buffer:e,group:i,topID:r=0,maxBufferLength:n=mn,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(e)?new Cn(e,e.length):e,l=i.types;function h(t,e,r,u,d){let f,{id:p,start:O,end:g,size:m}=a,v=O-t;if(m<0)return r.push(s[p]),u.push(v),void a.next();let y,b=l[p];if(g-O<=n&&(f=function(t){let e=a.fork(),i=0,r=0,s=0,l=e.end-n;t:for(let n=e.pos-t;e.pos>n;){let t=e.size,a=e.pos-t;if(t<0||a<n||e.start<l)break;let h=e.id>=o?4:0,c=e.start;for(e.next();e.pos>a;){if(e.size<0)break t;e.id>=o&&(h+=4),e.next()}r=c,i+=t,s+=h}return i>4?{size:i,start:r,skip:s}:null}(a.pos-e))){let e=new Uint16Array(f.size-f.skip),r=a.pos-f.size,n=e.length;for(;a.pos>r;)n=c(f.start,e,n);y=new En(e,g-f.start,i,d),v=f.start-t}else{let t=a.pos-m;a.next();let e=[],r=[],s=p>=i.types.length?p-(i.types.length-o):-1;if(s>-1)for(b=l[s];a.pos>t;){h(O,t,e,r,a.id==s?b:Sn.none)}else for(;a.pos>t;)h(O,t,e,r,Sn.none);e.reverse(),r.reverse(),y=s>-1&&e.length>$n?Nn(b,b,e,r,0,e.length,0,n,g-O):new _n(b,e,r,g-O)}r.push(y),u.push(v)}function c(t,e,i){let{id:r,start:n,end:s,size:l}=a;a.next();let h=i;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)i=c(t,e,i)}return r<o&&(e[--i]=h,e[--i]=s-t,e[--i]=n-t,e[--i]=r),i}let u=[],d=[];for(;a.pos>0;)h(0,0,u,d,Sn.none);let f=u.length?d[0]+u[0].length:0;return new _n(i.types[r],u.reverse(),d.reverse(),f)}(t)}}_n.empty=new _n(Sn.none,[],[],0),_n.prototype.parent=null;let Pn=_n.empty,An=_n.empty;class En{constructor(t,e,i,r=Sn.none){this.buffer=t,this.length=e,this.group=i,this.type=r}toString(){let t=[];for(let e=0;e<this.buffer.length;)e=this.childToString(e,t);return t.join(",")}childToString(t,e){let i=this.buffer[t],r=this.buffer[t+3],n=this.group.types[i],s=n.name;if(/\W/.test(s)&&!n.prop(bn.error)&&(s=JSON.stringify(s)),r>(t+=4)){let e=[];for(;t<r;)t=this.childToString(t,e);s+="("+e.join(",")+")"}return e.push(s),t}cut(t){let e=0;for(;e<this.buffer.length&&this.buffer[e+1]<t;)e+=4;let i=new Uint16Array(e);for(let r=0;r<e;r+=4)i[r]=this.buffer[r],i[r+1]=this.buffer[r+1],i[r+2]=Math.min(t,this.buffer[r+2]),i[r+3]=Math.min(this.buffer[r+3],e);return new En(i,Math.min(t,this.length),this.group)}iterate({from:t=0,to:e=this.length,enter:i,leave:r}){let n=new vn(i,r);return this.iterInner(t,e,0,n),n.result}iterInner(t,e,i,r){if(t<=e)for(let n=0;n<this.buffer.length;)n=this.iterChild(t,e,i,n,r);else this.iterRev(t,e,i,0,this.buffer.length,r)}iterChild(t,e,i,r,n){let s=this.group.types[this.buffer[r++]],o=this.buffer[r++]+i,a=this.buffer[r++]+i,l=this.buffer[r++];if(o>e)return this.buffer.length;if(a>=t&&n.doEnter(s,o,a)){for(;r<l&&!n.done;)r=this.iterChild(t,e,i,r,n);n.leave&&n.leave(s,o,a)}return l}parentNodesByEnd(t,e){let i=[],r=t=>{let e=this.buffer[t+3];if(e==t+4)return e;for(let i=t+4;i<e;)i=r(i);return i.push(t),e};for(let i=t;i<e;)i=r(i);return i}iterRev(t,e,i,r,n,s){let o=this.parentNodesByEnd(r,n),a=-1,l=-1,h=()=>{o.length>0?(a=o.pop(),l=this.buffer[a+3]):l=-1};h();t:for(let o=n;o>r&&!s.done;){for(;l==o;){let r=a,n=this.buffer[r],c=this.buffer[r+1]+i,u=this.buffer[r+2]+i;if(h(),c<=t&&u>=e&&!s.doEnter(this.group.types[n],c,u)){for(o=r;l>r;)h();continue t}}let r=this.buffer[--o],n=this.buffer[--o]+i,c=this.buffer[--o]+i,u=this.buffer[--o];c>t||n<e||(r!=o+4||s.doEnter(this.group.types[u],c,n))&&s.leave&&s.leave(this.group.types[u],c,n)}}findIndex(t,e,i,r,n){let s=-1;for(let o=r,a=this.buffer;o<n;){let r=a[o+1]+i,n=a[o+2]+i,l=r==n&&r==t;if(r>=t){if(e>0&&!l)return o;break}if(n>t)return o;l||(s=o),o=a[o+3]}return e<0?s:-1}}class Xn extends kn{constructor(t,e,i){super(),this.node=t,this.start=e,this.parent=i}get type(){return this.node.type}get end(){return this.start+this.node.length}resolveAt(t){return t<=this.start||t>=this.end?this.parent.resolveAt(t):this.node.resolveInner(t,this.start,this)}childBefore(t){return this.node.findChild(t,-1,this.start,this)}childAfter(t){return this.node.findChild(t,1,this.start,this)}toString(){return this.node.toString()}iterate({from:t=this.start,to:e=this.end,enter:i,leave:r}){let n=new vn(i,r);return this.node.iterInner(t,e,this.start,n),n.result}}class Tn extends kn{constructor(t,e,i,r){super(),this.buffer=t,this.bufferStart=e,this.index=i,this.parent=r}get type(){return this.buffer.group.types[this.buffer.buffer[this.index]]}get start(){return this.buffer.buffer[this.index+1]+this.bufferStart}get end(){return this.buffer.buffer[this.index+2]+this.bufferStart}get endIndex(){return this.buffer.buffer[this.index+3]}childBefore(t){let e=this.buffer.findIndex(t,-1,this.bufferStart,this.index+4,this.endIndex);return e<0?null:new Tn(this.buffer,this.bufferStart,e,this)}childAfter(t){let e=this.buffer.findIndex(t,1,this.bufferStart,this.index+4,this.endIndex);return e<0?null:new Tn(this.buffer,this.bufferStart,e,this)}iterate({from:t=this.start,to:e=this.end,enter:i,leave:r}){let n=new vn(i,r);return t<=e?this.buffer.iterChild(t,e,this.bufferStart,this.index,n):this.buffer.iterRev(t,e,this.bufferStart,this.index,this.endIndex,n),n.result}resolveAt(t){if(t<=this.start||t>=this.end)return this.parent.resolveAt(t);let e=this.buffer.findIndex(t,0,this.bufferStart,this.index+4,this.endIndex);return e<0?this:new Tn(this.buffer,this.bufferStart,e,this).resolveAt(t)}toString(){let t=[];return this.buffer.childToString(this.index,t),t.join("")}}class Cn{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Cn(this.buffer,this.index)}}const $n=8;function Nn(t,e,i,r,n,s,o,a,l){let h=[],c=[];if(l<=a)for(let t=n;t<s;t++)h.push(i[t]),c.push(r[t]-o);else{let t=Math.max(a,Math.ceil(1.5*l/$n));for(let l=n;l<s;){let n=l,u=r[l];for(l++;l<s;l++){if(r[l]+i[l].length-u>t)break}if(l==n+1){let r=i[n];if(r instanceof _n&&r.type==e&&r.length>t<<1){for(let t=0;t<r.children.length;t++)h.push(r.children[t]),c.push(r.positions[t]+u-o);continue}h.push(r)}else if(l==n+1)h.push(i[n]);else{let t=Nn(e,e,i,r,n,l,u,a,r[l-1]+i[l-1].length-u);e==Sn.none||Rn(t.children,e)||(t=new _n(Sn.none,t.children,t.positions,t.length)),h.push(t)}c.push(u-o)}}return new _n(t,h,c,l)}function Rn(t,e){for(let i of t)if(i.type==e)return!0;return!1}const Dn=/\r\n?|\n/;var Vn;!function(t){t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter"}(Vn||(Vn={}));class Wn{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,r=0;e<this.sections.length;){let n=this.sections[e++],s=this.sections[e++];s<0?(t(i,r,n),r+=n):r+=s,i+=n}}iterChangedRanges(t,e=!1){qn(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];r<0?t.push(i,r):t.push(r,i)}return new Wn(t)}composeDesc(t){return this.empty?t:t.empty?this:Un(this,t)}mapDesc(t,e=!1){return t.empty?this:jn(this,t,e)}mapPos(t,e=-1,i=Vn.Simple){let r=0,n=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=r+o;if(a<0){if(l>t)return n+(t-r);n+=o}else{if(i!=Vn.Simple&&l>=t&&(i==Vn.TrackDel&&r<t&&l>t||i==Vn.TrackBefore&&r<t||i==Vn.TrackAfter&&l>t))return-1;if(l>t||l==t&&e<0&&!o)return t==r||e<0?n:n+a;n+=a}r=l}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return n}mapPosStable(t,e=-1){let i=0,r=0,n=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=i+o;if(a<0){if(l>t)return r+Math.max(0,t-i);n=r+=o}else{if(e<=0&&l>=t)return n;r+=a}i=l}return r}touchesRange(t,e){for(let i=0,r=0;i<this.sections.length&&r<=e;){let n=r+this.sections[i++];if(this.sections[i++]>=0&&r<=e&&n>=t)return!(r<t&&n>e)||"cover";r=n}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+i+(r>=0?":"+r:"")}return t}}class Mn extends Wn{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return qn(this,(e,i,r,n,s)=>t=t.replace(r,r+(i-e),s),!1),t}mapDesc(t,e=!1){return jn(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let r=0,n=0;r<e.length;r+=2){let s=e[r],o=e[r+1];if(o>=0){e[r]=o,e[r+1]=s;let a=r>>1;for(;i.length<a;)i.push(rn.empty);i.push(s?t.slice(n,n+s):rn.empty)}n+=s}return new Mn(e,i)}compose(t){return this.empty?t:t.empty?this:Un(this,t,!0)}map(t,e=!1){return t.empty?this:jn(this,t,e,!0)}iterChanges(t,e=!1){qn(this,t,e)}get desc(){return new Wn(this.sections)}filter(t){let e=[],i=[],r=[],n=new Ln(this);t:for(let s=0,o=0;;){let a=s==t.length?1e9:t[s++];for(;o<a||o==a&&0==n.len;){if(n.done)break t;let t=Math.min(n.len,a-o);zn(r,t,-1);let s=-1==n.ins?-1:0==n.off?n.ins:0;zn(e,t,s),s>0&&Qn(i,e,n.text),n.forward(t),o+=t}let l=t[s++];for(;o<l;){if(n.done)break t;let t=Math.min(n.len,l-o);zn(e,t,-1),zn(r,t,-1==n.ins?-1:0==n.off?n.ins:0),n.forward(t),o+=t}}return{changes:new Mn(e,i),filtered:new Wn(r)}}static of(t,e,i){let r=[],n=[],s=0,o=null;function a(t=!1){if(!t&&!r.length)return;s<e&&zn(r,e-s,-1);let i=new Mn(r,n);o=o?o.compose(i.map(o)):i,r=[],n=[],s=0}return function t(l){if(Array.isArray(l))for(let e of l)t(e);else if(l instanceof Mn){if(l.length!=e)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${e})`);a(),o=o?o.compose(l.map(o)):l}else{let{from:t,to:o=t,insert:h}=l;if(t>o||t<0||o>e)throw new RangeError(`Invalid change range ${t} to ${o} (in doc of length ${e})`);let c=h?"string"==typeof h?rn.of(h.split(i||Dn)):h:rn.empty,u=c.length;if(t==o&&0==u)return;t<s&&a(),t>s&&zn(r,t-s,-1),zn(r,o-t,u),Qn(n,r,c),s=o}}(t),a(!o),o}static empty(t){return new Mn(t?[t,-1]:[],[])}}function zn(t,e,i,r=!1){if(0==e&&i<=0)return;let n=t.length-2;n>=0&&i<=0&&i==t[n+1]?t[n]+=e:0==e&&0==t[n]?t[n+1]+=i:r?(t[n]+=e,t[n+1]+=i):t.push(e,i)}function Qn(t,e,i){if(0==i.length)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<r;)t.push(rn.empty);t.push(i)}}function qn(t,e,i){let r=t.inserted;for(let n=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)n+=a,s+=a;else{let h=n,c=s,u=rn.empty;for(;h+=a,c+=l,l&&r&&(u=u.append(r[o-2>>1])),!(i||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(n,h,s,c,u),n=h,s=c}}}function jn(t,e,i,r=!1){let n=[],s=r?[]:null,o=new Ln(t),a=new Ln(e);for(let t=0,e=0;;)if(-1==o.ins)t+=o.len,o.next();else if(-1==a.ins&&e<t){let i=Math.min(a.len,t-e);a.forward(i),zn(n,i,-1),e+=i}else if(a.ins>=0&&(o.done||e<t||e==t&&(a.len<o.len||a.len==o.len&&!i))){for(zn(n,a.ins,-1);t>e&&!o.done&&t+o.len<e+a.len;)t+=o.len,o.next();e+=a.len,a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?new Mn(n,s):new Wn(n);throw new Error("Mismatched change set lengths")}{let i=0,r=t+o.len;for(;;)if(a.ins>=0&&e>t&&e+a.len<r)i+=a.ins,e+=a.len,a.next();else{if(!(-1==a.ins&&e<r))break;{let t=Math.min(a.len,r-e);i+=t,a.forward(t),e+=t}}zn(n,i,o.ins),s&&Qn(s,n,o.text),t=r,o.next()}}}function Un(t,e,i=!1){let r=[],n=i?[]:null,s=new Ln(t),o=new Ln(e);for(let t=!1;;){if(s.done&&o.done)return n?new Mn(r,n):new Wn(r);if(0==s.ins)zn(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),i=r.length;if(-1==s.ins){let i=-1==o.ins?-1:o.off?0:o.ins;zn(r,e,i,t),n&&i&&Qn(n,r,o.text)}else-1==o.ins?(zn(r,s.off?0:s.len,e,t),n&&Qn(n,r,s.textBit(e))):(zn(r,s.off?0:s.len,o.off?0:o.ins,t),n&&!o.off&&Qn(n,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>i),s.forward2(e),o.forward(e)}}else zn(r,0,o.ins,t),n&&Qn(n,r,o.text),o.next()}}class Ln{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?rn.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?rn.empty:e[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Bn{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t){let e=t.mapPos(this.from),i=t.mapPos(this.to);return e==this.from&&i==this.to?this:new Bn(e,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Gn.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Gn.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Gn.range(t.anchor,t.head)}}class Gn{constructor(t,e=0){this.ranges=t,this.primaryIndex=e}map(t){return t.empty?this:Gn.create(this.ranges.map(e=>e.map(t)),this.primaryIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.primaryIndex!=t.primaryIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get primary(){return this.ranges[this.primaryIndex]}asSingle(){return 1==this.ranges.length?this:new Gn([this.primary])}addRange(t,e=!0){return Gn.create([t].concat(this.ranges),e?0:this.primaryIndex+1)}replaceRange(t,e=this.primaryIndex){let i=this.ranges.slice();return i[e]=t,Gn.create(i,this.primaryIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),primaryIndex:this.primaryIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.primaryIndex||t.primaryIndex>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Gn(t.ranges.map(t=>Bn.fromJSON(t)),t.primaryIndex)}static single(t,e=t){return new Gn([Gn.range(t,e)],0)}static create(t,e=0){for(let i=0,r=0;r<t.length;r++){let n=t[r];if(n.empty?n.from<=i:n.from<i)return In(t.slice(),e);i=n.to}return new Gn(t,e)}static cursor(t,e=0,i,r){return new Bn(t,t,(0==e?0:e<0?4:8)|(null==i?3:Math.min(2,i))|(null!=r?r:33554431)<<5)}static range(t,e,i){let r=(null!=i?i:33554431)<<5;return e<t?new Bn(e,t,16|r):new Bn(t,e,r)}}function In(t,e=0){let i=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(i);for(let i=1;i<t.length;i++){let r=t[i],n=t[i-1];if(r.empty?r.from<=n.to:r.from<n.to){let s=n.from,o=Math.max(r.to,n.to);i<=e&&e--,t.splice(--i,2,r.anchor>r.head?Gn.range(o,s):Gn.range(s,o))}}return new Gn(t,e)}function Yn(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let Zn=0;class Hn{constructor(t,e,i,r){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=r,this.id=Zn++,this.default=t([])}static define(t={}){return new Hn(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:Fn),!!t.static)}of(t){return new Kn([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Kn(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Kn(t,this,2,e)}from(t,e){return i=>is(e,this.compute([i],e=>t(e.field(i))))}nFrom(t,e){return i=>is(e,this.computeN([i],e=>t(e.field(i))))}}function Fn(t,e){return t==e||t.length==e.length&&t.every((t,i)=>t===e[i])}class Kn{constructor(t,e,i,r){this.dependencies=t,this.facet=e,this.type=i,this.value=r,this.id=Zn++}dynamicSlot(t){let e=this.value,i=this.facet.compareInput,r=t[this.id]>>1,n=2==this.type,s=!1,o=!1,a=[];for(let e of this.dependencies)"doc"==e?s=!0:"selection"==e?o=!0:0==(1&t[e.id])&&a.push(t[e.id]);return(t,l)=>{if(!l||l.reconfigured)return t.values[r]=e(t),1;{if(!(s&&l.docChanged||o&&(l.docChanged||l.selection)||a.some(e=>(1&ss(t,e))>0)))return 0;let h=e(t),c=l.startState.values[r];return(n?function(t,e,i){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!i(t[r],e[r]))return!1;return!0}(h,c,i):i(h,c))?0:(t.values[r]=h,1)}}}}function Jn(t,e,i){let r=i.map(e=>t[e.id]),n=i.map(t=>t.type),s=r.filter(t=>!(1&t)),o=t[e.id]>>1;return(t,i)=>{let a=i?i.reconfigured?i.startState.config.address[e.id]:o<<1:null,l=null==a;for(let e of s)1&ss(t,e)&&(l=!0);if(!l)return 0;let h=[];for(let e=0;e<r.length;e++){let i=os(t,r[e]);if(2==n[e])for(let t of i)h.push(t);else h.push(i)}let c=e.combine(h);return null!=a&&e.compare(c,os(i.startState,a))?0:(t.values[o]=c,1)}}class ts{constructor(t,e,i,r,n){this.id=t,this.createF=e,this.updateF=i,this.compareF=r,this.facets=n}static define(t){let e=[],i=new ts(Zn++,t.create,t.update,t.compare||((t,e)=>t===e),e);if(t.provide)for(let r of t.provide)r instanceof Hn?e.push(r.compute([i],t=>t.field(i))):e.push(r(i));return i}slot(t){let e=t[this.id]>>1;return(t,i)=>{if(!i)return t.values[e]=this.createF(t),1;let r,n=0;if(i.reconfigured){let t=function(t,e){let i=t.config.address[e];return null==i?null:i>>1}(i.startState,this.id);r=null==t?this.createF(i.startState):i.startState.values[t],n=1}else r=i.startState.values[e];let s=this.updateF(r,i,t);return n||this.compareF(r,s)||(n=1),n&&(t.values[e]=s),n}}}class es{constructor(t){this.val=t}set(t){return new rs(t,this.val)}}function is(t,e){return null==t?e:t.set(e)}es.Fallback=new es(3),es.Default=new es(2),es.Extend=new es(1),es.Override=new es(0);class rs{constructor(t,e){this.e=t,this.prec=e}}class ns{constructor(t,e,i,r,n){for(this.source=t,this.replacements=e,this.dynamicSlots=i,this.address=r,this.staticValues=n,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e=Object.create(null),i){let r=[],n=Object.create(null);for(let i of function(t,e){let i=[[],[],[],[]],r=new Set,n=Object.create(null);function s(t,o){if(!r.has(t))if(r.add(t),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof class{constructor(t,e){this.tag=t,this.extension=e}}){if(t.tag in n)throw new RangeError(`Duplicate use of tag '${String(t.tag)}' in extensions`);n[t.tag]=!0,s(e[t.tag]||t.extension,o)}else t.extension?s(t.extension,o):t instanceof rs?s(t.e,t.prec):(i[o].push(t),t instanceof ts&&s(t.facets,o))}s(t,es.Default.val);for(let t of(o=e,(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(o):[]).concat(Object.keys(o))))t in n||(n[t]=!0,s(e[t],es.Default.val));var o;return i.reduce((t,e)=>t.concat(e))}(t,e))i instanceof ts?r.push(i):(n[i.facet.id]||(n[i.facet.id]=[])).push(i);let s=Object.create(null),o=[],a=[];for(let t of r)s[t.id]=a.length<<1,a.push(e=>t.slot(e));for(let t in n){let e=n[t],r=e[0].facet;if(e.every(t=>0==t.type)){s[r.id]=o.length<<1|1;let t=r.combine(e.map(t=>t.value)),n=i?i.config.address[r.id]:null;if(null!=n){let e=os(i,n);r.compare(t,e)&&(t=e)}o.push(t)}else{for(let t of e)0==t.type?(s[t.id]=o.length<<1|1,o.push(t.value)):(s[t.id]=a.length<<1,a.push(e=>t.dynamicSlot(e)));s[r.id]=a.length<<1,a.push(t=>Jn(t,r,e))}}return new ns(t,e,a.map(t=>t(s)),s,o)}}function ss(t,e){if(1&e)return 2;let i=e>>1,r=t.status[i];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[i]=4;let n=t.config.dynamicSlots[i](t,t.applying);return t.status[i]=2|n}function os(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const as=Hn.define({combine:t=>t.some(t=>t),static:!0}),ls=Hn.define(),hs=Hn.define(),cs=new bn,us=Hn.define();class ds{constructor(t,e){this.type=t,this.value=e}static define(){return new fs}}class fs{of(t){return new ds(this,t)}}class ps{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new ps(this.type,e)}is(t){return this.type==t}static define(t={}){return new Os(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let r of t){let t=r.map(e);t&&i.push(t)}return i}}class Os{constructor(t){this.map=t}of(t){return new ps(this,t)}}class gs{constructor(t,e,i,r,n,s){this.startState=t,this.changes=e,this.selection=i,this.effects=r,this.annotations=n,this.flags=s,this.annotations.some(t=>t.type==gs.time)||(this.annotations=this.annotations.concat(gs.time.of(Date.now())))}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get scrolledIntoView(){return(2&this.flags)>0}get reconfigured(){return(1&this.flags)>0}}gs.time=ds.define(),gs.userEvent=ds.define(),gs.addToHistory=ds.define();class ms{constructor(t,e,i,r,n,s,o,a){this.changes=t,this.selection=e,this.effects=i,this.annotations=r,this.scrollIntoView=n,this.filter=s,this.reconfigure=o,this.replaceExtensions=a}static create(t,e){let i;if(Array.isArray(e)){if(e.length)return e.map(e=>ms.create(t,e)).reduce((t,e)=>t.combine(e));i={}}else{if(e instanceof ms)return e;i=e}let r=i.selection;return new ms(i.changes?t.changes(i.changes):Mn.empty(t.doc.length),r&&(r instanceof Gn?r:Gn.single(r.anchor,r.head)),i.effects?Array.isArray(i.effects)?i.effects:[i.effects]:ys,i.annotations?Array.isArray(i.annotations)?i.annotations:[i.annotations]:ys,!!i.scrollIntoView,!1!==i.filter,i.reconfigure,i.replaceExtensions)}combine(t){let e=this,i=e.changes.mapDesc(t.changes,!0),r=t.changes.map(e.changes);return new ms(e.changes.compose(r),t.selection?t.selection.map(i):e.selection?e.selection.map(r):void 0,ps.mapEffects(e.effects,r).concat(ps.mapEffects(t.effects,i)),e.annotations.length?e.annotations.concat(t.annotations):t.annotations,e.scrollIntoView||t.scrollIntoView,e.filter&&t.filter,t.reconfigure||e.reconfigure,t.replaceExtensions||(t.reconfigure?void 0:e.replaceExtensions))}filterChanges(t){if(!this.filter)return this;let e,i,r=!0;for(let e of t.facet(ls)){let i=e(this,t);if(!1===i){r=!1;break}Array.isArray(i)&&(r=!0===r?i:vs(r,i))}if(!0===r)return this;if(!1===r)i=this.changes.invertedDesc,e=Mn.empty(t.doc.length);else{let t=this.changes.filter(r);e=t.changes,i=t.filtered.invertedDesc}return new ms(e,this.selection&&this.selection.map(i),ps.mapEffects(this.effects,i),this.annotations,this.scrollIntoView,this.filter,this.reconfigure,this.replaceExtensions)}filterTransaction(t){if(!this.filter)return this;let e=this,i=t.facet(hs);for(let r=i.length-1;r>=0;r--)e=ms.create(t,i[r](e,t));return e}}function vs(t,e){let i=[];for(let r=0,n=0;;){let s,o;if(r<t.length&&(n==e.length||e[n]>=t[r]))s=t[r++],o=t[r++];else{if(!(n<e.length))return i;s=e[n++],o=e[n++]}!i.length||i[i.length-1]<s?i.push(s,o):i[i.length-1]<o&&(i[i.length-1]=o)}}const ys=[];var bs;!function(t){t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other"}(bs||(bs={}));const ws=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ss;try{Ss=new RegExp("[\\p{Alphabetic}_]","u")}catch(t){}function xs(t){return e=>{if(!/\S/.test(e))return bs.Space;if(function(t){if(Ss)return Ss.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||ws.test(i)))return!0}return!1}(e))return bs.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return bs.Word;return bs.Other}}class ks{constructor(t,e,i,r=null){if(this.config=t,this.doc=e,this.selection=i,this.applying=null,this.status=t.statusTemplate.slice(),r&&!r.reconfigured)this.values=r.startState.values.slice();else if(this.values=t.dynamicSlots.map(t=>null),r)for(let e in t.address){let i=t.address[e],n=r.startState.config.address[e];null!=n&&0==(1&i)&&(this.values[i>>1]=os(r.startState,n))}this.applying=r,r&&(r.state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)ss(this,t<<1);this.applying=null}field(t,e=!0){let i=this.config.address[t.id];if(null!=i)return ss(this,i),os(this,i);if(e)throw new RangeError("Field is not present in this state")}update(...t){let e=ms.create(this,t).filterChanges(this).filterTransaction(this);e.selection&&Yn(e.selection,e.changes.newLength);let i=e.reconfigure||e.replaceExtensions,r=i?ns.resolve(e.reconfigure||this.config.source,e.replaceExtensions,this):this.config,n=(i?1:0)|(e.scrollIntoView?2:0),s=new gs(this,e.changes,e.selection,e.effects,e.annotations,n);return new ks(r,e.changes.apply(this.doc),e.selection||this.selection.map(e.changes),s),s}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Gn.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),r=this.changes(i.changes),n=[i.range];for(let i=1;i<e.ranges.length;i++){let s=t(e.ranges[i]),o=this.changes(s.changes),a=o.map(r);for(let t=0;t<i;t++)n[t]=n[t].map(a);n.push(s.range.map(r.mapDesc(o,!0))),r=r.compose(a)}return ms.create(this,{changes:r,selection:Gn.create(n,e.primaryIndex)})}changes(t=[]){return t instanceof Mn?t:Mn.of(t,this.doc.length,this.facet(ks.lineSeparator))}toText(t){return rn.of(t.split(this.facet(ks.lineSeparator)||Dn))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(ss(this,e),os(this,e))}toJSON(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}static fromJSON(t,e={}){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");return ks.create({doc:t.doc,selection:Gn.fromJSON(t.selection),extensions:e.extensions})}static create(t={}){let e=ns.resolve(t.extensions||[]),i=t.doc instanceof rn?t.doc:rn.of((t.doc||"").split(e.staticFacet(ks.lineSeparator)||Dn)),r=t.selection?t.selection instanceof Gn?t.selection:Gn.single(t.selection.anchor,t.selection.head):Gn.single(0);return Yn(r,i.length),e.staticFacet(as)||(r=r.asSingle()),new ks(e,i,r)}get tabSize(){return this.facet(ks.tabSize)}get lineBreak(){return this.facet(ks.lineSeparator)||"\n"}get indentUnit(){let t=this.facet(ks.indentUnit);return 9==t.charCodeAt(0)?this.tabSize*t.length:t.length}get indentWithTabs(){return 9==this.facet(ks.indentUnit).charCodeAt(0)}phrase(t){for(let e of this.facet(ks.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}charCategorizer(t){return xs(this.languageDataAt("wordChars",t).join(""))}get tree(){let t=this.facet(ks.syntax);return t.length?t[0].getTree(this):_n.empty}languageDataAt(t,e){let i=null,r=this.facet(ks.syntax),n=r.length?r[0].docNodeTypeAt(this,e):null;for(let e of this.facet(us))null!=e.type&&e.type!=n||!Object.prototype.hasOwnProperty.call(e,t)||(i||(i=[])).push(e[t]);if(n){let e=n.prop(cs);e&&Object.prototype.hasOwnProperty.call(e,t)&&(i||(i=[])).push(e[t])}return i||_s}}ks.allowMultipleSelections=as,ks.indentation=Hn.define(),ks.tabSize=Hn.define({combine:t=>t.length?t[0]:4}),ks.lineSeparator=Hn.define({combine:t=>t.length?t[0]:void 0,static:!0}),ks.indentUnit=Hn.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}}),ks.phrases=Hn.define(),ks.syntax=Hn.define(),ks.addLanguageData=us,ks.foldable=Hn.define(),ks.changeFilter=ls,ks.transactionFilter=hs;const _s=[];function Ps(t,e,i={}){let r={};for(let e of t)for(let t of Object.keys(e)){let n=e[t],s=r[t];if(void 0===s)r[t]=n;else if(s===n||void 0===n);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);r[t]=i[t](s,n)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}function As(t,e){let i={};for(let e in t)i[e]=t[e];for(let t in e)void 0===i[t]&&(i[t]=e[t]);return i}function Es(t,e){return"undefined"==typeof Symbol?"__"+t+(e?Math.floor(1e8*Math.random()):""):e?Symbol(t):Symbol.for(t)}const Xs=Es(""),Ts=Es("styleSet",1),Cs=Es("rules",1),$s="undefined"==typeof global?window:global;function Ns(t,e){this[Cs]=[];for(let i in t){let r=t[i].specificity||0,n=Ns.newName(),s=i;if(!1!==(e&&e.generateClasses)){let t=n;s="."+n;for(let e=0;e<r;e++){let i="_"+(e?e.toString(36):"");s+="."+i,t+=" "+i}this[i]=t}Ds(s,t[i],this[Cs])}}Ns.newName=()=>{let t=$s[Xs]||1;return $s[Xs]=t+1,""+t.toString(36)},Ns.prototype=Object.create(null),Ns.mount=function(t,e){(t[Ts]||new Rs(t)).mount(Array.isArray(e)?e:[e])};class Rs{constructor(t){this.root=t,t[Ts]=this,this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild),this.modules=[]}mount(t){let e=this.styleTag.sheet,i=!e,r=0,n=0;for(let s=0;s<t.length;s++){let o=t[s],a=this.modules.indexOf(o);if(a<n&&a>-1&&(this.modules.splice(a,1),n--,a=-1),-1==a){if(this.modules.splice(n++,0,o),!i)for(let t=0;t<o[Cs].length;t++)e.insertRule(o[Cs][t],r++)}else{for(;n<a;)r+=this.modules[n++][Cs].length;r+=o[Cs].length,n++}}if(i){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e][Cs].join("\n")+"\n";this.styleTag.textContent=t}}}function Ds(t,e,i){if("object"!=typeof e)throw new RangeError("Expected style object, got "+JSON.stringify(e));let r=[];for(let n in e)if(/^@/.test(n)){let r=[];Ds(t,e[n],r),i.push(n+" {"+r.join(" ")+"}")}else if(/&/.test(n))Ds(n.replace(/&/g,t),e[n],i);else if("specificity"!=n){if("object"==typeof e[n])throw new RangeError("The value of a property ("+n+") should be a primitive value.");r.push(n.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+e[n])}r.length&&i.push(t+" {"+r.join("; ")+"}")}class Vs{eq(t){return this==t}range(t,e=t){return new Ws(t,e,this)}}Vs.prototype.startSide=Vs.prototype.endSide=0,Vs.prototype.point=!1,Vs.prototype.mapMode=Vn.TrackDel;class Ws{constructor(t,e,i){this.from=t,this.to=e,this.value=i}}function Ms(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}const zs=1e9;class Qs{constructor(t,e,i,r){this.from=t,this.to=e,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,i=e*zs,r=0){if(t<=0)return r;let n=e<0?this.to:this.from;for(let s=r,o=n.length;;){if(s==o)return s;let r=s+o>>1,a=n[r]-t||(e<0?this.value[r].startSide:this.value[r].endSide)-i;if(r==s)return a>=0?s:o;a>=0?o=r:s=r+1}}between(t,e,i,r){for(let n=this.findIndex(e,-1),s=this.findIndex(i,1,void 0,n);n<s;n++)if(!1===r(this.from[n]+t,this.to[n]+t,this.value[n]))return!1}map(t,e){let i=[],r=[],n=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,h,c=this.value[a],u=this.from[a]+t,d=this.to[a]+t;if(u==d){let t=e.mapPos(u,c.startSide,c.mapMode);if(t<0)continue;l=h=t}else if(l=e.mapPos(u,c.startSide),h=e.mapPos(d,c.endSide),l>h||l==h&&c.startSide>0&&c.endSide<=0)continue;(h-l||c.endSide-c.startSide)<0||(s<0&&(s=l),c.point&&(o=Math.max(o,h-l)),i.push(c),r.push(l-s),n.push(h-s))}return{mapped:i.length?new Qs(r,n,i,o):null,pos:s}}}class qs{constructor(t,e,i=qs.empty,r){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=r}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this==qs.empty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update({add:t=[],sort:e=!1,filter:i,filterFrom:r=0,filterTo:n=this.length}){if(0==t.length&&!i)return this;if(e&&t.slice().sort(Ms),this==qs.empty)return t.length?qs.of(t):this;let s=new Us(this,null,-1).goto(0),o=0,a=[],l=new js;for(;s.value||o<t.length;)if(o<t.length&&(s.from-t[o].from||s.startSide-t[o].value.startSide)>=0){let e=t[o++];l.addInner(e.from,e.to,e.value)||a.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(o==t.length||this.chunkEnd(s.chunkIndex)<t[o].from)&&(!i||r>this.chunkEnd(s.chunkIndex)||n<this.chunkPos[s.chunkIndex])&&l.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!i||r>s.to||n<s.from||i(s.from,s.to,s.value))&&(l.addInner(s.from,s.to,s.value)||a.push(new Ws(s.from,s.to,s.value))),s.next());return l.finishInner(this.nextLayer!=qs.empty||a.length?this.nextLayer.update({add:a,filter:i,filterFrom:r,filterTo:n}):qs.empty)}map(t){if(0==t.length||this==qs.empty)return this;let e=[],i=[],r=-1;for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n],a=t.touchesRange(s,s+o.length);if(!1===a)r=Math.max(r,o.maxPoint),e.push(o),i.push(t.mapPos(s));else if(!0===a){let{mapped:n,pos:a}=o.map(s,t);n&&(r=Math.max(r,n.maxPoint),e.push(n),i.push(a))}}let n=this.nextLayer.map(t);return 0==e.length?n:new qs(i,e,n,r)}between(t,e,i){if(this!=qs.empty){for(let r=0;r<this.chunk.length;r++){let n=this.chunkPos[r],s=this.chunk[r];if(e>=n&&t<=n+s.length&&!1===s.between(n,t-n,e-n,i))return}this.nextLayer.between(t,e,i)}}iter(t=0){return Ls.from([this]).goto(t)}static iter(t,e=0){return Ls.from(t).goto(e)}static compare(t,e,i,r){var n;let s=null!==(n=r.minPointSize)&&void 0!==n?n:-1,o=t.filter(t=>t.maxPoint>=500||t!=qs.empty&&e.indexOf(t)<0&&t.maxPoint>=s),a=e.filter(e=>e.maxPoint>=500||e!=qs.empty&&t.indexOf(e)<0&&e.maxPoint>=s),l=function(t,e){let i=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<500&&i.set(e.chunk[t],e.chunkPos[t]);let r=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++)i.get(t.chunk[e])==t.chunkPos[e]&&r.add(t.chunk[e]);return r}(o,a),h=new Gs(o,l,s),c=new Gs(a,l,s);i.iterGaps((t,e,i)=>Is(h,t,c,e,i,r)),i.empty&&0==i.length&&Is(h,0,c,0,0,r)}static spans(t,e,i,r){var n;let s=new Gs(t,null,null!==(n=r.minPointSize)&&void 0!==n?n:-1).goto(e),o=e;for(;;){let t=Math.min(s.to,i);if(s.point?r.point(o,t,s.point,s.pointFrom<e,s.to>i):t>o&&r.span(o,t,s.active),s.to>i)break;o=s.to,s.next()}}static of(t,e=!1){let i=new js;for(let r of t instanceof Ws?[t]:e?t.slice().sort(Ms):t)i.add(r.from,r.to,r.value);return i.finish()}}qs.empty=new qs([],[],null,-1),qs.empty.nextLayer=qs.empty;class js{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-zs,this.lastTo=-zs,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Qs(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new js)).add(t,e,i)}addInner(t,e,i){let r=t-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(qs.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new qs(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}class Us{constructor(t,e,i){this.layer=t,this.skip=e,this.minPoint=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-zs){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}let r=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],-1,e);(!i||this.rangeIndex<r)&&(this.rangeIndex=r),this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=zs,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],++this.rangeIndex==e.value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class Ls{constructor(t){this.heap=t}static from(t,e=null,i=-1){let r=[];for(let n of t)for(let t=n;t!=qs.empty;t=t.nextLayer)t.maxPoint>=i&&r.push(new Us(t,e,i));return 1==r.length?r[0]:new Ls(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-zs){for(let i of this.heap)i.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Bs(this.heap,t);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Bs(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=zs,this.value=null;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,t.value&&t.next(),Bs(this.heap,0)}}}function Bs(t,e){for(let i=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let n=t[r];if(r+1<t.length&&n.compare(t[r+1])>=0&&(n=t[r+1],r++),i.compare(n)<0)break;t[r]=i,t[e]=n,e=r}}class Gs{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.to=-zs,this.endSide=0,this.cursor=Ls.from(t,e,i)}goto(t,e=-zs){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Zs(this.active,t),Zs(this.activeTo,t),this.minActive=Hs(this.active,this.activeTo)}next(){let t=this.to;for(this.point=null;;){let e=this.minActive;if(e>-1&&(this.activeTo[e]-this.cursor.from||this.active[e].endSide-this.cursor.startSide)<0){if(this.activeTo[e]>t){this.to=this.activeTo[e],this.endSide=this.active[e].endSide;break}this.removeActive(e)}else{if(!this.cursor.value){this.to=this.endSide=zs;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){this.point=e,this.pointFrom=this.cursor.from,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.active.push(e),this.activeTo.push(this.cursor.to),this.minActive=Hs(this.active,this.activeTo),this.cursor.next()}}}}}function Is(t,e,i,r,n,s){t.goto(e),i.goto(r);let o=r+n,a=r,l=r-e;for(;;){let e=t.to+l-i.to||t.endSide-i.endSide,r=e<0?t.to+l:i.to,n=Math.min(r,o);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))||s.comparePoint(a,n,t.point,i.point):n>a&&!Ys(t.active,i.active)&&s.compareRange(a,n,t.active,i.active),r>o)break;a=r,e<=0&&t.next(),e>=0&&i.next()}}function Ys(t,e){if(t.length!=e.length)return!1;t:for(let i=0;i<t.length;i++){for(let r=0;r<e.length;r++)if(t[i]==e[i]||t[i].eq(e[r]))continue t;return!1}return!0}function Zs(t,e){let i=t.pop();e!=t.length&&(t[e]=i)}function Hs(t,e){let i=-1,r=zs;for(let n=0;n<e.length;n++)(e[n]-r||t[n].endSide-t[i].endSide)<0&&(i=n,r=e[n]);return i}let[Fs,Ks]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const Js=/Edge\/(\d+)/.exec(Fs.userAgent),to=/MSIE \d/.test(Fs.userAgent),eo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fs.userAgent),io=!!(to||eo||Js),ro=!io&&/gecko\/(\d+)/i.test(Fs.userAgent),no=!io&&/Chrome\/(\d+)/.exec(Fs.userAgent),so="webkitFontSmoothing"in Ks.documentElement.style;var oo={mac:/Mac/.test(Fs.platform),ie:io,ie_version:to?Ks.documentMode||6:eo?+eo[1]:Js?+Js[1]:0,gecko:ro,gecko_version:ro?+(/Firefox\/(\d+)/.exec(Fs.userAgent)||[0,0])[1]:0,chrome:!!no,chrome_version:no?+no[1]:0,ios:!io&&/AppleWebKit/.test(Fs.userAgent)&&/Mobile\/\w+/.test(Fs.userAgent),android:/Android\b/.test(Fs.userAgent),webkit:so,safari:/Apple Computer/.test(Fs.vendor),webkit_version:so?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Ks.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function ao(t){return t.getSelection?t.getSelection():document.getSelection()}function lo(t,e){if(!e.anchorNode)return!1;try{return t.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)}catch(t){return!1}}function ho(t){if(3==t.nodeType){let e=document.createRange();return e.setEnd(t,t.nodeValue.length),e.setStart(t,0),e.getClientRects()}return 1==t.nodeType?t.getClientRects():[]}function co(t,e,i,r){return!!i&&(fo(t,e,i,r,-1)||fo(t,e,i,r,1))}function uo(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function fo(t,e,i,r,n){for(;;){if(t==i&&e==r)return!0;if(e==(n<0?0:po(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=uo(t)+(n<0?0:1),t=i}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(n<0?-1:0)],e=n<0?po(t):0}}}function po(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Oo(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class go{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}}let mo=null;function vo(t){if(t.setActive)return t.setActive();if(mo)return t.focus(mo);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(null==mo?{get preventScroll(){return mo={preventScroll:!0},!0}}:void 0),!mo){mo=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],n=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=n&&(i.scrollLeft=n)}}}class yo{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new yo(t.parentNode,uo(t),e)}static after(t,e){return new yo(t.parentNode,uo(t)+1,e)}}const bo=[];class wo{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(){if(2&this.dirty){let t=this.dom,e=null;for(let i of this.children){if(i.dirty){let r=e?e.nextSibling:t.firstChild;!r||i.dom||wo.get(r)||i.reuseDOM(r),i.sync(),i.dirty=0}xo(t,e,i.dom),e=i.dom}let i=e?e.nextSibling:t.firstChild;for(;i;)i=So(i)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(),t.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let r=0==po(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}i=r<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!wo.get(i);)i=i.nextSibling;if(!i)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==i)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,i=0){let r=-1,n=-1,s=-1,o=-1;for(let a=0,l=i;a<this.children.length;a++){let i=this.children[a],h=l+i.length;if(l<t&&h>e)return i.domBoundsAround(t,e,l);if(h>=t&&-1==r&&(r=a,n=l),h>=e&&-1==s){s=a,o=h;break}l=h+i.breakAfter}return{from:n,to:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length-1?this.children[s+1].dom:null}}markDirty(t=!1){2&this.dirty||(this.dirty|=2,this.markParentsDirty(t))}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=bo){this.markDirty();for(let i=t;i<e;i++)this.children[i].parent=null;this.children.splice(t,e-t,...i);for(let t=0;t<i.length;t++)i[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new ko(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}}function So(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}function xo(t,e,i){let r=e?e.nextSibling:t.firstChild;if(i.parentNode==t)for(;r!=i;)r=So(r);else t.insertBefore(i,r)}wo.prototype.breakAfter=0;class ko{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function _o(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}function Po(t,e){if(t==e)return!0;if(!t||!e)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!=r.length)return!1;for(let n of i)if(-1==r.indexOf(n)||t[n]!==e[n])return!1;return!0}function Ao(t,e,i){if(e)for(let r in e)i&&r in i||t.removeAttribute(r);if(i)for(let r in i)e&&e[r]==i[r]||t.setAttribute(r,i[r])}const Eo=[];class Xo extends wo{match(t){return!1}get children(){return Eo}getSide(){return 0}}class To extends Xo{constructor(t,e,i,r){super(),this.text=t,this.tagName=e,this.attrs=r,this.textDOM=null,this.class=i}get length(){return this.text.length}createDOM(t){let e=this.tagName||(this.attrs||this.class?"span":null);if(this.textDOM=t||document.createTextNode(this.text),e){let t=document.createElement(e);if(t.appendChild(this.textDOM),this.class&&(t.className=this.class),this.attrs)for(let e in this.attrs)t.setAttribute(e,this.attrs[e]);this.setDOM(t)}else this.setDOM(this.textDOM)}sync(){if(this.dom||this.createDOM(),this.textDOM.nodeValue!=this.text){this.textDOM.nodeValue=this.text;let t=this.dom;if(this.textDOM!=t&&(this.dom.firstChild!=this.textDOM||t.lastChild!=this.textDOM)){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(this.textDOM)}}}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,e=this.length,i=null){return!(i&&(!(i instanceof To&&i.tagName==this.tagName&&i.class==this.class&&Po(i.attrs,this.attrs))||this.length-(e-t)+i.length>256))&&(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}slice(t,e=this.length){return new To(this.text.slice(t,e),this.tagName,this.class,this.attrs)}localPosFromDOM(t,e){return t==this.textDOM?e:e?this.text.length:0}domAtPos(t){return new yo(this.textDOM,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return Co(this.textDOM,t,e,this.length)}}function Co(t,e,i,r){let n=e,s=e;0==e&&i<0||e==r&&i>=0?oo.webkit||oo.gecko||(e?n--:s++):i<0?n--:s++;let o=document.createRange();return o.setEnd(t,s),o.setStart(t,n),o.getBoundingClientRect()}class $o extends Xo{constructor(t,e,i,r){super(),this.widget=t,this.length=e,this.side=i,this.open=r}static create(t,e,i,r=0){return new(t.customView||$o)(t,e,i,r)}slice(t,e=this.length){return $o.create(this.widget,e-t,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e=this.length,i=null){if(i){if(!(i instanceof $o)||!i.open||t>0&&!(1&i.open)||e<this.length&&!(2&i.open))return!1;if(!this.widget.compare(i.widget))throw new Error("Trying to merge incompatible widgets")}return this.length=t+(i?i.length:0)+(this.length-e),!0}match(t){return t.length==this.length&&t instanceof $o&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget.value)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return rn.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,i=e&&e.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):rn.empty}domAtPos(t){return 0==t?yo.before(this.dom):yo.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.dom.getClientRects(),r=null;for(let e=t>0?i.length-1:0;r=i[e],!(t>0?0==e:e==i.length-1||r.top<r.bottom);e+=t>0?-1:1);return r}}class No extends $o{domAtPos(t){return new yo(this.widget.value.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}localPosFromDOM(t,e){return e?3==t.nodeType?Math.min(e,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){return Co(this.widget.value.text,t,e,this.length)}}class Ro{constructor(t){this.value=t}eq(t){return this.value===t}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t.value)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var Do;!function(t){t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange"}(Do||(Do={}));class Vo extends Vs{constructor(t,e,i,r){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=r}get point(){return!1}get heightRelevant(){return!1}static mark(t){return new Wo(t)}static widget(t){let e=t.side||0;return t.block&&(e+=200000001*(e>0?1:-1)),new zo(t,e,e,!!t.block,t.widget||null,!1)}static replace(t){let e=!!t.block,{start:i,end:r}=Qo(t);return new zo(t,e?-2e8*(i?2:1):1e8*(i?-1:1),e?2e8*(r?2:1):1e8*(r?1:-1),e,t.widget||null,!0)}static line(t){return new Mo(t)}static set(t,e=!1){return qs.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Vo.none=qs.empty;class Wo extends Vo{constructor(t){let{start:e,end:i}=Qo(t);super(1e8*(e?-1:1),1e8*(i?1:-1),null,t)}eq(t){return this==t||t instanceof Wo&&this.spec.tagName==t.spec.tagName&&this.spec.class==t.spec.class&&Po(this.spec.attributes||null,t.spec.attributes||null)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}class Mo extends Vo{constructor(t){super(-1e8,-1e8,null,t)}get point(){return!0}eq(t){return t instanceof Mo&&Po(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Mo.prototype.mapMode=Vn.TrackBefore;class zo extends Vo{constructor(t,e,i,r,n,s){super(e,i,n,t),this.block=r,this.isReplace=s,this.mapMode=r?e<0?Vn.TrackBefore:Vn.TrackAfter:Vn.TrackDel}get point(){return!0}get type(){return this.startSide<this.endSide?Do.WidgetRange:this.startSide<0?Do.WidgetBefore:Do.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof zo&&(e=this.widget,i=t.widget,e==i||!!(e&&i&&e.compare(i)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,i}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only create zero-length ranges");return super.range(t,e)}}function Qo(t){let{inclusiveStart:e,inclusiveEnd:i}=t;return null==e&&(e=t.inclusive),null==i&&(i=t.inclusive),{start:e||!1,end:i||!1}}function qo(t,e,i){let r=i.length-1;r>=0&&i[r]+4>t?i[r]=Math.max(i[r],e):i.push(t,e)}const jo=Hn.define(),Uo=Hn.define({combine:t=>t.indexOf(!0)>-1}),Lo=Ns.newName(),Bo=Ns.newName(),Go=Ns.newName();function Io(t,e){let i=Object.create(null);for(let r in e){i[r.split(/\s*,\s*/).map(e=>{let i,r=t;r==Lo&&(i=/^(.*?)@(light|dark)$/.exec(e))&&(r="dark"==i[2]?Go:Bo,e=i[1]);let n=e.split("."),s="."+r+("wrap"==n[0]?"":" ");for(let t=1;t<=n.length;t++)s+=".cm-"+n.slice(0,t).join("-");return s}).join(", ")]=e[r]}return new Ns(i,{generateClasses:!1})}function Yo(t){let e=t.split("."),i="";for(let t=1;t<=e.length;t++)i+=(i?" ":"")+"cm-"+e.slice(0,t).join("-");return i}const Zo=Io(Lo,{wrap:{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"content@light":{caretColor:"black"},"content@dark":{caretColor:"white"},line:{display:"block",padding:"0 2px 0 4px"}}),Ho=Yo("line");class Fo extends wo{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,r){if(i){if(!(i instanceof Fo))return!1;this.dom||i.transferDOM(this)}r&&this.setDeco(i?i.attrs:null);let n=i?i.children:[],s=this.childCursor(),{i:o,off:a}=s.findPos(e,1),{i:l,off:h}=s.findPos(t,-1),c=t-e;for(let t of n)c+=t.length;if(this.length+=c,l==o&&h){let t=this.children[l];if(1==n.length&&t.merge(h,a,n[0]))return!0;if(0==n.length)return t.merge(h,a,null),!0;let e=t.slice(a);e.merge(0,0,n[n.length-1])?n[n.length-1]=e:n.push(e),o++,a=0}if(a){let t=this.children[o];n.length&&t.merge(0,a,n[n.length-1])?n.pop():t.merge(0,a,null)}else o<this.children.length&&n.length&&this.children[o].merge(0,0,n[n.length-1])&&n.pop();if(h){let t=this.children[l];n.length&&t.merge(h,void 0,n[0])?n.shift():t.merge(h,void 0,null),l++}else l&&n.length&&this.children[l-1].merge(this.children[l-1].length,void 0,n[0])&&n.shift();for(;l<o&&n.length&&this.children[o-1].match(n[n.length-1]);)n.pop(),o--;for(;l<o&&n.length&&this.children[l].match(n[0]);)n.shift(),l++;return(n.length||l!=o)&&this.replaceChildren(l,o,n),!0}split(t){let e=new Fo;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:i,off:r}=this.childPos(t);r&&(e.append(this.children[i].slice(r)),this.children[i].merge(r,void 0,null),i++);for(let t=i;t<this.children.length;t++)e.append(this.children[t]);for(;i>0&&0==this.children[i-1].length;)this.children[i-1].parent=null,i--;return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Po(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t){this.children.push(t),t.setParent(this),this.length+=t.length}addLineDeco(t){let e=t.spec.attributes;e&&(this.attrs=_o(e,this.attrs||{}))}domAtPos(t){let e=0;for(let i=0;e<this.children.length;e++){let r=this.children[e],n=i+r.length;if(!(n==i&&r.getSide()<=0)){if(t>i&&t<n&&r.dom.parentNode==this.dom)return r.domAtPos(t-i);if(t<=i)break;i=n}}for(;e>0;e--){let t=this.children[e-1].dom;if(t.parentNode==this.dom)return yo.after(t)}return new yo(this.dom,0)}sync(){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Ho,this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Ao(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Ho),this.prevAttrs=void 0),super.sync();let t=this.dom.lastChild;if(!t||"BR"!=t.nodeName&&!(wo.get(t)instanceof To)){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof To))return null;let i=ho(e.dom);if(1!=i.length)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){for(let i=0,r=0;r<this.children.length;r++){let n=this.children[r],s=i+n.length;if(s!=i&&(e<=0||s==this.length?s>=t:s>t))return n.coordsAt(t-i,e);i=s}return this.dom.lastChild.getBoundingClientRect()}match(t){return!1}get type(){return Do.Text}static find(t,e){for(let i=0,r=0;;i++){let n=t.children[i],s=r+n.length;if(s>=e){if(n instanceof Fo)return n;if(n.length)return null}r=s+n.breakAfter}}}const Ko=[];class Jo extends wo{constructor(t,e,i,r=0){super(),this.widget=t,this.length=e,this.type=i,this.open=r,this.breakAfter=0}merge(t,e,i){if(!(i instanceof Jo)||!i.open||t>0&&!(1&i.open)||e<this.length&&!(2&i.open))return!1;if(!this.widget.compare(i.widget))throw new Error("Trying to merge an open widget with an incompatible node");return this.length=t+i.length+(this.length-e),!0}domAtPos(t){return 0==t?yo.before(this.dom):yo.after(this.dom,t==this.length)}split(t){let e=this.length-t;return this.length=t,new Jo(this.widget,e,this.type)}get children(){return Ko}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):rn.empty}domBoundsAround(){return null}match(t){return t instanceof Jo&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget.value)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}}class ta{constructor(t,e,i){this.doc=t,this.pos=e,this.end=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).start!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Jo&&t.type==Do.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new Fo),this.curLine}addWidget(t){this.curLine=null,this.content.push(t)}finish(){this.posCovered()||this.getLine()}buildText(t,e,i,r,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t);this.getLine().append(new To(this.text.slice(this.textOff,this.textOff+n),e,i,r)),t-=n,this.textOff+=n}}span(t,e,i){let r=null,n=null,s=null;for(let{spec:t}of i)if(t.tagName&&(r=t.tagName),t.class&&(n=n?n+" "+t.class:t.class),t.attributes)for(let e in t.attributes){let i=t.attributes[e];null!=i&&("class"==e?n=n?n+" "+i:i:(s||(s={}),"style"==e&&s.style&&(i=s.style+";"+i),s[e]=i))}this.buildText(e-t,r,n,s,i),this.pos=e}point(t,e,i,r,n){let s=(r?1:0)|(n?2:0),o=e-t;if(i instanceof zo)if(i.block){let{type:t}=i;t!=Do.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Jo(i.widget||new ea("div"),o,t,s))}else this.getLine().append($o.create(i.widget||new ea("span"),o,i.startSide,s));else this.doc.lineAt(this.pos).start==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e)}static build(t,e,i,r){let n=new ta(t,e,i);return qs.spans(r,e,i,n),n.finish(),n}}class ea extends Ro{toDOM(){return document.createElement(this.value)}updateDOM(t){return t.nodeName.toLowerCase()==this.value}}var ia;!function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(ia||(ia={}));const ra=ia.LTR,na=ia.RTL;function sa(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const oa=sa("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),aa=sa("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");const la=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class ha{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?na:ra}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,r){let n=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==i)return s;(n<0||(0!=r?r<0?o.from<e:o.to>e:t[n].level>o.level))&&(n=s)}}if(n<0)throw new RangeError("Index out of range");return n}}const ca=[];function ua(t){return[new ha(0,t,0)]}let da="";function fa(t,e,i,r,n){var s;let o=r.head-t.start,a=-1;if(0==o){if(!n||!t.length)return null;e[0].level!=i&&(o=e[0].side(!1,i),a=0)}else if(o==t.length){if(n)return null;let t=e[e.length-1];t.level!=i&&(o=t.side(!0,i),a=e.length-1)}a<0&&(a=ha.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let l=e[a];o==l.side(n,i)&&(l=e[a+=n?1:-1],o=l.side(!n,i));let h=n==(l.dir==i),c=t.findClusterBreak(o,h);if(da=t.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(n,i))return Gn.cursor(c+t.start,h?-1:1,l.level);let u=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return u||l.level==i?u&&u.level<l.level?Gn.cursor(u.side(!n,i)+t.start,0,u.level):Gn.cursor(c+t.start,0,l.level):Gn.cursor(n?t.end:t.start,n?-1:1,i)}const pa=["pre-wrap","normal","pre-line"];class Oa{constructor(){this.doc=rn.empty,this.lineWrapping=!1,this.direction=ia.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t,e,i){let r=!1;for(let e=0;e<t.length;e++){let i=t[e];i<0?e++:this.heightSamples[Math.floor(10*i)]||(r=!0,this.heightSamples[Math.floor(10*i)]=!0)}return r||pa.indexOf(e)>-1!=this.lineWrapping||this.direction!=i}refresh(t,e,i,r,n,s){let o=pa.indexOf(t)>-1,a=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=e;if(this.lineWrapping=o,this.direction=e,this.lineHeight=i,this.charWidth=r,this.lineLength=n,a){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class ga{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ma{constructor(t,e,i,r,n){this.from=t,this.length=e,this.top=i,this.height=r,this.type=n}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new ma(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var va;!function(t){t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight"}(va||(va={}));class ya{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>1e-10&&(t.heightChanged=!0),this.height=e)}replace(t,e,i,r){return ya.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,r){let n=this;for(let s=r.length-1;s>=0;s--){let{fromA:o,toA:a,fromB:l,toB:h}=r[s],c=n.lineAt(o,va.ByPosNoHeight,e,0,0),u=c.to>=a?c:n.lineAt(a,va.ByPosNoHeight,e,0,0);for(h+=u.to-a,a=u.to;s>0&&c.from<=r[s-1].toA;)o=r[s-1].fromA,l=r[s-1].fromB,s--,o<c.from&&(c=n.lineAt(o,va.ByPosNoHeight,e,0,0));l+=c.from-o,o=c.from;let d=_a.build(i,t,l,h);n=n.replace(o,a,d,i.doc)}return n.updateHeight(i,0)}static empty(){return new wa(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,r=0,n=0;for(;;)if(e==i)if(r>2*n){let n=t[e-1];n.break?t.splice(--e,1,n.left,null,n.right):t.splice(--e,1,n.left,n.right),i+=1+n.break,r-=n.size}else{if(!(n>2*r))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,n-=e.size}}else if(r<n){let i=t[e++];i&&(r+=i.size)}else{let e=t[--i];e&&(n+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,i++),new xa(ya.of(t.slice(0,e)),s,ya.of(t.slice(i)))}}ya.prototype.size=1;class ba extends ya{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,r){return new ma(r,this.length,i,this.height,this.type)}lineAt(t,e,i,r,n){return this.blockAt(0,i,r,n)}forEachLine(t,e,i,r,n,s){s(this.blockAt(0,i,r,n))}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class wa extends ba{constructor(t,e){super(t,e,Do.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i,r){if(1==i.length&&Math.abs(this.length-i[0].length)<10&&(i[0]instanceof wa||i[0]instanceof Sa&&r.lineAt(t).length==i[0].length)){let t=i[0];return t instanceof Sa?t=new wa(t.length,this.height):t.height=this.height,t}return ya.of(i)}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Sa extends ya{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,r=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(t,e,i,r){let{firstLine:n,lastLine:s,lineHeight:o}=this.lines(e,r),a=Math.max(0,Math.min(s-n,Math.floor((t-i)/o))),{start:l,length:h}=e.line(n+a);return new ma(l,h,i+o*a,o,Do.Text)}lineAt(t,e,i,r,n){if(e==va.ByHeight)return this.blockAt(t,i,r,n);if(e==va.ByPosNoHeight){let{start:e,end:r}=i.lineAt(t);return new ma(e,r-e,0,0,Do.Text)}let{firstLine:s,lineHeight:o}=this.lines(i,n),{start:a,length:l,number:h}=i.lineAt(t);return new ma(a,l,r+o*(h-s),o,Do.Text)}forEachLine(t,e,i,r,n,s){let{firstLine:o,lastLine:a,lineHeight:l}=this.lines(i,n);for(let n=o;n<=a;n++){let{start:o,end:a}=i.line(n);if(o>e)break;a>=t&&s(new ma(o,a-o,r,r+=l,Do.Text))}}replace(t,e,i){let r=this.length-e;if(r>0){let t=i[i.length-1];t instanceof Sa?i[i.length-1]=new Sa(t.length+r):i.push(null,new Sa(r-1))}if(t>0){let e=i[0];e instanceof Sa?i[0]=new Sa(t+e.length):i.unshift(new Sa(t-1),null)}return ya.of(i)}decomposeLeft(t,e){e.push(new Sa(t-1),null)}decomposeRight(t,e){e.push(null,new Sa(this.length-t-1))}updateHeight(t,e=0,i=!1,r){let n=e+this.length;if(r&&r.from<=e+this.length&&r.more){let i=[],s=Math.max(e,r.from);for(r.from>e&&i.push(new Sa(r.from-e-1).updateHeight(t,e));s<=n&&r.more;){let e=t.doc.lineAt(s).length;i.length&&i.push(null);let n=new wa(e,r.heights[r.index++]);n.outdated=!1,i.push(n),s+=e+1}return s<=n&&i.push(null,new Sa(n-s).updateHeight(t,s)),t.heightChanged=!0,ya.of(i)}return(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class xa extends ya{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,r){let n=i+this.left.height;return t<n||0==this.right.height?this.left.blockAt(t,e,i,r):this.right.blockAt(t,e,n,r+this.left.length+this.break)}lineAt(t,e,i,r,n){let s=r+this.left.height,o=n+this.left.length+this.break,a=e==va.ByHeight?t<s||0==this.right.height:t<o,l=a?this.left.lineAt(t,e,i,r,n):this.right.lineAt(t,e,i,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let h=e==va.ByPosNoHeight?va.ByPosNoHeight:va.ByPos;return a?l.join(this.right.lineAt(o,h,i,s,o)):this.left.lineAt(o,h,i,r,n).join(l)}forEachLine(t,e,i,r,n,s){let o=r+this.left.height,a=n+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,r,n,s),e>=a&&this.right.forEachLine(t,e,i,o,a,s);else{let l=this.lineAt(a,va.ByPos,i,r,n);t<l.from&&this.left.forEachLine(t,l.from-1,i,r,n,s),l.to>=t&&l.from<=e&&s(l),e>l.to&&this.right.forEachLine(l.to+1,e,i,o,a,s)}}replace(t,e,i,r){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i,r));let s=[];t>0&&this.decomposeLeft(t,s);let o=s.length;for(let t of i)s.push(t);if(t>0&&ka(s,o-1),e<this.length){let t=s.length;this.decomposeRight(e,s),ka(s,t)}return ya.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,r=i+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?ya.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,r){let{left:n,right:s}=this,o=e+n.length+this.break,a=null;return r&&r.from<=e+n.length&&r.more?a=n=n.updateHeight(t,e,i,r):n.updateHeight(t,e,i),r&&r.from<=o+s.length&&r.more?a=s=s.updateHeight(t,o,i,r):s.updateHeight(t,o,i),a?this.balanced(n,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ka(t,e){let i,r;null==t[e]&&(i=t[e-1])instanceof Sa&&(r=t[e+1])instanceof Sa&&t.splice(e-1,3,new Sa(i.length+1+r.length))}class _a{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof wa?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new wa(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let r=i.widget?Math.max(0,i.widget.estimatedHeight):0,n=e-t;i.block?this.addBlock(new ba(n,r,i.type)):(n||r>=5)&&this.addLineDeco(r,n)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).end)}enterLine(){if(this.lineStart>-1)return;let{start:t,end:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(new Sa(t-this.writtenTo-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new wa(this.pos-t,-1)),this.writtenTo=this.pos}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof wa)return t;let e=new wa(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=Do.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Do.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof wa||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(new Sa(this.pos-this.writtenTo)):this.nodes.push(new wa(0,-1));let i=t;for(let t of this.nodes)t instanceof wa&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}static build(t,e,i,r){let n=new _a(i,t);return qs.spans(e,i,r,n),n.finish(i)}get minPointSize(){return 0}}class Pa{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,r){(t<e||i&&i.heightRelevant||r&&r.heightRelevant)&&qo(t,e,this.changes)}get minPointSize(){return 0}}const Aa=[],Ea=Hn.define(),Xa=Hn.define(),Ta=Hn.define(),Ca=Hn.define();function $a(t,e,i){let r=t.facet(Ca);r.length?r[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}const Na=Hn.define({combine:t=>!t.length||t[0]});class Ra{static define(){return new Ra}}Ra.scrollMargins=Ra.define();let Da=0;const Va=Hn.define();class Wa{constructor(t,e,i){this.id=t,this.create=e,this.fields=i,this.extension=Va.of(this)}static define(t){return new Wa(Da++,t,[])}static fromClass(t){return Wa.define(e=>new t(e))}provide(t,e){return new Wa(this.id,this.create,this.fields.concat({field:t,get:e}))}decorations(t){return this.provide(Ma,t||(t=>t.decorations))}eventHandlers(t){return this.provide(za,e=>({plugin:e,handlers:t}))}}const Ma=Ra.define(),za=Ra.define();class Qa{constructor(t,e){this.value=t,this.spec=e,this.updateFunc=this.value.update?this.value.update.bind(this.value):()=>{}}static create(t,e){let i;try{i=t.create(e)}catch(t){return $a(e.state,t,"CodeMirror plugin crashed"),Qa.dummy}return new Qa(i,t)}takeField(t,e){for(let{field:i,get:r}of this.spec.fields)i==t&&e.push(r(this.value))}update(t){try{return this.updateFunc(t),this}catch(e){if($a(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}return Qa.dummy}}destroy(t){try{this.value.destroy&&this.value.destroy()}catch(e){$a(t.state,e,"CodeMirror plugin crashed")}}}Qa.dummy=new Qa({},Wa.define(()=>({})));const qa=Hn.define({combine:t=>t.reduce((t,e)=>_o(e,t),{})}),ja=Hn.define({combine:t=>t.reduce((t,e)=>_o(e,t),{})}),Ua=Hn.define(),La=Hn.define();class Ba{constructor(t,e,i,r){this.fromA=t,this.toA=e,this.fromB=i,this.toB=r}join(t){return new Ba(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(0==e.length)return t;let i=[];for(let r=0,n=0,s=0,o=0;;r++){let a=r==t.length?null:t[r],l=s-o,h=a?a.fromB:1e9;for(;n<e.length&&e[n]<h;){let t=e[n],r=e[n+1],s=Math.max(o,t),a=Math.min(h,r);if(s<=a&&new Ba(s+l,a+l,s,a).addToSet(i),r>h)break;n+=2}if(!a)return i;new Ba(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,o=a.toB}}}class Ga{constructor(t,e,i=Aa){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.prevState=t.state,this.changes=Mn.empty(this.prevState.doc.length);for(let t of i)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges((t,e,i,n)=>r.push(new Ba(t,e,i,n))),this.changedRanges=r;let n=t.hasFocus;n!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=n,this.flags),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some(t=>t.docChanged)}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class Ia{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],n=e[i];if(r.from!=n.from||r.to!=n.to||r.size!=n.size)return!1}return!0}draw(t){return Vo.replace({widget:new Ya({size:this.size,vertical:t})}).range(this.from,this.to)}}class Ya extends Ro{toDOM(){let t=document.createElement("div");return this.value.vertical?t.style.height=this.value.size+"px":(t.style.width=this.value.size+"px",t.style.height="2px",t.style.display="inline-block"),t}eq(t){return this.value.size==t.size&&this.value.vertical==t.vertical}get estimatedHeight(){return this.value.vertical?this.value.size:-1}}class Za{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.paddingTop=0,this.paddingBottom=0,this.heightOracle=new Oa,this.heightMap=ya.empty(),this.scrollTo=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=this.heightMap.applyChanges(t.facet(Ua),rn.empty,this.heightOracle.setDoc(t.doc),[new Ba(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Vo.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}update(t,e=null){let i=this.state;this.state=t.state;let r=this.state.facet(Ua),n=t.changedRanges,s=Ba.extendWithRanges(n,function(t,e,i){let r=new Pa;return qs.compare(t,e,i,r),r.changes}(t.prevState.facet(Ua),r,t?t.changes:Mn.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(r,i.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(t.flags|=2);let a=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.head<a.from||e.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e)),a.eq(this.viewport)||(this.viewport=a,t.flags|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(t.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes)))),this.computeVisibleRanges(),e&&(this.scrollTo=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.primary.empty&&t.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t,e){let i=t.dom,r="",n=ia.LTR;if(!e){let t=window.getComputedStyle(i);r=t.whiteSpace,n="rtl"==t.direction?ia.RTL:ia.LTR,this.paddingTop=parseInt(t.paddingTop)||0,this.paddingBottom=parseInt(t.paddingBottom)||0}let s=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(t,e){let i=t.getBoundingClientRect(),r=Math.max(0,i.left),n=Math.min(innerWidth,i.right),s=Math.max(0,i.top),o=Math.min(innerHeight,i.bottom);for(let e=t.parentNode;e;)if(1==e.nodeType){if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=window.getComputedStyle(e).overflow){let t=e.getBoundingClientRect();r=Math.max(r,t.left),n=Math.min(n,t.right),s=Math.max(s,t.top),o=Math.min(o,t.bottom)}e=e.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:r-i.left,right:n-i.left,top:s-(i.top+e),bottom:o-(i.top+e)}}(i,this.paddingTop),o=s.top-this.pixelViewport.top,a=s.bottom-this.pixelViewport.bottom;if(this.pixelViewport=s,this.pixelViewport.bottom<=this.pixelViewport.top||this.pixelViewport.right<=this.pixelViewport.left)return 0;let l=t.measureVisibleLineHeights(),h=!1,c=0;if(!e){if(this.heightOracle.mustRefresh(l,r,n)){let{lineHeight:e,charWidth:i}=t.measureTextSize();h=this.heightOracle.refresh(r,n,e,i,t.dom.clientWidth/i,l),h&&(t.minWidth=0)}o>0&&a>0?c=Math.max(o,a):o<0&&a<0&&(c=Math.min(o,a))}this.heightOracle.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(this.heightOracle,0,h,new ga(this.viewport.from,l));let u=this.heightOracle.heightChanged?2:0;return(!this.viewportIsAppropriate(this.viewport,c)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))&&(this.viewport=this.getViewport(c,this.scrollTo),u|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(u|=this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps))),this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.enforceCursorAssoc()),u}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,n=this.state.doc,{top:s,bottom:o}=this.pixelViewport,a=new Ha(r.lineAt(s-1e3*i,va.ByHeight,n,0,0).from,r.lineAt(o+1e3*(1-i),va.ByHeight,n,0,0).to);if(e)if(e.head<a.from){let{top:t}=r.lineAt(e.head,va.ByPos,n,0,0);a=new Ha(r.lineAt(t-500,va.ByHeight,n,0,0).from,r.lineAt(t+(o-s)+500,va.ByHeight,n,0,0).to)}else if(e.head>a.to){let{bottom:t}=r.lineAt(e.head,va.ByPos,n,0,0);a=new Ha(r.lineAt(t-(o-s)-500,va.ByHeight,n,0,0).from,r.lineAt(t+500,va.ByHeight,n,0,0).to)}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new Ha(this.heightMap.lineAt(i,va.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,va.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){let{top:r}=this.heightMap.lineAt(t,va.ByPos,this.state.doc,0,0),{bottom:n}=this.heightMap.lineAt(e,va.ByPos,this.state.doc,0,0);return(0==t||r<=this.pixelViewport.top-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||n>=this.pixelViewport.bottom+Math.max(10,Math.min(i,250)))&&r>this.pixelViewport.top-2e3&&n<this.pixelViewport.bottom+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let r of t)e.touchesRange(r.from,r.to)||i.push(new Ia(e.mapPos(r.from),e.mapPos(r.to),r.size));return i}ensureLineGaps(t){let e=[];return this.heightOracle.direction!=ia.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,i=>{if(i.length<1e4)return;let r,n,s=function(t,e,i){let r=[],n=t,s=0;qs.spans(i.facet(Ua),t,e,{span(){},point(t,e){t>n&&(r.push({from:n,to:t}),s+=t-n),n=e},minPointSize:20}),n<e&&(r.push({from:n,to:e}),s+=e-n);return{total:s,ranges:r}}(i.from,i.to,this.state);if(s.total<1e4)return;if(this.heightOracle.lineWrapping)r=i.from!=this.viewport.from?i.from:Fa(s,(this.pixelViewport.top-i.top)/i.height),n=i.to!=this.viewport.to?i.to:Fa(s,(this.pixelViewport.bottom-i.top)/i.height);else{let t=s.total*this.heightOracle.charWidth;r=Fa(s,this.pixelViewport.left/t),n=Fa(s,this.pixelViewport.right/t)}let o=this.state.selection.primary;o.from<=r&&o.to>=i.from&&(r=o.from),o.from<=i.to&&o.to>=n&&(n=o.to);let a=r-1e4,l=n+1e4;a>i.from+5e3&&e.push(Ja(t,t=>t.from==i.from&&t.to>a-5e3&&t.to<a+5e3)||new Ia(i.from,a,this.gapSize(i,a,!0,s))),l<i.to-5e3&&e.push(Ja(t,t=>t.to==i.to&&t.from>l-5e3&&t.from<l+5e3)||new Ia(l,i.to,this.gapSize(i,l,!1,s)))}),e}gapSize(t,e,i,r){if(this.heightOracle.lineWrapping){let n=t.height*Ka(r,e);return i?n:t.height-n}{let t=Ka(r,e);return r.total*this.heightOracle.charWidth*(i?t:1-t)}}updateLineGaps(t){return Ia.same(t,this.lineGaps)?0:(this.lineGaps=t,this.lineGapDeco=Vo.set(t.map(t=>t.draw(this.heightOracle.lineWrapping))),16)}computeVisibleRanges(){let t=this.state.facet(Ua);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];qs.spans(t,this.viewport.from,this.viewport.to,{span(t,i){e.push({from:t,to:i})},point(){},minPointSize:20}),this.visibleRanges=e}lineAt(t,e){return this.heightMap.lineAt(t,va.ByPos,this.state.doc,e+this.paddingTop,0)}lineAtHeight(t,e){return this.heightMap.lineAt(t,va.ByHeight,this.state.doc,e+this.paddingTop,0)}blockAtHeight(t,e){return this.heightMap.blockAt(t,this.state.doc,e+this.paddingTop,0)}forEachLine(t,e,i,r){return this.heightMap.forEachLine(t,e,this.state.doc,r+this.paddingTop,0,i)}}class Ha{constructor(t,e){this.from=t,this.to=e}eq(t){return this.from==t.from&&this.to==t.to}}function Fa({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let r=Math.floor(t*i);for(let t=0;;t++){let{from:i,to:n}=e[t],s=n-i;if(r<=s)return i+r;r-=s}}function Ka(t,e){let i=0;for(let{from:r,to:n}of t.ranges){if(e<=n){i+=e-r;break}i+=n-r}return i/t.total}function Ja(t,e){for(let i of t)if(e(i))return i}const tl=[];class el extends wo{constructor(t){super(),this.view=t,this.viewports=tl,this.compositionDeco=Vo.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(t.contentDOM),this.children=[new Fo],this.children[0].setParent(this),this.updateInner([new Ba(0,0,0,t.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=0);let r=oo.chrome&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.prevState.doc.lines;(null===(e=this.view.inputState)||void 0===e?void 0:e.composing)?t.transactions.length&&(this.compositionDeco=function(t,e){let i=ao(t.root),r=i.focusNode&&nl(i.focusNode,i.focusOffset,0);if(!r)return Vo.none;let n,s,o=t.docView.nearest(r),a=r;if(o instanceof Xo)n=o.posAtStart,s=n+o.length,a=o.dom;else{if(!(o instanceof Fo))return Vo.none;{for(;a.parentNode!=o.dom;)a=a.parentNode;let t=a.previousSibling;for(;t&&!wo.get(t);)t=t.previousSibling;n=s=t?wo.get(t).posAtEnd:o.posAtStart}}let l=e.mapPos(n,1),h=Math.max(l,e.mapPos(s,-1)),c=r.nodeValue,{state:u}=t;if(h-l<c.length)if(u.sliceDoc(l,Math.min(u.doc.length,l+c.length))==c)h=l+c.length;else{if(u.sliceDoc(Math.max(0,h-c.length),h)!=c)return Vo.none;l=h-c.length}else if(u.sliceDoc(l,h)!=c)return Vo.none;return Vo.set(Vo.replace({widget:new rl({top:a,text:r})}).range(l,h))}(this.view,t.changes)):this.compositionDeco=Vo.none;let n=this.decorations,s=this.updateDeco(),o=function(t,e,i){let r=new ol;return qs.compare(t,e,i,r),r.changes}(n,s,t.changes);i=Ba.extendWithRanges(i,o);let a=t.transactions.some(t=>"pointerselection"==t.annotation(gs.userEvent));return 0==this.dirty&&0==i.length&&!(20&t.flags)&&t.state.selection.primary.from>=this.view.viewport.from&&t.state.selection.primary.to<=this.view.viewport.to?(this.updateSelection(r,a),!1):(this.updateInner(i,s,t.prevState.doc.length,r,a),!0)}updateInner(t,e,i,r=!1,n=!1){this.updateChildren(t,e,i),this.view.observer.ignore(()=>{this.dom.style.height=this.view.viewState.heightMap.height+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"",this.sync(),this.dirty=0,this.updateSelection(r,n),this.dom.style.height=""})}updateChildren(t,e,i){let r=this.childCursor(i);for(let i=t.length-1;;i--){let n=i>=0?t[i]:null;if(!n)break;let{fromA:s,toA:o,fromB:a,toB:l}=n,{content:h,breakAtStart:c}=ta.build(this.view.state.doc,a,l,e),{i:u,off:d}=r.findPos(o,1),{i:f,off:p}=r.findPos(s,-1);this.replaceRange(f,p,u,d,h,c)}}replaceRange(t,e,i,r,n,s){let o=this.children[t],a=n.length?n[n.length-1]:null,l=a?a.breakAfter:s;if(t==i&&!s&&!l&&n.length<2&&o.merge(e,r,n.length?a:null,0==e))return;let h=this.children[i];for(r<h.length||h.children.length&&0==h.children[h.children.length-1].length?(t==i&&(h=h.split(r),r=0),!l&&a&&h.merge(0,r,a,!0)?n[n.length-1]=h:((r||h.children.length&&0==h.children[0].length)&&h.merge(0,r,null,!1),n.push(h))):h.breakAfter&&(a?a.breakAfter=1:s=1),i++,o.breakAfter=s,e>0&&(!s&&n.length&&o.merge(e,o.length,n[0],!1)?o.breakAfter=n.shift().breakAfter:(e<o.length||o.children.length&&0==o.children[o.children.length-1].length)&&o.merge(e,o.length,null,!1),t++);t<i&&n.length;)if(this.children[i-1].match(n[n.length-1]))i--,n.pop();else{if(!this.children[t].match(n[0]))break;t++,n.shift()}(t<i||n.length)&&this.replaceChildren(t,i,n)}updateSelection(t=!1,e=!1){if(!e&&!this.mayControlSelection())return;let i=this.view.state.selection.primary,r=this.domAtPos(i.anchor),n=this.domAtPos(i.head),s=ao(this.root);(t||!s.focusNode||oo.gecko&&i.empty&&sl(s.focusNode,s.focusOffset)||!co(r.node,r.offset,s.anchorNode,s.anchorOffset)||!co(n.node,n.offset,s.focusNode,s.focusOffset))&&this.view.observer.ignore(()=>{if(i.empty){if(oo.gecko){let t=sl(r.node,r.offset);if(t&&3!=t){let e=nl(r.node,r.offset,1==t?1:-1);e&&(r=new yo(e,1==t?0:e.nodeValue.length))}}s.collapse(r.node,r.offset),null!=i.bidiLevel&&null!=s.cursorBidiLevel&&(s.cursorBidiLevel=i.bidiLevel)}else if(s.extend)s.collapse(r.node,r.offset),s.extend(n.node,n.offset);else{let t=document.createRange();i.anchor>i.head&&([r,n]=[n,r]),t.setEnd(n.node,n.offset),t.setStart(r.node,r.offset),s.removeAllRanges(),s.addRange(t)}}),this.impreciseAnchor=r.precise?null:new yo(s.anchorNode,s.anchorOffset),this.impreciseHead=n.precise?null:new yo(s.focusNode,s.focusOffset)}enforceCursorAssoc(){let t=this.view.state.selection.primary,e=ao(this.root);if(!t.empty||!t.assoc||!e.modify)return;let i=Fo.find(this,t.head);if(!i)return;let r=i.posAtStart;if(t.head==r||t.head==r+i.length)return;let n=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1);if(!n||!s||n.bottom>s.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Na)?this.root.activeElement==this.dom:lo(this.dom,ao(this.root))}nearest(t){for(let e=t;e;){let t=wo.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof Fo)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,r=this.children.length-1;;r--){let n=this.children[r],s=i-n.breakAfter-n.length;if(t>=s&&n.type!=Do.WidgetAfter)return n.coordsAt(t-s,e);i=s}}measureVisibleLineHeights(){let t=[],{from:e,to:i}=this.view.viewState.viewport,r=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let n=0,s=0;s<this.children.length;s++){let o=this.children[s],a=n+o.length;if(a>i)break;if(n>=e){t.push(o.dom.getBoundingClientRect().height);let e=o.dom.scrollWidth;e>r&&(this.minWidth=r=e,this.minWidthFrom=n,this.minWidthTo=a)}n=a+o.breakAfter}return t}measureTextSize(){for(let t of this.children)if(t instanceof Fo){let e=t.measureTextSize();if(e)return e}let t,e,i=document.createElement("div");return i.className="cm-line",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let r=ho(i.firstChild)[0];t=i.getBoundingClientRect().height,e=r?r.width/27:7,i.remove()}),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new ko(this.children,t,e)}computeBlockGapDeco(){let t=this.view.viewState.viewport,e=[t],{head:i,anchor:r}=this.view.state.selection.primary;if(i<t.from||i>t.to){let{from:t,to:r}=this.view.viewState.lineAt(i,0);e.push(new Ha(t,r))}if(!e.some(({from:t,to:e})=>r>=t&&r<=e)){let{from:t,to:i}=this.view.viewState.lineAt(r,0);e.push(new Ha(t,i))}this.viewports=e.sort((t,e)=>t.from-e.from);let n=[];for(let t=0,i=0;;i++){let r=i==e.length?null:e[i],s=r?r.from-1:this.length;if(s>t){let e=this.view.viewState.lineAt(s,0).bottom-this.view.viewState.lineAt(t,0).top;n.push(Vo.replace({widget:new il(e),block:!0,inclusive:!0}).range(t,s))}if(!r)break;t=r.to+1}return Vo.set(n)}updateDeco(){return this.decorations=[...this.view.state.facet(Ua),this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco,...this.view.pluginField(Ma)]}scrollPosIntoView(t,e){let i=this.coordsAt(t,e);if(!i)return;let r=0,n=0,s=0,o=0;for(let t of this.view.pluginField(Ra.scrollMargins))if(t){let{left:e,right:i,top:a,bottom:l}=t;null!=e&&(r=Math.max(r,e)),null!=i&&(n=Math.max(n,i)),null!=a&&(s=Math.max(s,a)),null!=l&&(o=Math.max(o,l))}!function(t,e){let i=t.ownerDocument.defaultView;for(let r=t.parentNode;r;)if(1==r.nodeType){let t,n=r==document.body;if(n)t=Oo(i);else{if(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth){r=r.parentNode;continue}let e=r.getBoundingClientRect();t={left:e.left,right:e.left+r.clientWidth,top:e.top,bottom:e.top+r.clientHeight}}let s=0,o=0;if(e.top<t.top?o=-(t.top-e.top+5):e.bottom>t.bottom&&(o=e.bottom-t.bottom+5),e.left<t.left?s=-(t.left-e.left+5):e.right>t.right&&(s=e.right-t.right+5),s||o)if(n)i.scrollBy(s,o);else{if(o){let t=r.scrollTop;r.scrollTop+=o,o=r.scrollTop-t}if(s){let t=r.scrollLeft;r.scrollLeft+=s,s=r.scrollLeft-t}e={left:e.left-s,top:e.top-o,right:e.right-s,bottom:e.bottom-o}}if(n)break;r=r.parentNode}else{if(11!=r.nodeType)break;r=r.host}}(this.dom,{left:i.left-r,top:i.top-s,right:i.right+n,bottom:i.bottom+o})}}class il extends Ro{toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}updateDOM(t){if(this.value<1e7){for(;t.lastChild;)t.lastChild.remove();t.style.height=this.value+"px"}else{t.style.height="";for(let e=this.value;e>0;e-=1e7){t.appendChild(document.createElement("div")).style.height=Math.min(e,1e7)+"px"}}return!0}get estimatedHeight(){return this.value}}class rl extends Ro{eq(t){return this.value.top==t.top&&this.value.text==t.text}toDOM(){return this.value.top}ignoreEvent(){return!1}get customView(){return No}}function nl(t,e,i){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&i<=0)e=po(t=t.childNodes[e-1]);else{if(!(1==t.nodeType&&e<t.childNodes.length&&i>=0))return null;t=t.childNodes[e],e=0}}}function sl(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}class ol{constructor(){this.changes=[]}compareRange(t,e){qo(t,e,this.changes)}comparePoint(t,e){qo(t,e,this.changes)}}function al(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function ll(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function hl(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function cl(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function ul(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function dl(t,e,i){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let r=n.getClientRects();for(let o=0;o<r.length;o++){let a=r[o];if(a.top!=a.bottom&&(a.left-1<=e&&a.right+1>=e&&a.top-1<=i&&a.bottom+1>=i)){let i=e>=(a.left+a.right)/2,r=i;if(oo.webkit||oo.gecko){n.setEnd(t,s),n.getBoundingClientRect().left==a.right&&(r=!i)}return{node:t,offset:s+(r?1:0)}}}}return{node:t,offset:0}}function fl(t,{x:e,y:i},r=-1){let n,s=t.contentDOM.getBoundingClientRect(),o=t.defaultLineHeight/2;for(let e=!1;;){if(n=t.blockAtHeight(i,s.top),n.top>i||n.bottom<i){if(r=n.top>i?-1:1,i=Math.min(n.bottom-o,Math.max(n.top+o,i)),e)return-1;e=!0}if(n.type==Do.Text)break;i=r>0?n.bottom+o:n.top-o}let a=n.from;if(a<t.viewport.from)return 0==t.viewport.from?0:-1;if(a>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:-1;e=Math.max(s.left+1,Math.min(s.right-1,e));let l,h=t.root,c=h.elementFromPoint(e,i),u=-1;if(c&&t.contentDOM.contains(c)&&!(t.docView.nearest(c)instanceof $o))if(h.caretPositionFromPoint){let t=h.caretPositionFromPoint(e,i);t&&({offsetNode:l,offset:u}=t)}else if(h.caretRangeFromPoint){let t=h.caretRangeFromPoint(e,i);t&&({startContainer:l,startOffset:u}=t)}if(!l){let r=Fo.find(t.docView,a);({node:l,offset:u}=function t(e,i,r){let n,s,o,a,l,h,c,u;for(let d=e.firstChild;d;d=d.nextSibling){let e=ho(d);for(let f=0;f<e.length;f++){let p=e[f];s&&hl(s,p)&&(p=cl(ul(p,s.bottom),s.top));let O=al(i,p),g=ll(r,p);if(0==O&&0==g)return 3==d.nodeType?dl(d,i,r):t(d,i,r);(!n||a>g||a==g&&o>O)&&(n=d,s=p,o=O,a=g),0==O?r>p.bottom&&(!c||c.bottom<p.bottom)?(l=d,c=p):r<p.top&&(!u||u.top>p.top)&&(h=d,u=p):c&&hl(c,p)?c=ul(c,p.bottom):u&&hl(u,p)&&(u=cl(u,p.top))}}if(c&&c.bottom>=r?(n=l,s=c):u&&u.top<=r&&(n=h,s=u),!n)return{node:e,offset:0};let d=Math.max(s.left,Math.min(s.right,i));return 3==n.nodeType?dl(n,d,r):o||"true"!=n.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,n)+(i>=(s.left+s.right)/2?1:0)}:t(n,d,r)}(r.dom,e,i))}return t.docView.posFromDOM(l,u)}function pl(t,e,i,r){let n=t.state.doc.lineAt(e.head),s=t.bidiSpans(n);for(let o=e,a=null;;){let e=fa(n,s,t.textDirection,o,i),l=da;if(!e){if(n.number==(i?t.state.doc.lines:1))return o;l="\n",n=t.state.doc.line(n.number+(i?1:-1)),s=t.bidiSpans(n),e=Gn.cursor(i?n.start:n.end)}if(a){if(!a(l))return o}else{if(!r)return e;a=r(l)}o=e}}class Ol{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.registeredEvents=[],this.customHandlers=[],this.composing=!1,this.compositionEndedAt=0,this.mouseSelection=null;for(let e in vl){let i=vl[e];t.contentDOM.addEventListener(e,r=>{ml(t,r)&&!this.ignoreDuringComposition(r)&&(this.runCustomHandlers(e,t,r)?r.preventDefault():i(t,r))}),this.registeredEvents.push(e)}t.contentDOM.addEventListener("keydown",e=>{t.inputState.lastKeyCode=e.keyCode,t.inputState.lastKeyTime=Date.now()}),t.root.activeElement==t.contentDOM&&t.dom.classList.add("cm-focused"),this.notifiedFocused=t.hasFocus,this.ensureHandlers(t)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=this.customHandlers=t.pluginField(za);for(let i of e)for(let e in i.handlers)this.registeredEvents.indexOf(e)<0&&(this.registeredEvents.push(e),("scroll"!=e?t.contentDOM:t.scrollDOM).addEventListener(e,i=>{ml(t,i)&&this.runCustomHandlers(e,t,i)&&i.preventDefault()}))}runCustomHandlers(t,e,i){for(let r of this.customHandlers){let n=r.handlers[t];if(n)try{if(n.call(r.plugin,i,e)||i.defaultPrevented)return!0}catch(t){$a(e.state,t)}}return!1}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(!!this.composing||!!(oo.safari&&t.timeStamp-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}startMouseSelection(t,e,i){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new gl(this,t,e,i)}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.lastKeyCode=this.lastSelectionTime=0}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}class gl{constructor(t,e,i,r){this.inputState=t,this.view=e,this.startEvent=i,this.style=r;let n=e.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=e.state.facet(ks.allowMultipleSelections)&&function(t,e){let i=t.state.facet(Ea);return i.length?i[0](e):oo.mac?e.metaKey:e.ctrlKey}(e,i),this.dragMove=function(t,e){let i=t.state.facet(Xa);return i.length?i[0](e):oo.mac?!e.altKey:!e.ctrlKey}(e,i),this.dragging=!!function(t,e){let{primary:i}=t.state.selection;if(i.empty)return!1;let r=ao(t.root);if(0==r.rangeCount)return!0;let n=r.getRangeAt(0).getClientRects();for(let t=0;t<n.length;t++){let i=n[t];if(i.left<=e.clientX&&i.right>=e.clientX&&i.top<=e.clientY&&i.bottom>=e.clientY)return!0}return!1}(e,i)&&null,!1===this.dragging&&(i.preventDefault(),this.select(i))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(t)}up(){null==this.dragging&&this.select(this.startEvent),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);e.eq(this.view.state.selection)&&e.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch(this.view.state.update({selection:e,annotations:gs.userEvent.of("pointerselection"),scrollIntoView:!0}))}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)}}function ml(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(i=wo.get(r))&&i.ignoreEvent(e))return!1;return!0}const vl=Object.create(null),yl=oo.ie&&oo.ie_version<15||oo.ios&&oo.webkit_version<604;function bl(t,e){let i=t.state.toText(e),r=1,n=i.lines==t.state.selection.ranges.length?t.state.changeByRange(t=>{let e=i.line(r++);return{changes:{from:t.from,to:t.to,insert:e.slice()},range:Gn.cursor(t.from+e.length)}}):t.state.replaceSelection(i);t.dispatch(t.state.update(n,{annotations:gs.userEvent.of("paste"),scrollIntoView:!0}))}function wl(t,e,i,r){if(1==r)return Gn.cursor(e,i);if(2==r)return function(t,e,i=1){let r=t.charCategorizer(e),n=t.doc.lineAt(e),s=e-n.start;if(0==n.length)return Gn.cursor(e);0==s?i=1:s==n.length&&(i=-1);let o=s,a=s;i<0?o=n.findClusterBreak(s,!1):a=n.findClusterBreak(s,!0);let l=r(n.slice(o,a));for(;o>0;){let t=n.findClusterBreak(o,!1);if(r(n.slice(t,o))!=l)break;o=t}for(;a<n.length;){let t=n.findClusterBreak(a,!0);if(r(n.slice(a,t))!=l)break;a=t}return Gn.range(o+n.start,a+n.start)}(t.state,e,i);{let i=Fo.find(t.docView,e);if(i)return Gn.range(i.posAtStart,i.posAtEnd);let{start:r,end:n}=t.state.doc.lineAt(e);return Gn.range(r,n)}}vl.keydown=(t,e)=>{(function(t){let e=(t.ctrlKey?1:0)|(t.metaKey?8:0)|(t.altKey?2:0)|(t.shiftKey?4:0),i=t.keyCode,r=oo.mac&&1==e;return 8==i||r&&72==i||46==i||r&&68==i||27==i||e==(oo.mac?8:1)&&(66==i||73==i||89==i||90==i)})(e)&&e.preventDefault(),t.inputState.setSelectionOrigin("keyboardselection")},vl.touchdown=vl.touchmove=t=>{t.inputState.setSelectionOrigin("pointerselection")},vl.mousedown=(t,e)=>{let i=null;for(let r of t.state.facet(Ta))if(i=r(t,e),i)break;i||0!=e.button||(i=function(t,e){let i=_l(t,e),r=e.detail,n=t.state.selection;return{update(t){t.changes&&(i&&(i.pos=t.changes.mapPos(i.pos)),n=n.map(t.changes))},get(e,s,o){let a=_l(t,e);if(!a||!i)return n;let l=wl(t,a.pos,a.bias,r);if(i.pos!=a.pos&&!s){let e=wl(t,i.pos,i.bias,r),n=Math.min(e.from,l.from),s=Math.max(e.to,l.to);l=n<l.from?Gn.range(n,s):Gn.range(s,n)}return s?n.replaceRange(n.primary.extend(l.from,l.to)):o?n.addRange(l):Gn.create([l])}}}(t,e)),i&&(vo(t.contentDOM),t.inputState.startMouseSelection(t,e,i))};let Sl=(t,e)=>t>=e.top&&t<=e.bottom,xl=(t,e,i)=>Sl(e,i)&&t>=i.left&&t<=i.right;function kl(t,e,i,r){let n=Fo.find(t.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(0==s)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&xl(i,r,o))return-1;let a=n.coordsAt(s,1);return a&&xl(i,r,a)?1:o&&Sl(r,o)?-1:1}function _l(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY});return i<0?null:{pos:i,bias:kl(t,i,e.clientX,e.clientY)}}function Pl(t){t.docView.compositionDeco.size&&t.update([])}vl.dragstart=(t,e)=>{let{selection:{primary:i}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=i),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(i.from,i.to)),e.dataTransfer.effectAllowed="copyMove")},vl.drop=(t,e)=>{if(!e.dataTransfer)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY}),r=e.dataTransfer.getData("Text");if(i<0||!r)return;e.preventDefault();let{mouseSelection:n}=t.inputState,s=n&&n.dragging&&n.dragMove?{from:n.dragging.from,to:n.dragging.to}:null,o={from:i,insert:r},a=t.state.changes(s?[s,o]:o);t.focus(),t.dispatch(t.state.update({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},annotations:gs.userEvent.of("drop")}))},vl.paste=(t,e)=>{t.observer.flush();let i=yl?null:e.clipboardData,r=i&&i.getData("text/plain");r?(bl(t,r),e.preventDefault()):function(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),bl(t,i.value)},50)}(t)},vl.copy=vl.cut=(t,e)=>{let{text:i,ranges:r}=function(t){let e=[],i=[];for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),i.push(r));if(!e.length){let r=-1;for(let{from:n}of t.selection.ranges){let s=t.doc.lineAt(n);s.number>r&&(e.push(s.slice()),i.push({from:s.start,to:Math.min(t.doc.length,s.end+1)})),r=s.number}}return{text:e.join(t.lineBreak),ranges:i}}(t.state);if(!i)return;let n=yl?null:e.clipboardData;n?(e.preventDefault(),n.clearData(),n.setData("text/plain",i)):function(t,e){let i=t.dom.parentNode;if(!i)return;let r=i.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}(t,i),"cut"==e.type&&t.dispatch(t.state.update({changes:r,scrollIntoView:!0,annotations:gs.userEvent.of("cut")}))},vl.focus=vl.blur=t=>{setTimeout(()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)},vl.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout(()=>{t.viewState.printing=!1,t.requestMeasure()},2e3)},vl.compositionstart=vl.compositionupdate=t=>{t.inputState.composing||(t.docView.compositionDeco.size&&(t.observer.flush(),Pl(t)),t.inputState.composing=!0)},vl.compositionend=t=>{t.inputState.composing=!1,t.inputState.compositionEndedAt=Date.now(),setTimeout(()=>{t.inputState.composing||Pl(t)},50)};const Al={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},El=oo.ie&&oo.ie_version<=11;class Xl{constructor(t,e,i){this.view=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.ignoreSelection=new go,this.charDataQueue=[],this.charDataTimeout=null,this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(t=>this.flush(t)),El&&(this.onCharData=t=>{this.charDataQueue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),null==this.charDataTimeout&&(this.charDataTimeout=setTimeout(()=>this.flush(),20))}),this.onSelectionChange=()=>{this.view.root.activeElement==this.dom&&this.flush()},this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.onScroll())},{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(){this.intersecting&&(this.flush(),this.onScrollChanged())}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Al),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),El&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),El&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}takeCharRecords(){let t=this.charDataQueue;return t.length&&(this.charDataQueue=[],clearTimeout(this.charDataTimeout),this.charDataTimeout=null),t}clearSelection(){this.ignoreSelection.set(ao(this.view.root))}clear(){this.observer.takeRecords(),this.takeCharRecords(),this.clearSelection()}flush(t=this.observer.takeRecords()){this.charDataQueue.length&&(t=t.concat(this.takeCharRecords()));let e=ao(this.view.root),i=!this.ignoreSelection.eq(e)&&lo(this.dom,e);if(0==t.length&&!i)return;let r=-1,n=-1,s=!1;for(let e of t){let t=this.readMutation(e);t&&(t.typeOver&&(s=!0),-1==r?({from:r,to:n}=t):(r=Math.min(t.from,r),n=Math.max(t.to,n)))}(r>-1||i)&&this.onChange(r,n,s)||(this.view.docView.dirty&&(this.ignore(()=>this.view.docView.sync()),this.view.docView.dirty=0),this.view.docView.updateSelection()),this.clearSelection()}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(),"childList"==t.type){let i=Tl(e,t.previousSibling||t.target.previousSibling,-1),r=Tl(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck)}}function Tl(t,e,i){for(;e;){let r=wo.get(e);if(r&&r.parent==t)return r;let n=e.parentNode;e=n!=t.dom?n:i>0?e.nextSibling:e.previousSibling}return null}function Cl(t,e,i,r){let n,s,o,a=t.state.selection.primary;if(e>-1&&(o=t.docView.domBoundsAround(e,i,0))){let{from:e,to:i}=o,r=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(t,e){let i=[];if(e.activeElement!=t)return i;let{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:o}=ao(e);r&&(i.push(new Rl(r,n)),s==r&&o==n||i.push(new Rl(s,o)));return i}(t.contentDOM,t.root),l=new $l(r);l.readRange(o.startDOM,o.endDOM),s=function(t,e){if(0==t.length)return null;let i=t[0].pos,r=2==t.length?t[1].pos:i;return i>-1&&r>-1?Gn.single(i+e,r+e):null}(r,e);let h=a.from,c=null;8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100&&(h=a.to,c="end");let u=function(t,e,i,r){let n=Math.min(t.length,e.length),s=0;for(;s<n&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if("end"==r){let t=Math.max(0,s-Math.min(o,a));i-=o+t-s}if(o<s&&t.length<e.length){s-=i<=s&&i>=o?s-i:0,a=s+(a-o),o=s}else if(a<s){s-=i<=s&&i>=a?s-i:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(t.state.doc.sliceString(e,i,""),l.text,h-e,c);u&&(n={from:e+u.from,to:e+u.toA,insert:rn.of(l.text.slice(u.from,u.toB).split(""))})}else if(t.hasFocus){let e=ao(t.root),{impreciseHead:i,impreciseAnchor:r}=t.docView,n=i&&i.node==e.focusNode&&i.offset==e.focusOffset?t.state.selection.primary.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),o=r&&r.node==e.anchorNode&&r.offset==e.anchorOffset?t.state.selection.primary.anchor:function(t){let e=t.isCollapsed;return e&&oo.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e}(e)?n:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);n==a.head&&o==a.anchor||(s=Gn.single(o,n))}if(!n&&!s)return!1;if(!n&&r&&!a.empty&&s&&s.primary.empty&&(n={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}),n){let e,i=t.state;if(oo.android&&(n.from==a.from&&n.to==a.to&&1==n.insert.length&&2==n.insert.lines&&Dl(t,"Enter",10)||n.from==a.from-1&&n.to==a.to&&0==n.insert.length&&Dl(t,"Backspace",8)||n.from==a.from&&n.to==a.to+1&&0==n.insert.length&&Dl(t,"Delete",46)))return t.state!=i;if(n.from>=a.from&&n.to<=a.to&&n.to-n.from>=(a.to-a.from)/3){let t=a.from<n.from?i.doc.sliceString(a.from,n.from,""):"",r=a.to>n.to?i.doc.sliceString(n.to,a.to,""):"";e=i.replaceSelection(rn.of((t+n.insert.sliceString(0,void 0,"")+r).split("")))}else{let t=i.changes(n);e={changes:t,selection:s&&!i.selection.primary.eq(s.primary)&&s.primary.to<=t.newLength?i.selection.replaceRange(s.primary):void 0}}return t.dispatch(i.update(e,{scrollIntoView:!0,annotations:gs.userEvent.of("input")})),!0}if(s&&!s.primary.eq(a)){let e,i=!1;return t.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==t.inputState.lastSelectionOrigin?i=!0:e=gs.userEvent.of(t.inputState.lastSelectionOrigin)),t.dispatch(t.state.update({selection:s,scrollIntoView:i,annotations:e})),!0}return!1}class $l{constructor(t){this.points=t,this.text=""}readRange(t,e){if(!t)return;let i=t.parentNode;for(let r=t;;){this.findPointBefore(i,r),this.readNode(r);let t=r.nextSibling;if(t==e)break;let n=wo.get(r),s=wo.get(t);((n?n.breakAfter:Nl(r))||(s?s.breakAfter:Nl(t))&&("BR"!=r.nodeName||r.cmIgnore))&&(this.text+=""),r=t}this.findPointBefore(i,e)}readNode(t){if(t.cmIgnore)return;let e,i=wo.get(t),r=i&&i.overrideDOMText;null!=r?e=r.sliceString(0,void 0,""):3==t.nodeType?e=t.nodeValue:"BR"==t.nodeName?e=t.nextSibling?"":"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=e&&(this.findPointIn(t,e.length),this.text+=e)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointIn(t,e){for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e))}}function Nl(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Rl{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}function Dl(t,e,i){let r={key:e,code:e,keyCode:i,which:i,cancelable:!0},n=new KeyboardEvent("keydown",r);t.contentDOM.dispatchEvent(n);let s=new KeyboardEvent("keyup",r);return t.contentDOM.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}class Vl{constructor(t={}){this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.className=Yo("scroller"),this.scrollDOM.appendChild(this.contentDOM),this.dom=document.createElement("div"),this.dom.appendChild(this.scrollDOM),this.dispatch=t.dispatch||(t=>this.update([t])),this.root=t.root||document,this.viewState=new Za(t.state||ks.create()),this.plugins=this.state.facet(Va).map(t=>Qa.create(t,this)),this.observer=new Xl(this,(t,e,i)=>Cl(this,t,e,i),()=>this.measure()),this.docView=new el(this),this.inputState=new Ol(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",()=>{-1==zl&&(zl=setTimeout(Ql,50))}),this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;let e=this.state;for(let i of t){if(i.startState!=e)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");e=i.state}let i=new Ga(this,e,t),r=t.some(t=>t.scrolledIntoView)?e.selection.primary:null;this.viewState.update(i,r),this.bidiCache=jl.update(this.bidiCache,i.changes),i.empty||this.updatePlugins(i);let n=this.docView.update(i);this.state.facet(La)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.updateState=0,(n||r||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure()}updatePlugins(t){let e=t.prevState.facet(Va),i=t.state.facet(Va);if(e!=i){let r=[],n=[];for(let s of i){let i=e.indexOf(s);if(i<0)r.push(Qa.create(s,this));else{let e=this.plugins[i].update(t);n.push(e),r.push(e)}}for(let t of this.plugins)n.indexOf(t)<0&&t.destroy(this);this.plugins=r,this.inputState.ensureHandlers(this)}else for(let e=0;e<this.plugins.length;e++)this.plugins[e]=this.plugins[e].update(t)}measure(){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=1;for(let t=0;;t++){this.updateState=1;let e=this.viewState.measure(this.docView,t>0),i=this.measureRequests;if(!e&&!i.length&&null==this.viewState.scrollTo)break;if(this.measureRequests=[],t>5){console.warn("Viewport failed to stabilize");break}let r=i.map(t=>{try{return t.read(this)}catch(t){return $a(this.state,t),ql}}),n=new Ga(this,this.state);n.flags|=e,this.updateState=2,this.updatePlugins(n),e&&this.docView.update(n);for(let t=0;t<i.length;t++)if(r[t]!=ql)try{i[t].write(r[t],this)}catch(t){$a(this.state,t)}if(this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null),!(4&e)&&0==this.measureRequests.length)break}this.updateState=0,this.measureScheduled=-1}get themeClasses(){return Lo+" "+(this.state.facet(Uo)?Go:Bo)+" "+this.state.facet(jo).join(" ")}updateAttrs(){let t=_o(this.state.facet(qa),{class:Yo("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});Ao(this.dom,this.editorAttrs,t),this.editorAttrs=t;let e=_o(this.state.facet(ja),{spellcheck:"false",contenteditable:String(this.state.facet(Na)),class:Yo("content"),style:`${oo.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"});Ao(this.contentDOM,this.contentAttrs,e),this.contentAttrs=e}mountStyles(){this.styleModules=this.state.facet(La),Ns.mount(this.root,this.styleModules.concat(Zo).reverse())}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure()}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}pluginField(t){let e=[];for(let i of this.plugins)i.takeField(t,e);return e}plugin(t){for(let e of this.plugins)if(e.spec==t)return e.value;return null}blockAtHeight(t,e){return this.readMeasured(),this.viewState.blockAtHeight(t,Ml(e,this.contentDOM))}lineAtHeight(t,e){return this.readMeasured(),this.viewState.lineAtHeight(t,Ml(e,this.contentDOM))}lineAt(t,e){return null==e&&this.readMeasured(),this.viewState.lineAt(t,Ml(e,this.contentDOM))}viewportLines(t,e){let{from:i,to:r}=this.viewport;this.viewState.forEachLine(i,r,t,Ml(e,this.contentDOM))}get contentHeight(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}moveByChar(t,e,i){return pl(this,t,e,i)}moveByGroup(t,e){return pl(this,t,e,e=>function(t,e,i){let r=t.state.charCategorizer(e),n=r(i);return t=>{let e=r(t);return n==bs.Space&&(n=e),n==e}}(this,t.head,e))}moveToLineBoundary(t,e,i=!0){return function(t,e,i,r){let n=t.state.doc.lineAt(e.head),s=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>n.start?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.posAtCoords({x:i==(t.textDirection==ia.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(r>-1)return Gn.cursor(r,i?-1:1)}let o=Fo.find(t.docView,e.head),a=o?i?o.posAtEnd:o.posAtStart:i?n.end:n.start;return Gn.cursor(a,i?-1:1)}(this,t,e,i)}moveVertically(t,e,i){return function(t,e,i,r){var n;let s=e.head,o=i?1:-1,a=t.coordsAtPos(s);if(a){let i=t.dom.getBoundingClientRect(),l=null!==(n=e.goalColumn)&&void 0!==n?n:a.left-i.left,h=i.left+l,c=null!=r?r:5;for(let e=o<0?a.top:a.bottom,i=0;i<50;i+=10){let r=fl(t,{x:h,y:e+(c+i)*o},o);if(r<0)break;if(r!=s)return Gn.cursor(r,void 0,void 0,l)}}let{doc:l}=t.state,h=l.lineAt(s),c=t.state.tabSize,u=e.goalColumn,d=0;if(null==u){for(const t=l.iterRange(h.start,s);!t.next().done;)d=tn(t.value,d,c);u=d*t.defaultCharacterWidth}else d=Math.round(u/t.defaultCharacterWidth);if(o<0&&0==h.start)return Gn.cursor(0,void 0,void 0,u);if(o>0&&h.end==l.length)return Gn.cursor(h.end,void 0,void 0,u);let f=l.line(h.number+o),p=f.start,O=0;for(const t=l.iterRange(f.start,f.end);O>=d&&!t.next().done;){const{offset:e,leftOver:i}=en(t.value,O,d,c);O=d-i,p+=e}return Gn.cursor(p,void 0,void 0,u)}(this,t,e,i)}scrollPosIntoView(t){this.viewState.scrollTo=Gn.cursor(t),this.requestMeasure()}posAtCoords(t){return this.readMeasured(),fl(this,t)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(t),n=this.bidiSpans(r),s=n[ha.find(n,t-r.start,-1,e)].dir==ia.LTR==e<0?i.right:i.left;return{left:s,right:s,top:i.top,bottom:i.bottom}}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Wl)return ua(t.length);let e=this.textDirection;for(let i of this.bidiCache)if(i.from==t.start&&i.dir==e)return i.order;let i=function(t,e){let i=t.length,r=e==ra?1:2;if(!t||1==r&&!la.test(t))return ua(i);for(let e=0,s=r,o=r;e<i;e++){let i=(n=t.charCodeAt(e))<=247?oa[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?aa[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||8204==n?256:1;512==i?i=s:8==i&&4==o&&(i=16),ca[e]=4==i?2:i,7&i&&(o=i),s=i}var n;for(let t=0,e=r,n=r;t<i;t++){let r=ca[t];if(128==r)t<i-1&&e==ca[t+1]&&24&e?r=ca[t]=e:ca[t]=256;else if(64==r){let r=t+1;for(;r<i&&64==ca[r];)r++;let s=t&&8==e||r<i&&8==ca[r]?1==n?1:8:256;for(let e=t;e<r;e++)ca[e]=s;t=r-1}else 8==r&&1==n&&(ca[t]=1);e=r,7&r&&(n=r)}for(let t=0;t<i;t++)if(256==ca[t]){let e=t+1;for(;e<i&&256==ca[e];)e++;let n=1==(t?ca[t-1]:r),s=n==(1==(e<i?ca[e]:r))?n?1:2:r;for(let i=t;i<e;i++)ca[i]=s;t=e-1}let s=[];if(1==r)for(let t=0;t<i;){let e=t,r=1!=ca[t++];for(;t<i&&r==(1!=ca[t]);)t++;if(r)for(let i=t;i>e;){let t=i,r=2!=ca[--i];for(;i>e&&r==(2!=ca[i-1]);)i--;s.push(new ha(i,t,r?2:1))}else s.push(new ha(e,t,0))}else for(let t=0;t<i;){let e=t,r=2==ca[t++];for(;t<i&&r==(2==ca[t]);)t++;s.push(new ha(e,t,r?1:2))}return s}(t.slice(),this.textDirection);return this.bidiCache.push(new jl(t.start,t.end,e,i)),i}get hasFocus(){return this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{vo(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled)}static domEventHandlers(t){return Wa.define(()=>({})).eventHandlers(t)}static theme(t,e){let i=Ns.newName(),r=[jo.of(i),La.of(Io(i,t))];return e&&e.dark&&r.push(Uo.of(!0)),r}static baseTheme(t){return es.Fallback.set(La.of(Io(Lo,t)))}}Vl.styleModule=La,Vl.exceptionSink=Ca,Vl.editable=Na,Vl.dragMovesSelection=Xa,Vl.clickAddsSelectionRange=Ea,Vl.mouseSelectionStyle=Ta,Vl.decorations=Ua,Vl.lineWrapping=Vl.theme({content:{whiteSpace:"pre-wrap"}}),Vl.contentAttributes=ja,Vl.editorAttributes=qa;const Wl=4096;function Ml(t,e){return null==t?e.getBoundingClientRect().top:t}let zl=-1;function Ql(){zl=-1;let t=document.querySelectorAll(".cm-content");for(let e=0;e<t.length;e++){let i=wo.get(t[e]);i&&i.editorView.requestMeasure()}}const ql={};class jl{constructor(t,e,i,r){this.from=t,this.to=e,this.dir=i,this.order=r}static update(t,e){if(e.empty)return t;let i=[],r=t.length?t[t.length-1].dir:ia.LTR;for(let n=Math.max(0,t.length-10);n<t.length;n++){let s=t[n];s.dir!=r||e.touchesRange(s.from,s.to)||i.push(new jl(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.order))}return i}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Ul=function(t,e){return(Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var Ll,Bl=function(){function t(t,e,i,r,n,s,o,a,l){this.cx=t,this.stack=e,this.state=i,this.reducePos=r,this.pos=n,this.recovered=s,this.buffer=o,this.bufferBase=a,this.parent=l}return t.prototype.toString=function(){return"["+this.stack.filter((function(t,e){return e%3==0})).concat(this.state)+"]@"+this.pos+(this.recovered?"!"+this.recovered:"")},t.start=function(e,i,r){return void 0===r&&(r=0),new t(e,[],i,r,r,0,[],0,null)},t.prototype.pushState=function(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t},t.prototype.reduce=function(t){var e=t>>19,i=65535&t,r=this.cx.parser;if(0==e)return i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.pushState(r.getGoto(this.state,i,!0),this.reducePos);var n=this.stack.length-3*(e-1)-(262144&t?6:0),s=this.stack[n-2],o=this.stack[n-1],a=this.bufferBase+this.buffer.length-o;if(i<r.minRepeatTerm||131072&t||i>r.maxNode&&i<=r.maxRepeatWrap){var l=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,s,l,a+4,!0)}if(262144&t)this.state=this.stack[n];else{var h=this.stack[n-3];this.state=r.getGoto(h,i,!0)}for(;this.stack.length>n;)this.stack.pop()},t.prototype.storeNode=function(t,e,i,r,n){if(void 0===r&&(r=4),void 0===n&&(n=!1),0==t){var s=this,o=this.buffer.length;if(0==o&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&0==s.buffer[o-4]&&s.buffer[o-1]>-1){if(e==i)return;if(s.buffer[o-2]>=e)return void(s.buffer[o-2]=i)}}if(n&&this.pos!=i){var a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4);this.buffer[a]=t,this.buffer[a+1]=e,this.buffer[a+2]=i,this.buffer[a+3]=r}else this.buffer.push(t,e,i,r)},t.prototype.shift=function(t,e,i){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){var r=this.pos,n=t,s=this.cx.parser;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(n,1)||(this.reducePos=i)),this.pushState(n,r),e<=s.maxNode&&this.buffer.push(e,r,i,4)}else e<=this.cx.parser.maxNode&&this.buffer.push(e,this.pos,i,4),this.pos=i},t.prototype.apply=function(t,e,i){65536&t?this.reduce(t):this.shift(t,e,i)},t.prototype.useNode=function(t,e){var i=this.cx.reused.length-1;(i<0||this.cx.reused[i]!=t)&&(this.cx.reused.push(t),i++);var r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(i,r,this.reducePos,-1)},t.prototype.split=function(){for(var e=this,i=e.buffer.length;i>0&&e.buffer[i-2]>e.reducePos;)i-=4;for(var r=e.buffer.slice(i),n=e.bufferBase+i;e&&n==e.bufferBase;)e=e.parent;return new t(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.recovered,r,n,e)},t.prototype.recoverByDelete=function(t,e){var i=t<=this.cx.parser.maxNode;i&&this.storeNode(t,this.pos,e),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.recovered+=2},t.prototype.canShift=function(t){for(var e=new Gl(this);;){var i=this.cx.parser.stateSlot(e.top,4)||this.cx.parser.hasAction(e.top,t);if(0==(65536&i))return!0;if(0==i)return!1;e.reduce(i)}},Object.defineProperty(t.prototype,"ruleStart",{get:function(){var t=this.cx.parser.stateSlot(this.state,5);if(!(65536&t))return 0;var e=this.stack.length-3*(t>>19);return this.stack[e+1]},enumerable:!0,configurable:!0}),t.prototype.startOf=function(t){for(var e=this.state,i=this.stack.length,r=this.cx.parser;;){var n=r.stateSlot(e,5),s=n>>19,o=65535&n;if(t.includes(o)){var a=i-3*(n>>19);return this.stack[a+1]}if(0==i)return-1;0==s?(i-=3,e=this.stack[i]):(i-=3*(s-1),e=r.getGoto(this.stack[i-3],o,!0))}},t.prototype.recoverByInsert=function(t){var e=this,i=this.cx.parser.nextStates(this.state);if(i.length>4){for(var r=i.filter((function(i){return i!=e.state&&e.cx.parser.hasAction(i,t)})),n=0;r.length<4&&n<i.length;n++)r.includes(i[n])||r.push(i[n]);i=r}var s=[];for(n=0;n<i.length&&s.length<4;n++)if(i[n]!=this.state){var o=this.split();o.storeNode(0,o.pos,o.pos,4,!0),o.pushState(i[n],this.pos),o.recovered+=2,s.push(o)}return s},t.prototype.forceReduce=function(){var t=this.cx.parser.stateSlot(this.state,5);return 0!=(65536&t)&&(this.cx.parser.validAction(this.state,t)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.recovered+=1),this.reduce(t),!0)},t.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this},t.prototype.toTree=function(){return _n.build({buffer:Il.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})},t}();!function(t){t[t.Token=2]="Token",t[t.Reduce=1]="Reduce",t[t.MaxNext=4]="MaxNext"}(Ll||(Ll={}));var Gl=function(){function t(t){this.stack=t,this.top=t.state,this.rest=t.stack,this.offset=this.rest.length}return t.prototype.reduce=function(t){var e=65535&t,i=t>>19;0==i?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(i-1);var r=this.stack.cx.parser.getGoto(this.rest[this.offset-3],e,!0);this.top=r},t}(),Il=function(){function t(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return t.create=function(e){return new t(e,e.bufferBase+e.buffer.length,e.buffer.length)},t.prototype.maybeNext=function(){var t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)},Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()},t.prototype.fork=function(){return new t(this.stack,this.pos,this.index)},t}(),Yl=function(){function t(){this.start=-1,this.value=-1,this.end=-1}return t.prototype.accept=function(t,e){this.value=t,this.end=e},t}(),Zl=function(){function t(t,e){void 0===e&&(e=t.length),this.string=t,this.length=e}return t.prototype.get=function(t){return t<0||t>=this.length?-1:this.string.charCodeAt(t)},t.prototype.read=function(t,e){return this.string.slice(t,Math.min(this.length,e))},t.prototype.clip=function(e){return new t(this.string,e)},t}(),Hl=function(){function t(t,e){this.data=t,this.id=e}return t.prototype.token=function(t,e,i){!function(t,e,i,r,n){var s=0,o=1<<n;t:for(var a=i.start;0!=(o&t[s]);){for(var l=t[s+1],h=s+3;h<l;h+=2)if((t[h+1]&o)>0){var c=t[h];if(-1==i.value||i.value==c||r.cx.parser.overrides(c,i.value)){i.accept(c,a);break}}for(var u=e.get(a++),d=0,f=t[s+2];d<f;){var p=d+f>>1,O=l+p+(p<<1),g=t[O],m=t[O+1];if(u<g)f=p;else{if(!(u>=m)){s=t[O+2];continue t}d=p+1}}break}}(this.data,t,e,i,this.id)},t}();Hl.prototype.contextual=!1;var Fl=function(t,e){void 0===e&&(e={}),this.token=t,this.contextual=e&&e.contextual||!1};function Kl(t,e){void 0===e&&(e=Uint16Array);for(var i=null,r=0,n=0;r<t.length;){for(var s=0;;){var o=t.charCodeAt(r++),a=!1;if(126==o){s=65535;break}o>=92&&o--,o>=34&&o--;var l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}i?i[n++]=s:i=new e(s)}return i}var Jl="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG),th=function(){function t(t){this.start=[0],this.index=[0],this.nextStart=0,this.trees=[t]}return t.prototype.nodeAt=function(t){if(t<this.nextStart)return null;for(;;){var e=this.trees.length-1;if(e<0)return this.nextStart=1e9,null;var i=this.trees[e],r=this.index[e];if(r!=i.children.length){var n=i.children[r],s=this.start[e]+i.positions[r];if(s>=t)return s==t?n:null;n instanceof En?(this.index[e]++,this.nextStart=s+n.length):(this.index[e]++,s+n.length>=t&&(this.trees.push(n),this.start.push(s),this.index.push(0)))}else this.trees.pop(),this.start.pop(),this.index.pop()}},t}(),eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.extended=-1,e.mask=0,e}return function(t,e){function i(){this.constructor=t}Ul(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.clear=function(t){this.start=t,this.value=this.extended=-1},e}(Yl),ih=new Yl,rh=function(){function t(t){this.tokens=[],this.mainToken=ih,this.actions=[],this.tokens=t.tokenizers.map((function(t){return new eh}))}return t.prototype.getActions=function(t,e){for(var i=0,r=null,n=t.cx.parser,s=n.tokenizers,o=n.stateSlot(t.state,3),a=0;a<s.length;a++)if(0!=(1<<a&o)){var l=s[a],h=this.tokens[a];(l.contextual||h.start!=t.pos||h.mask!=o)&&(this.updateCachedToken(h,l,t,e),h.mask=o);var c=i;if(h.extended>-1&&(i=this.addActions(t,h.extended,h.end,i)),(i=this.addActions(t,h.value,h.end,i))>c){r=h;break}r&&0==h.value||(r=h)}for(;this.actions.length>i;)this.actions.pop();return r||((r=ih).start=t.pos,t.pos==e.length?r.accept(t.cx.parser.eofTerm,t.pos):r.accept(0,t.pos+1)),this.mainToken=r,this.actions},t.prototype.updateCachedToken=function(t,e,i,r){if(t.clear(i.pos),e.token(r,t,i),t.value>-1){var n=i.cx.parser,s=lh(n.data,n.specializeTable,t.value);if(s>=0){var o=n.specializations[s][r.read(t.start,t.end)];null!=o&&(0==(1&o)?t.value=o>>1:t.extended=o>>1)}}else i.pos==r.length?t.accept(i.cx.parser.eofTerm,i.pos):t.accept(0,i.pos+1)},t.prototype.putAction=function(t,e,i,r){for(var n=0;n<r;n+=3)if(this.actions[n]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=i,r},t.prototype.addActions=function(t,e,i,r){for(var n=t.state,s=t.cx.parser,o=s.data,a=0;a<2;a++)for(var l=s.stateSlot(n,a?2:1),h=void 0;65535!=(h=o[l]);l+=3)(h==e||0==h&&0==r)&&(r=this.putAction(o[l+1]|o[l+2]<<16,e,i,r));return r},t}(),nh=function(t,e,i,r,n,s){void 0===n&&(n=null),void 0===s&&(s=-1),this.parser=t,this.maxBufferLength=e,this.input=i,this.topTerm=r,this.parent=n,this.wrapType=s,this.reused=[],this.tokens=new rh(t)},sh=function(){function t(t,e,i){var r=void 0===i?{}:i,n=r.cache,s=void 0===n?void 0:n,o=r.strict,a=void 0!==o&&o,l=r.bufferLength,h=void 0===l?mn:l,c=r.top,u=void 0===c?void 0:c;this.pos=0,this.recovering=0,this.tokenCount=0;var d=u?t.topRules[u]:t.defaultTop;if(!d)throw new RangeError("Invalid top rule name "+u);this.stacks=[Bl.start(new nh(t,h,e,d[1]),d[0])],this.strict=a,this.cache=s?new th(s):null}return t.prototype.putStack=function(t){this.stacks.push(t),(this.pos<0||t.pos<this.pos)&&(this.pos=t.pos)},t.prototype.advance=function(){var t=this.stacks,e=this.pos;this.stacks=[],this.pos=-1;for(var i=null,r=null,n=0;n<t.length;n++)for(var s=t[n];;){if(s.pos>e)this.putStack(s);else{var o=this.advanceStack(s,t);if(o){s=o;continue}i||(i=[],r=[]),i.push(s);var a=s.cx.tokens.mainToken;r.push(a.value,a.end)}break}if(!this.stacks.length){var l;if(l=i&&function(t){for(var e=null,i=0,r=t;i<r.length;i++){var n=r[i];n.pos==n.cx.input.length&&n.cx.parser.stateFlag(n.state,2)&&(!e||e.recovered>n.recovered)&&(e=n)}return e}(i))return l.toTree();if(this.strict)throw new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&i&&(l=this.runRecovery(i,r)))return l.forceAll().toTree();if(this.recovering){var h=1==this.recovering?1:3*this.recovering;this.stacks.length>h&&(this.stacks.sort((function(t,e){return t.recovered-e.recovered})),this.stacks.length=h),this.stacks.some((function(t){return t.reducePos>e}))&&this.recovering--}else if(this.stacks.length>1&&this.stacks[0].buffer.length>200){var c=1e9,u=-1;for(n=0;n<this.stacks.length;n++){(s=this.stacks[n]).buffer.length<c&&(c=s.buffer.length,u=n)}c>200&&this.stacks.splice(u,1)}return this.tokenCount++,null},t.prototype.advanceStack=function(t,e){var i=t.pos,r=t.cx,n=r.input,s=r.parser,o=Jl?t+" -> ":"";if(this.cache)for(var a=this.cache.nodeAt(i);a;){var l=s.group.types[a.type.id]==a.type?s.getGoto(t.state,a.type.id):-1;if(l>-1)return t.useNode(a,l),Jl&&console.log(o+t+" (via reuse of "+s.getName(a.type.id)+")"),t;if(!(a instanceof _n)||0==a.children.length||a.positions[0]>0)break;var h=a.children[0];if(!(h instanceof _n))break;a=h}var c=s.startNested(t.state);t:if(c>-1){var u=s.nested[c],d=u.grammar,f=u.end,p=u.placeholder,O=void 0,g=null,m=void 0,v=void 0,y=void 0;if("function"==typeof d){var b=d(n,t);if(b.stay)break t;g=b.parseNode,m=b.parser,v=b.top,O=b.filterEnd,y=b.wrapType}else m=d;var w=this.scanForNestEnd(t,f,O),S=t.cx.input.clip(w);if(g||!m){var x=g?g(S,t.pos):_n.empty;return x.length!=w-t.pos&&(x=new _n(x.type,x.children,x.positions,w-t.pos)),null!=y&&(x=new _n(s.group.types[y],[x],[0],x.length)),t.useNode(x,s.getGoto(t.state,p,!0)),t}var k=v?m.topRules[v]:m.defaultTop,_=Bl.start(new nh(m,t.cx.maxBufferLength,S,k[1],t,y),k[0],t.pos);return Jl&&console.log(o+_+" (nested)"),_}var P=s.stateSlot(t.state,4);if(P>0)return t.reduce(P),Jl&&console.log(o+t+" (via always-reduce "+s.getName(65535&P)+")"),t;for(var A=t.cx.tokens.getActions(t,n),E=0;E<A.length;){var X=A[E++],T=A[E++],C=(w=A[E++],E==A.length||!e),$=C?t:t.split();if($.apply(X,T,w),Jl&&console.log(o+$+" (via "+(0==(65536&X)?"shift":"reduce of "+s.getName(65535&X))+" for "+s.getName(T)+" @ "+i+($==t?"":", split")+")"),C)return $;$.pos>i?this.putStack($):e.push($)}return t.cx.parent&&t.pos==n.length?function(t){if(-2==t.cx.wrapType)return null;var e=t.cx.parent,i=t.forceAll().toTree(),r=e.cx.parser,n=r.nested[r.startNested(e.state)];i=new _n(i.type,i.children,i.positions.map((function(t){return t-e.pos})),t.pos-e.pos),t.cx.wrapType>-1&&(i=new _n(r.group.types[t.cx.wrapType],[i],[0],i.length));t.cx.wrapType=-2,e.useNode(i,r.getGoto(e.state,n.placeholder,!0)),Jl&&console.log(e+" (via unnest "+(t.cx.wrapType>-1?r.getName(t.cx.wrapType):i.type.name)+")");return e}(t):null},t.prototype.advanceFully=function(t){for(var e=t.pos;;){var i=this.advanceStack(t,null);if(!i)return t;if(i.pos>e)return this.putStack(i),null;t=i}},t.prototype.runRecovery=function(t,e){for(var i=null,r=0;r<t.length;r++){for(var n=t[r],s=e[r<<1],o=e[1+(r<<1)],a=Jl?n+" -> ":"",l=n.split(),h=a,c=0;l.forceReduce()&&c<10;c++){Jl&&console.log(h+l+" (via force-reduce)");var u=this.advanceFully(l);if(!u)break;l=u,Jl&&(h=u+" -> ")}for(var d=0,f=n.recoverByInsert(s);d<f.length;d++){var p=f[d];Jl&&console.log(a+p+" (via recover-insert)"),this.advanceFully(p)}n.cx.input.length>n.pos?(o==n.pos&&(o++,s=0),n.recoverByDelete(s,o),Jl&&console.log(a+n+" (via recover-delete "+n.cx.parser.getName(s)+")"),this.putStack(n)):n.cx.parent||i&&!(i.recovered>n.recovered)||(i=n)}return i},t.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()},Object.defineProperty(t.prototype,"badness",{get:function(){return 2*this.stacks[0].recovered/this.tokenCount},enumerable:!0,configurable:!0}),t.prototype.scanForNestEnd=function(t,e,i){for(var r=t.cx.input,n=t.pos;n<r.length;n++)if(ih.start=n,ih.value=-1,e.token(r,ih,t),ih.value>-1&&(!i||i(r.read(n,ih.end))))return n;return r.length},t}(),oh=function(){function t(t,e,i,r,n,s,o,a,l,h,c,u){void 0===u&&(u=null),this.states=t,this.data=e,this.goto=i,this.group=r,this.minRepeatTerm=n,this.tokenizers=s,this.topRules=o,this.nested=a,this.specializeTable=l,this.specializations=h,this.tokenPrecTable=c,this.termNames=u,this.nextStateCache=[],this.maxNode=this.group.types.length-1,this.maxRepeatWrap=this.group.types.length+(this.group.types.length-n)-1;for(var d=0,f=this.states.length/6;d<f;d++)this.nextStateCache[d]=null}return t.prototype.parse=function(t,e){"string"==typeof t&&(t=new Zl(t));for(var i=new sh(this,t,e);;){var r=i.advance();if(r)return r}},t.prototype.startParse=function(t,e){return"string"==typeof t&&(t=new Zl(t)),new sh(this,t,e)},t.prototype.getGoto=function(t,e,i){void 0===i&&(i=!1);var r=this.goto;if(e>=r[0])return-1;for(var n=r[e+1];;){var s=r[n++],o=1&s,a=r[n++];if(o&&i)return a;for(var l=n+(s>>1);n<l;n++)if(r[n]==t)return a;if(o)return-1}},t.prototype.hasAction=function(t,e){for(var i=this.data,r=0;r<2;r++)for(var n=this.stateSlot(t,r?2:1),s=void 0;65535!=(s=i[n]);n+=3)if(s==e||0==s)return i[n+1]|i[n+2]<<16;return 0},t.prototype.stateSlot=function(t,e){return this.states[6*t+e]},t.prototype.stateFlag=function(t,e){return(this.stateSlot(t,0)&e)>0},t.prototype.startNested=function(t){var e=this.stateSlot(t,0);return 4&e?e>>10:-1},t.prototype.validAction=function(t,e){if(e==this.stateSlot(t,4))return!0;for(var i=this.stateSlot(t,1);;i+=3){if(65535==this.data[i])return!1;if(e==(this.data[i+1]|this.data[i+2]<<16))return!0}},t.prototype.nextStates=function(t){var e=this.nextStateCache[t];if(e)return e;for(var i=[],r=this.stateSlot(t,1);65535!=this.data[r];r+=3)0!=(1&this.data[r+2])||i.includes(this.data[r+1])||i.push(this.data[r+1]);for(var n=this.goto,s=n[0],o=0;o<s;o++)for(var a=n[o+1];;){for(var l=n[a++],h=n[a++],c=a+(l>>1);a<c;a++)n[a]!=t||i.includes(h)||i.push(h);if(1&l)break}return this.nextStateCache[t]=i},t.prototype.overrides=function(t,e){var i=lh(this.data,this.tokenPrecTable,e);return i<0||lh(this.data,this.tokenPrecTable,t)<i},t.prototype.withNested=function(e){return new t(this.states,this.data,this.goto,this.group,this.minRepeatTerm,this.tokenizers,this.topRules,this.nested.map((function(t){return Object.prototype.hasOwnProperty.call(e,t.name)?{name:t.name,grammar:e[t.name],end:t.end,placeholder:t.placeholder}:t})),this.specializeTable,this.specializations,this.tokenPrecTable,this.termNames)},t.prototype.withProps=function(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new t(this.states,this.data,this.goto,(e=this.group).extend.apply(e,i),this.minRepeatTerm,this.tokenizers,this.topRules,this.nested,this.specializeTable,this.specializations,this.tokenPrecTable,this.termNames)},t.prototype.getName=function(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.group.types[t].name||t)},Object.defineProperty(t.prototype,"eofTerm",{get:function(){return this.maxRepeatWrap+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNested",{get:function(){return this.nested.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:!0,configurable:!0}),t.deserialize=function(e){for(var i=Kl(e.tokenData),r=e.nodeNames.split(" "),n=r.length,s=0;s<e.repeatNodeCount;s++)r.push("");var o=[];for(s=0;s<r.length;s++)o.push(ah);function a(t,e,i){o[t]==ah&&(o[t]=Object.create(null)),e.set(o[t],e.deserialize(String(i)))}if(a(0,bn.error,""),e.nodeProps)for(var l=0,h=e.nodeProps;l<h.length;l++){var c=h[l],u=c[0];for(s=1;s<c.length;s+=2)a(c[s],u,c[s+1])}var d=new xn(r.map((function(t,e){return new Sn(t,o[e],e)})));return new t(Kl(e.states,Uint32Array),Kl(e.stateData),Kl(e.goto),d,n,e.tokenizers.map((function(t){return"number"==typeof t?new Hl(i,t):t})),e.topRules,(e.nested||[]).map((function(t){var e=t[0],i=t[1],r=t[2],n=t[3];return{name:e,grammar:i,end:new Hl(Kl(r),0),placeholder:n}})),e.specializeTable,(e.specializations||[]).map(hh),e.tokenPrec,e.termNames)},t}(),ah=Object.create(null);function lh(t,e,i){for(var r=e,n=void 0;65535!=(n=t[r]);r++)if(n==i)return r-e;return-1}function hh(t){if(!(t instanceof Object))return t;var e=Object.create(null);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}const ch=[10,13,8232,8233],uh=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288];function dh(t,e){for(let i=e-1;i>=0;i--){let e=t.get(i);if(ch.includes(e))return!0;if(!uh.includes(e))break}return!1}const fh=new Fl((t,e,i)=>{let r=e.start,n=t.get(r);(125==n||-1==n||dh(t,r))&&i.canShift(182)&&e.accept(182,e.start)},{contextual:!0}),ph=new Fl((t,e,i)=>{let r=e.start,n=t.get(r++);if(!uh.includes(n)&&!ch.includes(n)){if(47==n){let e=t.get(r++);if(47==e||42==e)return}125!=n&&59!=n&&-1!=n&&!dh(t,e.start)&&i.canShift(181)&&e.accept(181,e.start)}},{contextual:!0}),Oh=new Fl((t,e,i)=>{let r=e.start,n=t.get(r++);43!=n&&45!=n||n!=t.get(r++)||dh(t,e.start)||!i.canShift(1)||e.accept(1,r)},{contextual:!0}),gh=new Fl((t,e)=>{let i=e.start,r=!1;for(;;){let n=t.get(i++);if(n<0){i-1>e.start&&e.accept(183,i-1);break}if(96==n){i==e.start+1?e.accept(185,i):e.accept(183,i-1);break}if(123==n&&r){i==e.start+2?e.accept(184,i):e.accept(183,i-2);break}if(10==n&&i>e.start+1){e.accept(183,i);break}92==n&&i!=t.length&&i++,r=36==n}}),mh=oh.deserialize({states:"!4xOYOSOOO$QOSO'#FvO&{O!lO'#CkO(wOSO'#CrO*sO!lO'#GmOXOO'#Gm'#GmO,oX#tO'#C|O,yOSO'#D]O/tOSO'#DaO1dOSO'#DkOXOO'#Dt'#DtO3YOSO'#DsO3^O!lO'#GjO5cOSO'#E]OXOO'#Gj'#GjOXOO'#Gs'#GsO5gOSO'#FdO5kO!fO'#FeOXOO'#G`'#G`OXOO(3Cx(3CxQXOSOOO/tOSO'#D^O5rOSO'#EbO5vOSO'#ChO6QOSO'#DsO6[OSO'#EcO6fOSO'#CaO7SOSO'#EkO7dOSO'#EnO7kOSO'#EtO7kOSO'#EvOYOSO'#ExO7kOSO'#EzO7kOSO'#E}O7oOSO'#FTO7sO!gO'#FXO/tOSO'#FZO7}O!gO'#F]O8XO!gO'#F`O5kO!fO'#FbOXOO,5<Q,5<QO8cO!lO'#CkO:zOSO'#GgO/tOSO'#GgO;ROSO,59^O;VOSO'#FzO;^OSO(3C|O=VOYO'#GoOXOO'#Go'#GoO>rOSO,59pO>vO`O'#DVO?jOSO'#DtO?}OSO'#GfO@[O!fO'#GeO@oOSO'#DlO5vOSO'#DrO6TOSO'#DsO@yO!fO'#FyO/tOSO'#FiOXOO,59i,59iOAaOSO'#D`OCVO`O,5:bO/tOSO,5:bO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eO/tOSO,5:eOCZOSO,5:tOXOO,5:y,5:yOXOO,5:z,5:zOXOO,5:{,5:{ODyX#tO'#FxO/tOSO'#GlOXXO(3Cz(3CzOETX#tO,59hOEXOSO'#F{OXOO(3C}(3C}OHSOSO,59wOHWO!lO,59{OJVOSO,5:VO6[OSO'#GdOJZOSO'#GdOJbOSO,59YOJfOSO,5:_O/tOSO,5:wOYOSO,5<OOXOO'#Gc'#GcOXOO,5<P,5<POLUO!lO,59xOXOO'#Ck'#CkONTOSO,5:|OXOO'#Cc'#CcON[OSO'#CnO7oOSO,59SONlOSO,59SO6TOSO,59SONpOSO,5:_O5vOSO,59SONtOSO'#CrO! UO`O'#CvOXOO'#Gf'#GfO! fO!fO,5:}O! pOSO'#EgO! wOSO'#ChO! {OSO,58{O!!POSO,58{OXOO,58{,58{O!#oO!fO,58{O!#yOSO'#EmO!$QOSO'#GuO!$XOSO,5;VO!$]OSO,5;VO5kO!fO,5;VO!$aOSO'#EpOXOO'#Eq'#EqOXOO'#Er'#ErOYOSO,5;YO!&]OSO,5;YO/tOSO'#DkOYOSO,5;`OYOSO,5;bO!&aOSO,5;dOYOSO,5;fO!&eOSO,5;iO!&iOSO,5;oOXOO,5;s,5;sO/tOSO,5;sO5kO!fO,5;uOXOO,5;w,5;wO!)vOSO,5;wOXOO,5;z,5;zO!)vOSO,5;zOXOO,5;|,5;|O!)zOSO'#FwO!*ROSO(3CyOXOO,5=R,5=RO:zOSO,5=RO=VOYO,5=ZOXOO1G.x1G.xOXOO,5<U,5<UO!*fOYO-E9hO/tOSO,5<UOXOO,5=Z,5=ZOXOO1G/[1G/[O!,ROSO'#CxOXOO'#Gq'#GqO/tOSO'#GqO!,lOSO'#GqO!-VOSO'#DWO!-dO`O'#DWOCZOSO'#DWO!-qOSO'#GpO!-xOSO,59qO!-|OSO'#CwO!.ZOSO'#GhO!.bOSO,59bO!.fO`O'#DWO/tOSO,5=PO!.|O`O'#DoOXOO,5:W,5:WO/tOSO,5:WO!/gOSO,5:WO7oOSO,5:^ONlOSO,5:^O6TOSO,5:^OXOO,5<T,5<TO!/nO!lO-E9gO!1mOYO'#GrO/tOSO'#GrO!3YOSO,59zOXOO'#Cx'#CxOXOO1G/|1G/|O!3^OSO1G/|O!3bO!lO1G0PO!5aO!lO1G0PO!7`O!lO1G0PO!9_O!lO1G0PO!;^O!lO1G0PO!=]O!lO1G0PO!?[O!lO1G0PO!AZO!lO1G0PO!CYO!lO1G0PO!EXO!lO1G0PO!GWO!lO1G0PO!IVOrO'#CkOCZOSO'#DaO!KXOSO'#DsO!K]OrO1G0`O!LuOrO'#GjO!NkOSO'#E]OCZOSO'#D^O6TOSO'#DsOXXO,5<S,5<SO!NoO!lO'#GmO#!nOWO,5=WOXOO1G/S1G/SOXOO,5<V,5<VOXOO1G/c1G/cOXOO1G/q1G/qOJZOSO,5=OO#!rOSO'#GQO#!yOSO(3DSOXOO,5=O,5=OOXOO1G.t1G.tOXOO1G/y1G/yO##^O!lO1G0cOXOO1G1j1G1jOXOO1G/d1G/dOXOO1G0h1G0hO/tOSO1G0hOXOO1G.n1G.nO7oOSO1G.nONlOSO1G.nOJfOSO1G/yO6TOSO1G.nO6[OSO'#GgO6[OSO'#CwO#%]O!fO'#GRO6[OSO'#FqO5kO!fO1G0iOXOO'#DO'#DOO#%gOSO'#GtO#%qOSO,5;RO#%uOSO1G.gOXOO1G.g1G.gO5kO!fO1G.gO#%yOSO'#CkO#&TOSO'#GvO#&[OSO,5;XO#&`OSO'#GvO#&dOSO'#GUO#&kOSO(3DWOXOO,5=a,5=aO5rOSO1G0qO#&xOSO1G0qOXOO1G0q1G0qO#&|OYO,5=cO#(rOSO,5=cO#(|OSO,5;[O#*oOSO,5;[O6[OSO,5=cOXOO1G0t1G0tOYOSO1G0tOXOO1G0z1G0zOXOO1G0|1G0|O7kOSO1G1OO#*sOSO1G1QO#-zOSO'#FPOXOO1G1T1G1TO7oOSO1G1ZO#0{OSO1G1ZO5kO!fO1G1_OXOO1G1a1G1aOXOO'#F_'#F_O5kO!fO1G1cO5kO!fO1G1fOXOO,5<R,5<ROXOO-E9e-E9eO6[OSO,5<ROXOO1G2m1G2mOXOO1G2u1G2uO#1SOYO3)/SO#2oOSO,5=]OCZOSO,59cO6[OSO,59cO7oOSO,59rOCZOSO,59rOXOO'#D['#D[ONlOSO,59rO#2sOrO,59rO#4`OSO'#GfOXOO,59c,59cO#4jOSO'#GeO#4tOSO'#F|O#4{O`O(3DOOXOO,5=[,5=[OXOO1G/]1G/]O#5oOSO'#GPO#5vO`O(3DROXOO,5=S,5=SOXOO1G.|1G.|O!-dO`O,59rO#6ZO!lO1G2kO#8PO`O'#GOONlOSO'#DpO!-mO`O'#DpOXOO(3DQ(3DQO#8jOSO,5:ZO#8nO`O'#DpO#8{O`O'#DpO#9]OSO1G/rOXOO1G/r1G/rO/tOSO1G/rOXOO1G/x1G/xO7oOSO1G/xONlOSO1G/xO#9aOSO'#F}O#9hOSO(3DPOXOO,5=^,5=^O!1mOYO,5=^OXOO1G/f1G/fOXOO7+%h7+%hO#;aOrO,59{O#=POSO,5:_OCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:eOCZOSO,5:tO/tOSO7+%zOCZOSO,5:wO#>oOrO,59xO#@_OSO,5:_O#@cO!lO'#FyOXXO1G2r1G2rOXOO1G2j1G2jOXOO,5<[,5<[O6[OSO,5<[OXOO-E9n-E9nO#9]OSO7+&SOXOO7+$Y7+$YO7oOSO7+$YOXOO7+%e7+%eONlOSO7+$YOXOO,5<],5<]OXOO-E9o-E9oOXOO7+&T7+&TO#BbOSO'#GSO#BiOSO(3DUOXOO,5=`,5=`O#BsO`O,5=`OXOO1G0m1G0mO5kO!fO7+$ROXOO7+$R7+$RO#BwOSO'#GTO#COOSO(3DVOXOO,5=b,5=bOXOO1G0s1G0sO5rOSO,5=bOXOO,5<`,5<`OXOO-E9r-E9rO#CYOSO7+&]O5kO!fO7+&]O/tOSO1G2}O/tOSO1G3OO#C^OSO1G0vO#EPOSO1G0vO#ETOSO1G0vO#FvO!fO1G2}OXOO7+&`7+&`O5kO!fO7+&jOYOSO7+&lO#GZOSO'#GVOXOO'#Gy'#GyOXOO(3DX(3DXO#J[OSO,5;kO/tOSO'#FQO#J`OSO'#FSOXOO7+&u7+&uO#JdOSO7+&uO6[OSO7+&uOXOO7+&y7+&yOXOO7+&}7+&}OXOO7+'Q7+'QOXOO3)/P3)/POXOO1G2w1G2wO#MnOrO1G.}O$ ZOSO1G.}OXOO1G/^1G/^O$ eOrO1G/^O7oOSO1G/^OCZOSO,5=POXOO,5<W,5<WOCZOSO'#DWOXOO-E9j-E9jOXOO,5<Z,5<ZOXOO-E9m-E9mONlOSO1G/^OXOO,5<Y,5<YO7oOSO,5:[ONlOSO,5:[OXOO1G/u1G/uO!-mO`O,5:[O$#QO`O,5:[OXOO7+%^7+%^O#9]OSO7+%^OXOO7+%d7+%dO7oOSO7+%dOXOO,5<X,5<XO$#_OYO-E9kO/tOSO,5<XOXOO1G2x1G2xO$$zOrO'#GmO$&jOrO1G0PO$(YOrO1G0PO$)xOrO1G0PO$+hOrO1G0PO$-WOrO1G0PO$.vOrO1G0PO$0fOrO1G0PO$2UOrO1G0PO$3tOrO1G0PO$5dOrO1G0PO$7SOrO1G0PO$8rOrO1G0`O$:[O!lO<<IfO$<ZOrO1G0cO#=POSO1G/yOXOO3)/Y3)/YOXOO<<In<<InOXOO<<Gt<<GtO7oOSO<<GtOXOO,5<^,5<^O$=yOSO-E9pOXOO'#Ei'#EiO$>TOSO1G2zOXOO<<Gm<<GmOXOO,5<_,5<_OXOO-E9q-E9qO$>[OSO,5<_O#&TOSO1G2|O$>`OSO<<IwOXOO<<Iw<<IwO$>dOSO7+(iO$>hOSO7+(jOXOO7+&b7+&bO$>lOSO7+&bO$>pOSO7+&bO$@cOSO7+&bO/tOSO7+(iO/tOSO7+(jOXOO<<JU<<JUOXOO<<JW<<JWOXOO,5<a,5<aOXOO1G1V1G1VO$@gOSO,5;lOXOO,5;n,5;nO7oOSO<<JaO$@kOSO<<JaOCZOSO7+$iOXOO7+$x7+$xO$@oOrO1G2kO7oOSO7+$xOXOO1G/v1G/vO7oOSO1G/vONlOSO1G/vO!-mO`O1G/vOXOO<<Hx<<HxOXOO<<IO<<IOO$B[OYO3)/VO$CwOrO'#FyOCZOSO'#FiOCZOSO7+%zOXOOAN=`AN=`O$EgO`O1G1xOXOO7+(f7+(fO5rOSO1G1yOXOO7+(h7+(hO5kO!fOAN?cOXOO<<LT<<LTOXOO<<LU<<LUOXOO<<I|<<I|O$EkOSO<<I|O$EoOSO<<I|O$GbOSO<<LTO$GfOSO<<LUOXOO1G1W1G1WOXOOAN?{AN?{O7oOSOAN?{O$GjOrO<<HTOXOO<<Hd<<HdOXOO7+%b7+%bO7oOSO7+%bONlOSO7+%bO$IVOrO-E9gO$JuOrO<<IfOXOO'#Ej'#EjOXOO8;$v8;$vOXOO8;$w8;$wOXOOG24}G24}OXOOAN?hAN?hO$LeOSOAN?hOXOOANAoANAoOXOOANApANApO$LiOSOG25gOXOO<<H|<<H|O7oOSO<<H|OXOOG25SG25SO7oOSOLD+ROXOOAN>hAN>hOXOO!$'Nm!$'Nm",stateData:"%!OQOSROS%ROS~UjOX^OYbO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UO~UjOX^OYbO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UO$z$jX~PrXYrXarXerXgrXn$RXorX!^rX!i_X!krX!lrX!nrX!orX!prX!qrX!rrX!srX!trX!urX!vrX!wrX!xrX!yrX!zrX!{rX!}rX#QrX$|rX%_rX~X^O]!YO^!XOaXOc{OeROg!OOi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UOd$nPd%ZP~P!mOa!^Oe!`Og![O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOY%aX$|%aX`%aXd%aXi%aXn%aX~$}!rO%O!qO%P$lP~UjOX^OYbO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UOh$oP~X^O]!YO^!XOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~X^O]!YO^!XOaXOc!yOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO`%WP~!i!|O~o!}O#Q!}OP%^XY%^Xa%^Xe%^Xg%^X!^%^X!k%^X!l%^X!n%^X!o%^X!p%^X!q%^X!r%^X!s%^X!t%^X!u%^X!v%^X!w%^X!x%^X!y%^X!z%^X!{%^X!}%^X$|%^X%_%^Xd%^X`%^X%b%^Xi%^Xn%^X~o!}O~n#OO~Y#PO$|#PO~%T#SO~a#VO%T#SO%U#UO~^#[Oa#VO%T#SO~e#]Oi#^O%T#SO~Z#dO]#bO^gOi#aO!afO#WiO#XiO#YiO%U#UO~X#kOi#gO%T#SO%U#UOW%iP~a#lO!U#pO~a#qO~iVO~Y#PO${#yO$|#PO~Y#PO${#|O$|#PO~Y#PO${$OO$|#PO~PrXarXd_XdrXerXg_XgrXo_XorX!^rX!i_X!krX!lrX!nrX!orX!prX!qrX!rrX!srX!trX!urX!vrX!wrX!xrX!yrX!zrX!{rX!}rX#QrX%_rXYrX$|rX`_X`rX%brX#grXirXnrX~g$ROd$kP~d$VO~g!OOd$nX~X^O]!YO^!XOaXOc$YOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UOd$^Zg$^Z~P!mOa!^Oe!`Og!OO!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOd$nP~d$[O~X$`Oc$cOe$_Om$`O{$iO|$bO}$bO%U#UO%]$]Oh%[Ph%dP~d%YXg%YXo%YX!i!hX`%YXh%YX~o!}Od%YXg%YX`%YX~o$jOd%XXg%XX`%XXY%XX$|%XX~i$kO!b$mO%T#SO~g![OY$mX$|$mX`$mXd$mXi$mXn$mX~X^O]!YO^!XOaXOc$uOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO`%fP~%]$wO~X^O]%^O^!XOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!R%]O!U%WO!V%WO!W%WO!X%WO!Y%WO!Z%WO![%WO!]%WO!^%WO!a!WO%T%VO%_UO~$}!rO%O!qO%P$lX~%P%bO~UjOX^OYbO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UOh$oX~h%dO~a!^Oe!`O!k!_O!l!_O%_UOP!TaY!Tag!Ta!^!Ta!n!Ta!o!Ta!p!Ta!q!Ta!r!Ta!s!Ta!t!Ta!u!Ta!v!Ta!w!Ta!x!Ta!y!Ta!z!Ta!{!Ta!}!Ta$|!Tad!Ta`!Ta%b!Tai!Tan!Ta~`%eO~g%hO`$tP~`%jO~X^O]!YO^!XOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOY!Qag!Qa$|!Qad!Qa`!Qa%b!Qai!Qan!Qa~i$kO!b%pO~c!yOe#]Oi#^O%T#SO`%WP~a#VO~!i%tO~c%vOe#]Oi#^O%T#SOd%ZP~X$fOc%wOm$fO%]$wOh%[P~g%yOY$uP$|$uP~%T%{Oh%hP~^#[O~W&OO~X^O]hO^gOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO%TyO%_UO~W&OOY#PO$|#PO~%T&ROh%jP~g&WOW$xP~#[&YO~W&ZO~X^OY&_O]!YO^!XOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO#W&aO#X&aO#Y&aO%TyO%_UO~a#lO~#i&fO~i&hO~#y&kO#z&jOU#waX#waY#wa]#wa^#waa#wae#wai#wam#was#wat#wau#wav#waw#wa!R#wa!U#wa!V#wa!W#wa!X#wa!Y#wa!Z#wa![#wa!]#wa!^#wa!a#wa#W#wa#X#wa#Y#wa#`#wa#c#wa#i#wa#k#wa#m#wa#o#wa#r#wa#x#wa#|#wa$O#wa$Q#wa$T#wa$V#wa$z#wa%T#wa%_#wah#wa#p#waZ#wa#u#wa~%T&nO~g$ROd$kX~c&sOe#]Oi#^O%T#SOd$ZZg$ZZ~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOd$^cg$^c~a!OXglXg!OXhlXh!OXnlXn!OXolX~n&yOo&xOa%eXgkXg%eXhkXh%eXn%eX~a#VOn&{OgzXhzX~X$^Oe$_Om$^O%]&|O~g'TOh$pP~h'VO~n&yOo&xOgkXhkX~g'XOh$sP~h'ZO~X$^Oe$_Om$^O|'[O}'[O%U#UO%]&|O~Y'aO{'cO|'`O}'`O!e'dO%U#UO%]&|Oh$rP~i$kO!b'gO~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOY$]cg$]c$|$]c`$]cd$]c%b$]ci$]cn$]c~P!mOa!^Oe!`Og'lO!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UO`$qP~`'oO~d'pO~P!mOa!^Oe!`O!k!_O!l!_O%_UOY!mig!mi!^!mi!n!mi!o!mi!p!mi!q!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!k!_O!l!_O!n!aO%_UOY!mig!mi!^!mi!o!mi!p!mi!q!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO%_UOY!mig!mi!^!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO%_UOY!mig!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO%_UOY!mig!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO%_UOY!mig!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO%_UOY!mig!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO%_UOY!mig!mi!x!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO%_UOY!mig!mi!y!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO%_UOY!mig!mi!z!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO%_UOY!mig!mi!{!mi!}!mi$|!mid!mi`!mi%b!mii!min!mi~PrXarXerXorX!^rX!i_X!krX!lrX!nrX!orX!prX!qrX!rrX!srX!trX!urX!vrX!wrX!xrX!yrX!zrX!{rX!}rX#OrX#QrX%_rXg_XgrXh_XhrXo_X~!i'rO~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO#O(PO%_UO~o(QO#Q(QOP%^Xa%^Xe%^X!^%^X!k%^X!l%^X!n%^X!o%^X!p%^X!q%^X!r%^X!s%^X!t%^X!u%^X!v%^X!w%^X!x%^X!y%^X!z%^X!{%^X!}%^X#O%^X%_%^Xg%^Xh%^X~o(QO~P!mOa!^Oe!`Og![O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UO%b%aXY%aX$|%aXd%aX`%aXi%aXn%aX~%b(UO~g%hO`$tX~c(XOe#]Oi#^O%T#SO`$dZg$dZ~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOY#Pig#Pi$|#Pid#Pi`#Pi%b#Pii#Pin#Pi~g%yOY$uX$|$uX~g(dO#[(fOh$vP~h(gO~X(hO~g_Xh_X#[rX~g(kOh$wP~h(mO~#[(nO~g&WOW$xX~i#gO%T#SOW$hZg$hZ~X(rO~o!}O!t(sO#Q!}O#g(tOP%^XY%^Xa%^Xe%^Xg%^X!^%^X!k%^X!l%^X!n%^X!o%^X!p%^X!q%^X!r%^X!s%^X!u%^X!v%^X!w%^X!x%^X!y%^X!z%^X!{%^X!}%^X%_%^X~o!}O!t(sO#g(tO~X^OY(uO]!YO^!XOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~Y(wO~#p({OU#niX#niY#ni]#ni^#nia#nie#nii#nim#nis#nit#niu#niv#niw#ni!R#ni!U#ni!V#ni!W#ni!X#ni!Y#ni!Z#ni![#ni!]#ni!^#ni!a#ni#W#ni#X#ni#Y#ni#`#ni#c#ni#i#ni#k#ni#m#ni#o#ni#r#ni#x#ni#|#ni$O#ni$Q#ni$T#ni$V#ni$z#ni%T#ni%_#nih#niZ#ni#u#ni~UjOX^OYbOZ)RO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#u)QO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UOh$yP~a)UOiVO~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOd$^kg$^k~d)ZO~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOgzahza~o(QOg%YXh%YX~o)aOg%XXh%XX~g'TOh$pX~X$^Oc)cOe$_Om$^O{$iO|$bO}$bO%U#UO%]&|Og$`Zh$`Z~g'XOh$sX~X$fOc%wOm$fO%]$wOg$cZh$cZ~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UOd%Xig%Xi`%XiY%Xi$|%Xi~Y'aO{'cO|'`O}'`O!e'dO%U#UO%]&|Oh$rX~h)kO~|)lO})lO%U#UO%]&|O~{)mO|)lO})lO%U#UO%]&|O~i$kO~g'lO`$qX~X^O]!YO^!XOaXOc)tOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO`$aZg$aZ~a!^Oe!`O!k!_O!l!_O%_UOP!Ta!^!Ta!n!Ta!o!Ta!p!Ta!q!Ta!r!Ta!s!Ta!t!Ta!u!Ta!v!Ta!w!Ta!x!Ta!y!Ta!z!Ta!{!Ta!}!Ta#O!Tag!Tah!Ta~X^O]%^O^!XOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!R%]O!U%WO!V%WO!W%WO!X%WO!Y%WO!Z%WO![%WO!]%WO!^%WO!a!WO%T%VO%_UO~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UO#O!Qag!Qah!Qa~!i*VO~g![O%b$mXP$mXY$mXa$mXe$mX!^$mX!k$mX!l$mX!n$mX!o$mX!p$mX!q$mX!r$mX!s$mX!t$mX!u$mX!v$mX!w$mX!x$mX!y$mX!z$mX!{$mX!}$mX$|$mX%_$mXd$mX`$mXi$mXn$mX~g(dOh$vX~%T%{Og$fZh$fZ~%]*^O~g(kOh$wX~%T&ROg$gZh$gZ~W*eO~X^O]!YO^!XO`*iOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~Y*kO~X^OY*kO]!YO^!XOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~o$jO!t*mO#g*nOY%XXg%XX$|%XX~UjOX^OYbOZ)RO]hO^gOaXOeROiVOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!afO#WiO#XiO#YiO#`kO#clO#imO#knO#moO#opO#rqO#u)QO#xrO#|sO$OtO$QuO$TvO$VwO%TQO%_UOh$yX~h*rO~n*tO~#z*uOU#wqX#wqY#wq]#wq^#wqa#wqe#wqi#wqm#wqs#wqt#wqu#wqv#wqw#wq!R#wq!U#wq!V#wq!W#wq!X#wq!Y#wq!Z#wq![#wq!]#wq!^#wq!a#wq#W#wq#X#wq#Y#wq#`#wq#c#wq#i#wq#k#wq#m#wq#o#wq#r#wq#x#wq#|#wq$O#wq$Q#wq$T#wq$V#wq$z#wq%T#wq%_#wqh#wq#p#wqZ#wq#u#wq~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOgkihki~o*wOgkihki~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOgzihzi~|+OO}+OO%U#UO%]&|O~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UO`$acg$ac~P!mOa!^Oe!`Og+TO!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UO#O%aXh%aX~P!mOa!^Oe!`O!k!_O!l!_O%_UO!^!mi!n!mi!o!mi!p!mi!q!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!k!_O!l!_O!n'sO%_UO!^!mi!o!mi!p!mi!q!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO%_UO!^!mi!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO%_UO!r!mi!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO%_UO!s!mi!t!mi!u!mi!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO%_UO!v!mi!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO%_UO!w!mi!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO%_UO!x!mi!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO%_UO!y!mi!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O%_UO!z!mi!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O%_UO!{!mi!}!mi#O!mig!mih!mi~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO#O+UO%_UO~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO%_UOY!|yg!|y!}!|y$|!|yd!|y`!|y%b!|yi!|yn!|y~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UO#O#Pig#Pih#Pi~#[+WOg$fch$fc~g(dOh$vP~#[+YO~X+[O~`+]O~`+^O~`+_O~X^O]!YO^!XO`+_OaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~Y+aO~n+dO~`+fO~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOg%Xih%Xi~P!mOa!^Oe!`O!^!cO!k!_O!l!_O!n!aO!o!bO!p!bO!q!bO!r!dO!s!eO!t!eO!u!eO!v!fO!w!gO!x!hO!y!iO!z!jO!{!kO!}!lO%_UO`$akg$ak~g+TOP$mXa$mXe$mX!^$mX!k$mX!l$mX!n$mX!o$mX!p$mX!q$mX!r$mX!s$mX!t$mX!u$mX!v$mX!w$mX!x$mX!y$mX!z$mX!{$mX!}$mX#O$mX%_$mXh$mX~%]+nO~`+rO~X^O]!YO^!XO`+rOaXOeROi!SOm^Os^Ot^Ou^Ov^Ow^O!ReO!UWO!VWO!WWO!XWO!YWO!ZWO![WO!]WO!^WO!a!WO%TyO%_UO~`+tO~`+uO~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOgkyhky~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O!}(OO%_UOg$]c#O$]ch$]c~P!mOa!^Oe!`O!^'uO!k!_O!l!_O!n'sO!o'tO!p'tO!q'tO!r'vO!s'wO!t'wO!u'wO!v'xO!w'yO!x'zO!y'{O!z'|O!{'}O%_UO!}!|y#O!|yg!|yh!|y~`+yO~#z+zOU#w!ZX#w!ZY#w!Z]#w!Z^#w!Za#w!Ze#w!Zi#w!Zm#w!Zs#w!Zt#w!Zu#w!Zv#w!Zw#w!Z!R#w!Z!U#w!Z!V#w!Z!W#w!Z!X#w!Z!Y#w!Z!Z#w!Z![#w!Z!]#w!Z!^#w!Z!a#w!Z#W#w!Z#X#w!Z#Y#w!Z#`#w!Z#c#w!Z#i#w!Z#k#w!Z#m#w!Z#o#w!Z#r#w!Z#x#w!Z#|#w!Z$O#w!Z$Q#w!Z$T#w!Z$V#w!Z$z#w!Z%T#w!Z%_#w!Zh#w!Z#p#w!ZZ#w!Z#u#w!Z~R%]Q%T%R!ow~%T%]~",goto:"!&S%nPPPPP%oP&PPPPP&rPP'WPP*iPPP-qPPP-q0Y0aPPP0i3o4kPPPPP6z6z8yPPP9P9h6zP;`6zPPPPPPPPP<i6zPP>w?ZP6z6z?_PAgPP6zPPPPPPPPPPPPPP6zPP6zP6z6z6z&rCjPPPDOPDRDU%oPDX%oPD_D_D_P%oP%oP%oP%oPP%oPDeDhPDh%oPPP%oP%oP%oPDl%oP%oP%o%oESEYEaEgEuE}FTFZFbFhFnFuF{GSGZGaGgGjGpGsGxHRHUHXH_HbHeHkHnHtHzH}PPPPPPPPIQPPIvJ{KPKwLeLiPLmP!!t!!xP!$t!$w!$z!%V!%Y!%m!%p!%s!%v!%z!&OmbOPVo!t#O#o#r#s#u&c&h({(|Q#YgQ#cjQ#ikS$b!S'TQ$q!XQ%u#[Q'[$iS'`$k'^S)l'c'dR+O)mn_OPVjo!t#O#o#r#s#u&c&h({(|R&P#d$vYOPVWehot!O!Y![!^!`!a!b!c!d!e!f!g!h!i!j!k!l!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$j$m$u%W%]%^%p%t&_&c&h&x&{'g'l'r's't'u'v'w'x'y'z'{'|'}(O(P(Q(s(t(u(w({(|)Q)a)c)t*V*k*m*n*w+T+U+aW!TRX{$cQ#TfQ#Xgl#_i!y#V#]$R%h%v%w%y&a&s&y(X)UQ#hkQ$n!WQ$p!XS%s#Y#[Q&S#gQ'j$qQ(_%uQ(p&WQ(q&YQ*b(kQ*d(nR+p+Y#rZOPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$j$m$u%p%t&_&c&h'g'l(P(s(t(u(w({(|)Q)t*k*m*n+aQ#WgS#Zh!YQ$o!X!U%X!l$c%W%]&x&{'r's't'u'v'w'x'y'z'{'|'}(O(Q)a)c*V*w+T+UU%r#X#Y#[Q&z$aS'i$p$qQ(S%^S(]%s%uQ)`&}Q)i'_Q)q'jQ*Z(_Q*z)gQ*|)jQ+j*}R+x+k#j]OPVWeot!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!q!t!|!}#O#d#o#q#r#s#u#y$Y$_$j$m$u%p%t&_&c&h'g'l(P(s(t(u(w({(|)Q)t*k*m*n+aU!URX{l#_i!y#V#]$R%h%v%w%y&a&s&y(X)U!S%[!l%W%]&x&{'r's't'u'v'w'x'y'z'{'|'}(O(Q)a)c*V*w+T+UQ&^#lR'P$cS$g!S#^R)f'XU$f!S#^'XR$x!_$x^OPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!l!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$c$j$m$u%W%]%p%t&_&c&h&x&{'g'l'r's't'u'v'w'x'y'z'{'|'}(O(P(Q(s(t(u(w({(|)Q)a)c)t*V*k*m*n*w+T+U+a#Z!oS!P!w#R$U$X$s$t$z${$|$}%O%P%Q%R%S%T%U%Y%`%l&v'O']'n'q(R)[)_)s)v)w)x)y)z){)|)}*O*P*Q*R*S*T*U*y+R+g+l+m!sTOPVXot!`!q!t!|#O#d#l#o#q#r#s#u#y$_$m%p%t&_&c&h'g'r(s(t(u(w({(|)Q*V*k*m*n+a#p[OPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!q!t!|!}#O#d#o#q#r#s#u#y$Y$_$j$m$u%p%t&_&c&h'g'l(P(s(t(u(w({(|)Q)t*k*m*n+a!U%Z!l$c%W%]&x&{'r's't'u'v'w'x'y'z'{'|'}(O(Q)a)c*V*w+T+UQ%|#aQ&U#gQ&]#lQ*](dR*c(k$y^OPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!l!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$c$j$m$u%W%]%p%t&_&c&h&x&{'g'l'r's't'u'v'w'x'y'z'{'|'}(O(P(Q(s(t(u(w({(|)Q)a)c)t*V*k*m*n*w+T+U+aQ$d!SR)d'TY$^!S$b$i'T'[S'_$k'^U)j'`'c'dS*})l)mR+k+OlbOPVo!t#O#o#r#s#u&c&h({(|Q#wrS%k!|'rQ%q#WQ'h$oQ([%rS(^%t*VQ)S&jQ)T&kQ)^&zQ)p'iQ*Y(]Q*x)`Q*{)iQ+Q)qQ+V*ZQ+e*uQ+h*zQ+i*|Q+v+fQ+w+jQ+{+xR+|+z#U!nS!P!w$U$X$s$t$z${$|$}%O%P%Q%R%S%T%U%Y%`%l&v'O']'n'q)[)_)s)v)w)x)y)z){)|)}*O*P*Q*R*S*T*U*y+R+g+l+mT%n#R(R$x^OPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!l!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$c$j$m$u%W%]%p%t&_&c&h&x&{'g'l'r's't'u'v'w'x'y'z'{'|'}(O(P(Q(s(t(u(w({(|)Q)a)c)t*V*k*m*n*w+T+U+aQ#rmQ#snQ#upQ#vqR(z&fQ$l!WQ%o#TQ'f$nQ)n'eQ*X(ZR+P)oT'a$k'^#rZOPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!q!t!|!}#O#d#l#o#q#r#s#u#y$Y$_$j$m$u%p%t&_&c&h'g'l(P(s(t(u(w({(|)Q)t*k*m*n+aS#Zh!Y!U%X!l$c%W%]&x&{'r's't'u'v'w'x'y'z'{'|'}(O(Q)a)c*V*w+T+UR(S%^#p[OPRVWXeot{!O![!^!`!a!b!c!d!e!f!g!h!i!j!k!q!t!|!}#O#d#o#q#r#s#u#y$Y$_$j$m$u%p%t&_&c&h'g'l(P(s(t(u(w({(|)Q)t*k*m*n+a!U%Z!l$c%W%]&x&{'r's't'u'v'w'x'y'z'{'|'}(O(Q)a)c*V*w+T+UR&]#ln_OPVjo!t#O#o#r#s#u&c&h({(|R&_#lR#fjR*_(fR+o+WQ#hkR(p&WQ#olR&c#pR&i#vT(}&h(|l`OPVo!t#O#o#r#s#u&c&h({(|Q&o#|R&p$OQPORxPS$Qz$TR&q$QQ!pUR%_!pQ!ZSU$r!Z(T+SQ(T%`R+S)vU}R!P$UR$W}Q!tVR%c!tQ'S$dR)b'SS'k$t'nR)r'kQ'^$kR)h'^Q'W$gR)e'WS%g!z%fR(W%gQ%x#`R(`%xS(c%|*_R*[(cS(j&S*dR*a(jQ&V#hR(o&VQ(|&hR*q(|RdOQ$SzR&t$TR!sUV!]S%`)vQ!QRQ$Z!PR&u$UR!vVR'U$dQ'm$tR)u'nR'b$kR'Y$gQ%i!zR(V%fR%z#`Q(e%|R+X*_Q(l&SR+Z*dR&X#hR)P&hScOPS!uV!tQ#toQ%m#OQ&b#oQ&d#rQ&e#sQ&g#uQ(y&cS(}&h(|R*p({Q#QaQ#xsQ#{uQ#}vQ$PwQ&P#fQ&[#kQ&m#zQ(b%zQ(i&QQ)V&lQ)W&oQ)X&pQ*`(hQ*f(rQ*o(zR+q+[T!{X#VSzR#]S!zX#VS#`i&aS$T{%vQ%f!yQ&r$RS'Q$c%wQ(Y%hQ(a%yQ)Y&sR*W(Xj!VRXi{!y#V#]$R%h%v%y&s(XS'R$c%wQ(x&aQ)]&yR*v)UT|R#]T$h!S#^!hSOPVXot!`!t#O#d#l#o#q#r#s#u#y$_$m%p&_&c&h'g(s(t(u(w({(|)Q*k*m*n+aQ!PRQ!wWQ#ReQ$U{Q$X!OQ$s![Q$t!^Q$z!aQ${!bQ$|!cQ$}!dQ%O!eQ%P!fQ%Q!gQ%R!hQ%S!iQ%T!jQ%U!kQ%Y!lU%`!q!|%tQ%l!}Q&v$YS'O$c)cQ']$jQ'n$uQ'q%WQ(R%]Q)[&xQ)_&{Q)s'lS)v'r*VQ)w'sQ)x'tQ)y'uQ)z'vQ){'wQ)|'xQ)}'yQ*O'zQ*P'{Q*Q'|Q*R'}Q*S(OQ*T(PQ*U(QQ*y)aQ+R)tQ+g*wQ+l+TR+m+UT!rU!plaOPVo!t#O#o#r#s#u&c&h({(|S!xX#qQ#ztQ$y!`Q%a!qS%k!|'rQ&Q#dQ&`#lQ&l#yQ&w$_Q'e$mQ(Z%pS(^%t*VQ(v&_Q)o'gQ*g(sQ*h(tQ*j(uQ*l(wQ*s)QQ+`*kQ+b*mQ+c*nR+s+aR!RRR$e!SS$a!S'TS&}$b$iR)g'[R$v!^lbOPVo!t#O#o#r#s#u&c&h({(|R#ejR%}#aR#jkR&T#gT#ml#pT#nl#pT)O&h(|",nodeNames:" PostfixOp LineComment BlockComment Script ExportDeclaration export Star from String ; default FunctionDeclaration async function VariableDefinition ) ( ParamList Spread ] [ ArrayPattern , } { ObjectPattern PatternProperty PropertyName Number : Equals TemplateString SequenceExpression VariableName BooleanLiteral this null super RegExp ArrayExpression ObjectExpression Property async get set PropertyNameDefinition Block NewExpression new ArgList UnaryExpression await yield void typeof delete LogicOp BitOp ArithOp ArithOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration static FunctionExpression ArrowFunction ParamList Arrow MemberExpression . ?. BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression ClassDeclaration VariableDeclaration let var const ExportGroup as VariableName VariableName ImportDeclaration import ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break Label ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",nodeProps:[[bn.top,4,!0],[bn.openedBy,16,"(",20,"[",24,"{"],[bn.closedBy,17,")",21,"]",25,"}"]],repeatNodeCount:16,tokenData:"=R~R!SX^$_pq$_qr%Srs%itu&]uv&vvw'Twx'exy(Syz(Xz{(^{|(s|})T}!O)Y!O!P)e!P!Q*u!Q!R5i!R![6c![!]8S!]!^8Z!^!_8`!_!`8x!`!a9b!a!b9x!c!}&]!}#O:_#P#Q:d#Q#R:i#R#S&]#S#T:q#T#o&]#o#p:v#p#q:{#q#r;W#r#s;_#y#z$_$f$g$_$g#BY&]#BY#BZ;d#BZ$IS&]$IS$I_;d$I_$I|&]$I|$JO;d$JO$JT&]$JT$JU;d$JU$KV&]$KV$KW;d$KW&FU&]&FU&FV;d&FV~&]~$dY%R~X^$_pq$_#y#z$_$f$g$_#BY#BZ$_$IS$I_$_$I|$JO$_$JT$JU$_$KV$KW$_&FU&FV$_Z%XP!ZP!_!`%[Y%aP!vY!_!`%dY%iO!vY~%nUX~OY%iZr%irs&Qs#O%i#O#P&V#P~%i~&VOX~~&YPO~%i_&dU%]S%TZtu&]!Q![&]!c!}&]#R#S&]#T#o&]$g~&]~&{P!p~!_!`'OY'TO#QY~'YQ!y~vw'`!_!`'O~'eO!z~~'jUX~OY'eZw'ewx&Qx#O'e#O#P'|#P~'e~(PPO~'e~(XOa~~(^O`~_(eQ%UT!qYz{(k!_!`'OY(pP!nY!_!`'O~(xQ!^~{|)O!_!`'O~)TO!]~~)YOg~~)_Q!^~}!O)O!_!`'O_)jQ!kY!O!P)p!Q![){T)sP!O!P)vT){OcTT*QRmT!Q![){!g!h*Z#X#Y*ZT*^R{|*g}!O*g!Q![*mT*jP!Q![*mT*rPmT!Q![*m~*zZ!oYOY+mZz+mz{-f{!P+m!P!Q3z!Q!_+m!_!`4V!`!}+m!}#O4s#O#P5`#P~+mP+rVwPOY+mZ!P+m!P!Q,X!Q!}+m!}#O,p#O#P-]#P~+mP,^UwP#Z#[,X#]#^,X#a#b,X#g#h,X#i#j,X#m#n,XP,sTOY,pZ#O,p#O#P-S#P#Q+m#Q~,pP-VQOY,pZ~,pP-`QOY+mZ~+m~-kYwPOY-fYZ.ZZz-fz{/O{!P-f!P!Q2v!Q!}-f!}#O0^#O#P2d#P~-f~.^ROz.Zz{.g{~.Z~.jTOz.Zz{.g{!P.Z!P!Q.y!Q~.Z~/OOR~~/TYwPOY-fYZ.ZZz-fz{/O{!P-f!P!Q/s!Q!}-f!}#O0^#O#P2d#P~-f~/zUR~wP#Z#[,X#]#^,X#a#b,X#g#h,X#i#j,X#m#n,X~0aWOY0^YZ.ZZz0^z{0y{#O0^#O#P2Q#P#Q-f#Q~0^~0|YOY0^YZ.ZZz0^z{0y{!P0^!P!Q1l!Q#O0^#O#P2Q#P#Q-f#Q~0^~1qTR~OY,pZ#O,p#O#P-S#P#Q+m#Q~,p~2TTOY0^YZ.ZZz0^z{0y{~0^~2gTOY-fYZ.ZZz-fz{/O{~-f~2{_wPOz.Zz{.g{#Z.Z#Z#[2v#[#].Z#]#^2v#^#a.Z#a#b2v#b#g.Z#g#h2v#h#i.Z#i#j2v#j#m.Z#m#n2v#n~.Z~4PQQ~OY3zZ~3zZ4^V#QYwPOY+mZ!P+m!P!Q,X!Q!}+m!}#O,p#O#P-]#P~+mP4vTOY4sZ#O4s#O#P5V#P#Q+m#Q~4sP5YQOY4sZ~4sP5cQOY+mZ~+mT5nVmT!O!P6T!Q![6c!g!h*Z#U#V6t#X#Y*Z#c#d7Y#l#m7hT6YRmT!Q![6T!g!h*Z#X#Y*ZT6hSmT!O!P6T!Q![6c!g!h*Z#X#Y*ZT6wQ!Q!R6}!R!S6}T7SQmT!Q!R6}!R!S6}T7]P!Q!Y7`T7ePmT!Q!Y7`T7kR!Q![7t!c!i7t#T#Z7tT7yRmT!Q![7t!c!i7t#T#Z7tZ8ZOnR#OW~8`OY~~8eQ!s~!^!_8k!_!`8s~8pP!r~!_!`'O~8xO!s~~8}Qo~!_!`9T!`!a9]Y9YP!vY!_!`%d~9bO!i~~9gQ!s~!_!`8s!`!a9m~9rQ!r~!_!`'O!`!a8k~9}Q!}~!O!P:T!a!b:Y~:YO!l~~:_O!{~~:dOe~~:iOd~~:nP!x~!_!`'O~:vO%_~~:{Oi~~;QQ!w~!_!`'O#p#q:Y_;_Oh]%bQ~;dO![~~;mf%]S%TZ%R~X^$_pq$_tu&]!Q![&]!c!}&]#R#S&]#T#o&]#y#z$_$f$g$_$g#BY&]#BY#BZ;d#BZ$IS&]$IS$I_;d$I_$I|&]$I|$JO;d$JO$JT&]$JT$JU;d$JU$KV&]$KV$KW;d$KW&FU&]&FU&FV;d&FV~&]",tokenizers:[ph,Oh,0,1,2,3,fh,gh],topRules:{Script:[0,4]},specializeTable:8507,specializations:[{export:12,from:17,default:22,async:27,function:28,true:70,false:70,this:72,null:74,super:76,new:98,await:105,yield:107,void:108,typeof:110,delete:112,class:126,extends:128,in:164,instanceof:166,let:200,var:202,const:204,as:209,import:216,for:222,of:231,while:234,with:238,do:242,if:246,else:248,switch:252,case:258,try:264,catch:266,finally:268,return:272,throw:276,break:280,continue:286,debugger:290},{async:87,get:89,set:91,static:135}],tokenPrec:8499}),vh=new bn;function yh(t){return ks.indentation.of((e,i)=>function(t,e,i){let r=e.resolve(i);for(let t=r,e=i;;){let i=t.childBefore(e);if(!i)break;i.type.prop(bn.error)&&i.start==i.end?(r=t,e=i.start):(t=i,e=t.end+1)}for(;r;r=r.parent){let e=bh(r);if(e)return e(new Sh(t,i,r))}return-1}(e,t.getTree(e.state),i))}function bh(t){let e=t.type.prop(vh);if(e)return e;let i,r=t.firstChild;if(r&&(i=r.type.prop(bn.closedBy))){let e=t.lastChild,r=e&&i.indexOf(e.name)>-1;return t=>function(t,e,i,r,n){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||n==t.pos+o,l=e?function(t){let e=t.node,i=e.childAfter(e.start),r=e.lastChild;if(!i||t.simulateBreak==i.end)return null;let n=t.state.doc.lineAt(i.start);for(let t=i.end;;){let s=e.childAfter(t);if(!s||s==r)return null;if(!s.type.prop(bn.skipped))return s.start<n.end?i:null;t=s.end}}(t):null;return l?a?t.column(l.start):t.column(l.end):t.baseIndent+(a?0:t.unit*i)}(t,!0,1,void 0,r?e.start:void 0)}return null==t.parent?wh:null}function wh(){return 0}class Sh extends class{constructor(t,e,i){this.state=t,this.overrideIndentation=e,this.simulateBreak=i}get unit(){return this.state.indentUnit}textAfterPos(t){return this.state.sliceDoc(t,Math.min(t+100,null!=this.simulateBreak&&this.simulateBreak>=t?this.simulateBreak:1e9,this.state.doc.lineAt(t).end))}countColumn(t,e){return tn(e<0?t:t.slice(0,e),0,this.state.tabSize)}lineIndent(t){if(this.overrideIndentation){let e=this.overrideIndentation(t.start);if(e>-1)return e}let e=t.slice(0,Math.min(100,t.length));return this.countColumn(e,e.search(/\S/))}column(t){let e=this.state.doc.lineAt(t),i=e.slice(0,t-e.start),r=this.countColumn(i,t-e.start),n=this.overrideIndentation?this.overrideIndentation(e.start):-1;return n>-1&&(r+=n-this.countColumn(i,i.search(/\S/))),r}}{constructor(t,e,i){super(t.state,t.overrideIndentation,t.simulateBreak),this.pos=e,this.node=i}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.start);for(;;){let e=this.node.resolve(t.start);for(;e.parent&&e.parent.start==e.start;)e=e.parent;if(xh(e,this.node))break;t=this.state.doc.lineAt(e.start)}return this.lineIndent(t)}}function xh(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}const kh=t=>t.baseIndent;function _h({except:t,units:e=1}={}){return i=>{let r=t&&t.test(i.textAfter);return i.baseIndent+(r?0:e*i.unit)}}const Ph=new bn;class Ah{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}get(t){if(t>=this.length)return-1;let e=this.cursorPos-this.string.length;return(t<e||t>=this.cursorPos)&&(t<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,e=this.cursorPos-this.string.length),this.string.charCodeAt(t-e)}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}clip(t){return new Ah(this.doc,t)}}function Eh(t,e,i=5e6){let r=Date.now()+e;for(;;){let e=t.advance();if(e)return e;if(t.pos>i||Date.now()>r)return null}}function Xh(t,e){let i=t.forceFinish(),r=i.applyChanges([{fromA:t.pos,toA:i.length,fromB:t.pos,toB:i.length}]).append(e.applyChanges([{fromA:0,toA:t.pos,fromB:0,toB:t.pos}]));return{parsed:i,cache:r}}class Th{constructor(t,e,i){this.tree=t,this.upto=e,this.cache=i,this.parse=null,this.updatedTree=t}static advance(t,e,i){let r=e.startParse(new Ah(i),{cache:t}),n=Eh(r,25);if(n)return new Th(n,i.length,n);let s=Xh(r,t);return new Th(s.parsed,r.pos,s.cache)}apply(t,e,i,r){for(let e of t.effects)if(e.is(r))return e.value;if(!t.docChanged)return this;let n=[];return t.changes.iterChangedRanges((t,e,i,r)=>n.push({fromA:t,toA:e,fromB:i,toB:r})),Th.advance((this.parse?Xh(this.parse,this.updatedTree).cache:this.cache).applyChanges(n),i,e.doc)}startParse(t,e){this.parse=t.startParse(new Ah(e),{cache:this.cache})}stopParse(t,e){return t?this.cache=t:({parsed:t,cache:this.cache}=Xh(this.parse,this.updatedTree)),this.updatedTree=t,this.upto=null!=e?e:this.parse.pos,this.parse=null,t}}let Ch="undefined"!=typeof window&&window.requestIdleCallback||((t,{timeout:e})=>setTimeout(t,e)),$h="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout;class Nh{constructor(t,e,i){this.view=t,this.syntax=e,this.setSyntax=i,this.working=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){t.docChanged&&this.scheduleWork()}scheduleWork(){if(this.working>-1)return;let{state:t}=this.view;t.field(this.syntax.field).upto>=t.doc.length||(this.working=Ch(this.work,{timeout:200}))}work(t){this.working=-1;let{state:e}=this.view,i=e.field(this.syntax.field);if(i.upto>=e.doc.length)return;i.parse||i.startParse(this.syntax.parser,e.doc);let r=Eh(i.parse,t?Math.max(25,t.timeRemaining()):100);if(r||i.parse.badness>.8){let t=i.stopParse(r,e.doc.length);this.view.dispatch(e.update({effects:this.setSyntax.of(new Th(t,e.doc.length,i.cache))}))}else this.scheduleWork()}destroy(){this.working>=0&&$h(this.working)}}const Rh=new class{constructor(t){this.typeNames=[""],this.typeIDs=Object.create(null),this.prop=new bn,this.flags=t.flags,this.types=t.types,this.flagMask=Math.pow(2,this.flags.length)-1,this.typeShift=this.flags.length;let e=t.subtypes||0,i=[void 0];this.typeIDs[""]=0;let r=1;for(let n of t.types){let t=/^([\w\-]+)(?:=([\w-]+))?$/.exec(n);if(!t)throw new RangeError("Invalid type name "+n);let s=r++;this.typeNames[s]=t[1],this.typeIDs[t[1]]=s,i[s]=t[2];for(let n=0;n<e;n++){let e=r++,s=t[1]+"#"+(n+1);this.typeNames[e]=s,this.typeIDs[s]=e,i[e]=t[1]}}if(this.parents=i.map(t=>{if(null==t)return 0;let e=this.typeIDs[t];if(null==e)throw new RangeError(`Unknown parent type '${t}' specified`);return e}),this.flags.length>29||this.typeNames.length>Math.pow(2,29-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer")}get(t){let e=43==t.charCodeAt(0)?1:0;for(let i of(e?t.slice(1):t).split(" "))if(i){let r=this.flags.indexOf(i);if(r>-1)e+=1<<r;else{let r=this.typeIDs[i];if(null==r)throw new RangeError(`Unknown tag type '${i}'`);if(e>>this.typeShift)throw new RangeError(`Multiple tag types specified in '${t}'`);e+=r<<this.typeShift}}return e}add(t){let e=Sn.match(t);return this.prop.add(t=>{let i=e(t);return null==i?void 0:this.get(i)})}highlighter(t){let e=new Wh(this,t);return[Wa.define(t=>new Mh(t,this.prop,e)).decorations(),Vl.styleModule.of(e.module)]}specificity(t){let e=t&this.flagMask,i=0;for(let t=1;t<=this.flags.length;t++)e&1<<t&&i++;for(let e=t>>this.flags.length+1;e;e=this.parents[e])i+=1e3;return i}}({flags:["invalid","meta","standard","definition","constant","local","control","link","strong","emphasis","monospace","changed","inserted","deleted"],subtypes:7,types:["comment","lineComment=comment","blockComment=comment","docComment=comment","name","variableName=name","typeName=name","propertyName=name","className=name","labelName=name","namespace=name","literal","string=literal","docString=string","character=string","number=literal","integer=number","float=number","regexp=literal","escape=literal","color=literal","content","heading=content","list=content","quote=content","keyword","self=keyword","null=keyword","atom=keyword","unit=keyword","modifier=keyword","operatorKeyword=keyword","operator","derefOperator=operator","arithmeticOperator=operator","logicOperator=operator","bitwiseOperator=operator","compareOperator=operator","updateOperator=operator","typeOperator=operator","punctuation","separator=punctuation","bracket=punctuation","angleBracket=bracket","squareBracket=bracket","paren=bracket","brace=bracket"]}),Dh=t=>Rh.highlighter(t);class Vh{constructor(t,e,i,r){this.type=t,this.flags=e,this.specificity=i,this.cls=r}}class Wh{constructor(t,e){this.tags=t,this.cache=Object.create(null);let i=Object.create(null),r=0,n=[];for(let s in e){let o="c"+r++;i[o]=e[s];for(let e of s.split(/\s*,\s*/)){let i=t.get(e);n.push(new Vh(i>>t.typeShift,i&t.flagMask,t.specificity(i),o))}}this.rules=n.sort((t,e)=>e.specificity-t.specificity),this.module=new Ns(i)}match(t){let e=this.cache[t];if(null!=e)return e;let i="",r=t>>this.tags.typeShift,n=t&this.tags.flagMask;for(;;){for(let t of this.rules)if(t.type==r&&(t.flags&n)==t.flags&&(i&&(i+=" "),i+=this.module[t.cls],n&=~t.flags,r))break;if(!r)break;r=this.tags.parents[r]}return this.cache[t]=i}}class Mh{constructor(t,e,i){this.prop=e,this.styling=i,this.tree=t.state.tree,this.decorations=this.buildDeco(t.visibleRanges,this.tree)}update(t){let e=t.state.facet(ks.syntax);e.length?e[0].parsePos(t.state)<t.view.viewport.to?this.decorations=this.decorations.map(t.changes):(this.tree!=e[0].getTree(t.state)||t.viewportChanged)&&(this.tree=e[0].getTree(t.state),this.decorations=this.buildDeco(t.view.visibleRanges,this.tree)):this.decorations=Vo.none}buildDeco(t,e){let i=new js,r=0;function n(t,e){t>r&&e&&i.add(r,t,Vo.mark({class:e})),r=t}for(let{from:i,to:s}of t){r=i;let t="",o=[],a=[];e.iterate({from:i,to:s,enter:(e,i)=>{let r=a.length?a[a.length-1]:"",s=r,l=e.prop(this.prop);if(null!=l){let t=this.styling.match(l);t&&(s&&(s+=" "),s+=t),1&l&&(r=s)}o.push(s),r&&a.push(r),s!=t&&(n(i,t),t=s)},leave:(e,i,r)=>{o.pop(),a.pop();let l=o.length?o[o.length-1]:"";l!=t&&(n(Math.min(s,r),t),t=l)}})}return i.finish()}}Dh({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},invalid:{color:"#f00"},keyword:{color:"#708"},atom:{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"}});const zh=_h({except:/^{/}),Qh=new class{constructor(t){this.parser=t;let e=ps.define();var i;this.field=ts.define({create:e=>Th.advance(_n.empty,t,e.doc),update:(i,r,n)=>i.apply(r,n,t,e)}),this.extension=[ks.syntax.of(this),this.field,Wa.define(t=>new Nh(t,this,e)),yh(this),(i=this,ks.foldable.of((t,e,r)=>{let n=null;for(let s=i.getTree(t).resolve(r);s;s=s.parent){if(s.end<=r||s.start>r)continue;if(n&&s.start<e)break;let i=s.type.prop(Ph);if(i){let o=i(s,t);o&&o.from<=r&&o.from>=e&&o.to>r&&(n=o)}}return n}))]}getTree(t){return t.field(this.field).tree}parsePos(t){return t.field(this.field).upto}ensureTree(t,e,i=100){let r=t.field(this.field);if(r.upto>=e)return r.updatedTree;if(r.parse||r.startParse(this.parser,t.doc),r.parse.pos<e){let n=Eh(r.parse,i,e);if(n)return r.stopParse(n,t.doc.length)}return r.parse.pos<e?null:r.stopParse()}get docNodeType(){return this.parser.topType}docNodeTypeAt(t,e){let i=this.docNodeType;if(this.parser.hasNested){let i=this.getTree(t).resolve(e);for(;i;){if(i.type.prop(bn.top))return i.type;i=i.parent}}return i}}(mh.withProps(cs.add({Script:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),vh.add(t=>"IfStatement"==t.name?_h({except:/^\s*({|else\b)/}):"TryStatement"==t.name?_h({except:/^\s*({|catch|finally)\b/}):"LabeledStatement"==t.name?kh:"SwitchBody"==t.name?t=>{let e=t.textAfter,i=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(i?0:r?1:2)*t.unit}:"TemplateString"==t.name||"BlockComment"==t.name?()=>-1:/(Statement|Declaration)$/.test(t.name)||"Property"==t.name?zh:void 0),Ph.add({Block:t=>({from:t.start+1,to:t.end-1}),ObjectExpression:t=>({from:t.start+1,to:t.end-1}),ArrayExpression:t=>({from:t.start+1,to:t.end-1}),BlockComment:t=>({from:t.start+2,to:t.end-2})}),(qh={"get set async static":"modifier","for while do if else switch try catch finally return throw break continue default case":"keyword control","in of await yield void typeof delete instanceof":"operatorKeyword","export import let var const function class extends":"keyword definition","with debugger from as":"keyword",TemplateString:"string#2","BooleanLiteral Super":"atom",this:"self",null:"null",Star:"modifier",VariableName:"variableName",VariableDefinition:"variableName definition",Label:"labelName",PropertyName:"propertyName",PropertyNameDefinition:"propertyName definition","PostfixOp UpdateOp":"updateOperator",LineComment:"lineComment",BlockComment:"blockComment",Number:"number",String:"string",ArithOp:"arithmeticOperator",LogicOp:"logicOperator",BitOp:"bitwiseOperator",CompareOp:"compareOperator",RegExp:"regexp",Equals:"operator definition",Spread:"punctuation","Arrow :":"punctuation definition","( )":"paren","[ ]":"squareBracket","{ }":"brace",".":"derefOperator",", ;":"separator"},Rh.add(qh))));var qh;const jh=Hn.define({combine(t){let e,i;for(let r of t)e=e||r.topContainer,i=i||r.bottomContainer;return{topContainer:e,bottomContainer:i}}});const Uh=Hn.define();function Lh(t,e){let i=t.plugin(Bh),r=t.state.facet(Uh).indexOf(e);return i&&r>-1?i.panels[r]:null}const Bh=Wa.fromClass(class{constructor(t){this.specs=t.state.facet(Uh),this.panels=this.specs.map(e=>e(t));let e=t.state.facet(jh);this.top=new Ih(t,!0,e.topContainer),this.bottom=new Ih(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.className+=" "+Gh(t),t.mount&&t.mount()}update(t){let e=t.state.facet(jh);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ih(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ih(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(Uh);if(i!=this.specs){let e=[],r=[],n=[],s=[];for(let o of i){let i,a=this.specs.indexOf(o);a<0?(i=o(t.view),s.push(i)):(i=this.panels[a],i.update&&i.update(t)),e.push(i),(i.top?r:n).push(i)}this.specs=i,this.panels=e,this.top.sync(r),this.bottom.sync(n);for(let t of s)t.dom.className+=" "+Gh(t),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}}).provide(Ra.scrollMargins,t=>({top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}));function Gh(t){return Yo(t.style?"panel."+t.style:"panel")}class Ih{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=Yo(this.top?"panels.top":"panels.bottom"),this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Yh(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Yh(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-this.view.scrollDOM.getBoundingClientRect().top:this.view.scrollDOM.getBoundingClientRect().bottom-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Yh(t){let e=t.nextSibling;return t.remove(),e}const Zh=Vl.baseTheme({panels:{boxSizing:"border-box",position:"sticky",left:0,right:0,"& input, & button":{verticalAlign:"middle",color:"inherit",backgroundColor:"inherit",fontSize:"70%"},"& button":{padding:".2em 1em",borderRadius:"3px"},"& input":{border:"1px solid silver",padding:".2em .5em"}},"panels@light":{backgroundColor:"#f5f5f5",color:"black","& button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}}},"panels.top@light":{borderBottom:"1px solid silver"},"panels.bottom@light":{borderTop:"1px solid silver"},"panels@dark":{backgroundColor:"#333338",color:"white","& button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},"& input":{border:"1px solid #555"}}});for(var Hh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Fh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Kh="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Jh="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),tc="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ec="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ic="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),rc=Kh&&(ec||+Kh[1]<57)||tc&&ec,nc=0;nc<10;nc++)Hh[48+nc]=Hh[96+nc]=String(nc);for(nc=1;nc<=24;nc++)Hh[nc+111]="F"+nc;for(nc=65;nc<=90;nc++)Hh[nc]=String.fromCharCode(nc+32),Fh[nc]=String.fromCharCode(nc);for(var sc in Hh)Fh.hasOwnProperty(sc)||(Fh[sc]=Hh[sc]);"undefined"==typeof navigator||/Mac/.test(navigator.platform)||/Win/.test(navigator.platform)||/Linux|X11/.test(navigator.platform);function oc(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==i&&e.shiftKey&&(t="Shift-"+t),t}const ac=Hn.define();Vl.domEventHandlers({keydown:(t,e)=>lc(e.state.facet(ac),t,e,"editor")});function lc(t,e,i,r){let n=function(t){var e=!(rc&&(t.ctrlKey||t.altKey||t.metaKey)||(Jh||ic)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Fh:Hh)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=1==n.length&&" "!=n,o=!1,a=t=>{if(t){for(let e of t.commands)if(e(i))return!0;t.preventDefault&&(o=!0)}return!1};for(let i of t){let t,o=i[r];if(o){if(a(o[""+oc(n,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey)&&(t=Hh[e.keyCode])&&t!=n){if(a(o[""+oc(t,e,!0)]))return!0}else if(s&&e.shiftKey&&a(o[""+oc(n,e,!0)]))return!0}}return o}const hc=String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class cc{constructor(t,e,i=0,r=t.length,n){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,r),this.bufferStart=i,this.normalize=n?t=>n(hc(t)):hc,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return this.buffer.charCodeAt(this.bufferPos)}next(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=String.fromCharCode(t),i=this.bufferStart+this.bufferPos;for(this.bufferPos++;;){let t=this.peek();if(t<56320||t>=57344)break;this.bufferPos++,e+=String.fromCharCode(t)}let r=this.normalize(e);for(let t=0,n=i;;t++){let s=r.charCodeAt(t),o=this.match(s,n);if(o)return this.value=o,this;if(t==r.length-1)break;n==i&&t<e.length&&e.charCodeAt(t)==s&&n++}}}match(t,e){let i=null;for(let r=0;r<this.matches.length;r+=2){let n=this.matches[r],s=!1;this.query.charCodeAt(n)==t&&(n==this.query.length-1?i={from:this.matches[r+1],to:e+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?i={from:e,to:e+1}:this.matches.push(1,e)),i}}class uc{constructor(t,e,i){this.search=t,this.replace=e,this.caseInsensitive=i}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseInsensitive==t.caseInsensitive}cursor(t,e=0,i=t.length){return new cc(t,this.search,e,i,this.caseInsensitive?t=>t.toLowerCase():void 0)}get valid(){return!!this.search}}const dc=ps.define(),fc=ps.define(),pc=ts.define({create:()=>new Oc(new uc("","",!1),[]),update(t,e){for(let i of e.effects)i.is(dc)?t=new Oc(i.value,t.panel):i.is(fc)&&(t=new Oc(t.query,i.value?[Ac]:[]));return t},provide:[Uh.nFrom(t=>t.panel)]});class Oc{constructor(t,e){this.query=t,this.panel=e}}const gc=Vo.mark({class:Yo("searchMatch")}),mc=Vo.mark({class:Yo("searchMatch.selected")}),vc=Wa.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(pc))}update(t){let e=t.state.field(pc);(e!=t.prevState.field(pc)||t.docChanged||t.selectionSet)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e.length||!t.valid)return Vo.none;let i=this.view.state,r=this.view.viewport,n=t.cursor(i.doc,Math.max(0,r.from-t.search.length),Math.min(r.to+t.search.length,i.doc.length)),s=new js;for(;!n.next().done;){let{from:t,to:e}=n.value,r=i.selection.ranges.some(i=>i.from==t&&i.to==e);s.add(t,e,r?mc:gc)}return s.finish()}}).decorations();function yc(t){return e=>{let i=e.state.field(pc,!1);return i&&i.query.valid?t(e,i):Xc(e)}}function bc(t,e,i){let r=i.cursor(t,e).next();return r.done&&(r=i.cursor(t,0,e+i.search.length-1).next(),r.done)?null:r.value}const wc=yc((t,e)=>{let{from:i,to:r}=t.state.selection.primary,n=bc(t.state.doc,t.state.selection.primary.from+1,e.query);return!(!n||n.from==i&&n.to==r)&&(t.dispatch(t.state.update({selection:{anchor:n.from,head:n.to},scrollIntoView:!0})),Rc(t),!0)});function Sc(t,e,i,r){for(let n=r;;){let r=Math.max(i,n-1e4-t.search.length),s=t.cursor(e,r,n),o=null;for(;!s.next().done;)o=s.value;if(o)return o;if(r==i)return null;n-=1e4}}const xc=yc((t,{query:e})=>{let{state:i}=t,r=Sc(e,i.doc,0,i.selection.primary.to-1)||Sc(e,i.doc,i.selection.primary.from+1,i.doc.length);return!!r&&(t.dispatch(i.update({selection:{anchor:r.from,head:r.to},scrollIntoView:!0})),Rc(t),!0)}),kc=yc((t,{query:e})=>{let i=e.cursor(t.state.doc),r=[];for(;!i.next().done;)r.push(Gn.range(i.value.from,i.value.to));return!!r.length&&(t.dispatch(t.state.update({selection:Gn.create(r)})),!0)}),_c=yc((t,{query:e})=>{let{state:i}=t,r=bc(i.doc,i.selection.primary.from,e);if(!r)return!1;let n,{from:s,to:o}=i.selection.primary,a=[];if(r.from==s&&r.to==o&&(a.push({from:r.from,to:r.to,insert:e.replace}),r=bc(i.doc,r.to,e)),r){let t=0==a.length||a[0].from>=r.to?0:r.to-r.from-e.replace.length;n={anchor:r.from-t,head:r.to-t}}return t.dispatch(i.update({changes:a,selection:n,scrollIntoView:!!n})),r&&Rc(t),!0}),Pc=yc((t,{query:e})=>{let i=e.cursor(t.state.doc),r=[];for(;!i.next().done;){let{from:t,to:n}=i.value;r.push({from:t,to:n,insert:e.replace})}return!!r.length&&(t.dispatch(t.state.update({changes:r})),!0)});function Ac(t){let{query:e}=t.state.field(pc);return{dom:$c({view:t,query:e,updateQuery(i){e.eq(i)||(e=i,t.dispatch(t.state.update({effects:dc.of(e)})))}}),mount(){this.dom.querySelector("[name=search]").select()},pos:80,style:"search"}}const Ec="function"==typeof Symbol?Symbol("search"):"__search-tag",Xc=t=>{let e=t.state.field(pc,!1);return(!e||!e.panel.length)&&(t.dispatch(t.state.update({effects:fc.of(!0),replaceExtensions:e?void 0:{[Ec]:Vc}})),!0)},Tc=t=>{let e=t.state.field(pc,!1);if(!e||!e.panel.length)return!1;let i=Lh(t,Ac);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch(t.state.update({effects:fc.of(!1)})),!0};function Cc(t,e=null,i=[]){let r=document.createElement(t);if(e)for(let t in e){let i=e[t];"string"==typeof i?r.setAttribute(t,i):r[t]=i}for(let t of i)r.appendChild("string"==typeof t?document.createTextNode(t):t);return r}function $c(t){function e(e){return t.view.state.phrase(e)}let i=Cc("input",{value:t.query.search,placeholder:e("Find"),"aria-label":e("Find"),name:"search",onchange:s,onkeyup:s}),r=Cc("input",{value:t.query.replace,placeholder:e("Replace"),"aria-label":e("Replace"),name:"replace",onchange:s,onkeyup:s}),n=Cc("input",{type:"checkbox",name:"case",checked:!t.query.caseInsensitive,onchange:s});function s(){t.updateQuery(new uc(i.value,r.value,!n.checked))}return Cc("div",{onkeydown:function(e){var n,s,o;n=t.view,s=e,o="search-panel",lc(n.state.facet(ac),s,n,o)?e.preventDefault():27==e.keyCode?(e.preventDefault(),Tc(t.view)):13==e.keyCode&&e.target==i?(e.preventDefault(),(e.shiftKey?xc:wc)(t.view)):13==e.keyCode&&e.target==r&&(e.preventDefault(),_c(t.view))}},[i,Cc("button",{name:"next",onclick:()=>wc(t.view)},[e("next")]),Cc("button",{name:"prev",onclick:()=>xc(t.view)},[e("previous")]),Cc("button",{name:"select",onclick:()=>kc(t.view)},[e("all")]),Cc("label",null,[n,"match case"]),Cc("br"),r,Cc("button",{name:"replace",onclick:()=>_c(t.view)},[e("replace")]),Cc("button",{name:"replaceAll",onclick:()=>Pc(t.view)},[e("replace all")]),Cc("button",{name:"close",onclick:()=>Tc(t.view),"aria-label":e("close")},[""]),Cc("div",{style:"position: absolute; top: -10000px","aria-live":"polite"})])}const Nc=/[\s\.,:;?!]/;function Rc(t){let{from:e,to:i}=t.state.selection.primary,r=t.state.doc.lineAt(e).start,n=t.state.doc.lineAt(i).end,s=Math.max(r,e-30),o=Math.min(n,i+30),a=t.state.sliceDoc(s,o);if(s!=r)for(let t=0;t<30;t++)if(!Nc.test(a[t+1])&&Nc.test(a[t])){a=a.slice(t);break}if(o!=n)for(let t=a.length-1;t>a.length-30;t--)if(!Nc.test(a[t-1])&&Nc.test(a[t])){a=a.slice(0,t);break}let l=Lh(t,Ac);l&&l.dom.contains(t.root.activeElement)&&(l.dom.querySelector("div[aria-live]").textContent=t.state.phrase("current match")+". "+a)}const Dc=Vl.baseTheme({"panel.search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button":{margin:".2em .5em .2em 0"},"& label":{fontSize:"80%"}},"searchMatch@light":{backgroundColor:"#ffa"},"searchMatch@dark":{backgroundColor:"#088"},"searchMatch.selected@light":{backgroundColor:"#fca"},"searchMatch.selected@dark":{backgroundColor:"#808"}}),Vc=[pc,vc,function(t){let e=[Bh,Zh];return t&&e.push(jh.of(t)),e}(),Dc];const Wc=Vo.line({attributes:{class:Yo("activeLine")}}),Mc=Wa.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let r of t.state.selection.ranges){if(!r.empty)continue;let n=t.lineAt(r.head,0);n.from>e&&(i.push(Wc.range(n.from)),e=n.from)}return Vo.set(i)}}).decorations(),zc={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},Qc=Hn.define({combine:t=>Ps(t,zc,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});const qc=Vo.mark({class:Yo("selectionMatch")}),jc=Vo.mark({class:Yo("selectionMatch.main")}),Uc=(Wa.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Qc),{state:i}=t,r=i.selection;if(r.ranges.length>1)return Vo.none;let n,s=r.primary,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return Vo.none;if(o=i.charCategorizer(s.head),n=function(t,e,i){let r=t.lineAt(e),n=e-r.start,s=e-r.start;for(;n>0;){let t=r.findClusterBreak(n,!1);if(i(r.slice(t,n))!=bs.Word)break;n=t}for(;s<r.length;){let t=r.findClusterBreak(s,!0);if(i(r.slice(s,t))!=bs.Word)break;s=t}return n==s?null:r.slice(n,s)}(i.doc,s.head,o),!n)return Vo.none}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return Vo.none;if(n=i.sliceDoc(s.from,s.to).trim(),!n)return Vo.none}let a=[];for(let r of t.visibleRanges){let t=new cc(i.doc,n,r.from,r.to);for(;!t.next().done;){let{from:r,to:n}=t.value;if((!o||(0==r||o(i.sliceDoc(r-1,r))!=bs.Word)&&(n==i.doc.length||o(i.sliceDoc(n,n+1))!=bs.Word))&&(o&&r<=s.from&&n>=s.to?a.push(jc.range(r,n)):(r>=s.to||n<=s.from)&&a.push(qc.range(r,n)),a.length>e.maxMatches))return Vo.none}}return Vo.set(a)}}).decorations(),Vl.baseTheme({"activeLine@light":{backgroundColor:"#e8f2ff"},"activeLine@dark":{backgroundColor:"#223039"},selectionMatch:{backgroundColor:"#cfb"}})),Lc=Vl.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}}),Bc=Hn.define({combine:t=>Ps(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4})}),Gc=Vo.mark({class:Yo("matchingBracket")}),Ic=Vo.mark({class:Yo("nonmatchingBracket")}),Yc=[ts.define({create:()=>Vo.none,update(t,e,i){if(!e.docChanged&&!e.selection)return t;let r=[],n=i.facet(Bc);for(let t of i.selection.ranges){if(!t.empty)continue;let e=Fc(i,t.head,-1,n)||t.head>0&&Fc(i,t.head-1,1,n)||n.afterCursor&&(Fc(i,t.head,1,n)||t.head<i.doc.length&&Fc(i,t.head+1,-1,n));if(!e)continue;let s=e.matched?Gc:Ic;r.push(s.range(e.start.from,e.start.to)),e.end&&r.push(s.range(e.end.from,e.end.to))}return Vo.set(r,!0)},provide:[Vl.decorations]}),Lc];function Zc(t={}){return[Bc.of(t),Yc]}function Hc(t,e,i){let r=t.prop(e<0?bn.openedBy:bn.closedBy);if(r)return r;if(1==t.name.length){let r=i.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[i[r+e]]}return null}function Fc(t,e,i,r={}){let n,s=r.maxScanDistance||1e4,o=r.brackets||"()[]{}",a=t.tree,l=a.resolve(e,i);return(n=Hc(l.type,i,o))?function(t,e,i,r,n,s){let o=r.parent,a={from:r.start,to:r.end},l=0;return o&&o.iterate({from:i<0?r.start:r.end,to:i<0?o.start:o.end,enter(t,e,o){if(!(i<0?o>r.start:e<r.end)){if(0==l&&n.indexOf(t.name)>-1)return{start:a,end:{from:e,to:o},matched:!0};if(Hc(t,i,s))l++;else if(Hc(t,-i,s)&&(l--,0==l))return{start:a,end:{from:e,to:o},matched:!1};return!1}}})||{start:a,matched:!1}}(0,0,i,l,n,o):function(t,e,i,r,n,s,o){let a=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=i>0)return null;let h={from:i<0?e-1:e,to:i>0?e+1:e},c=t.doc.iterRange(e,i>0?t.doc.length:0),u=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;i<0&&(t+=s.length);let a=e+t*i;for(let t=i>0?0:s.length-1,e=i>0?s.length:-1;t!=e;t+=i){let e=o.indexOf(s[t]);if(!(e<0||r.resolve(a+t,1).type!=n))if(e%2==0==i>0)u++;else{if(1==u)return{start:h,end:{from:a+t,to:a+t+1},matched:e>>1==l>>1};u--}}i>0&&(t+=s.length)}return c.done?{start:h,matched:!1}:null}(t,e,i,a,l.type,s,o)}class Kc extends Vs{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}toDOM(t){return null}at(t){return new Ws(t,t,this)}}Kc.prototype.elementClass="",Kc.prototype.mapMode=Vn.TrackBefore;const Jc={style:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qs.empty,lineMarker:()=>null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},tu=Hn.define();const eu=Vl.baseTheme({gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"gutters@light":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid silver"},"gutters@dark":{backgroundColor:"#333338",color:"#ccc"},gutter:{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},gutterElement:{boxSizing:"border-box"},"gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),iu=Hn.define({combine:t=>t.some(t=>t)});function ru(t){let e=[nu,eu];return t&&!1===t.fixed&&e.push(iu.of(!0)),e}const nu=Wa.fromClass(class{constructor(t){this.view=t,this.dom=document.createElement("div"),this.dom.className=Yo("gutters"),this.dom.setAttribute("aria-hidden","true"),this.gutters=t.state.facet(tu).map(e=>new ou(t,e));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(iu),this.fixed&&(this.dom.style.position="sticky"),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(!this.updateGutters(t))return;let e=this.gutters.map(t=>new su(t,this.view.viewport));this.view.viewportLines(t=>{let i;if(i=Array.isArray(t.type)?t.type.find(t=>t.type==Do.Text):t.type==Do.Text?t:void 0,i)for(let t of e)t.line(this.view,i)},0);for(let t of e)t.finish();this.dom.style.minHeight=this.view.contentHeight+"px",t.state.facet(iu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}updateGutters(t){let e=t.prevState.facet(tu),i=t.state.facet(tu),r=t.docChanged||t.heightChanged;if(e==i)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let n=[];for(let r of i){let i=e.indexOf(r);i<0?n.push(new ou(this.view,r)):(this.gutters[i].update(t),n.push(this.gutters[i]))}for(let t of this.gutters)t.dom.remove();for(let t of n)this.dom.appendChild(t.dom);this.gutters=n}return r}}).provide(Ra.scrollMargins,t=>0!=t.gutters.length&&t.fixed?t.view.textDirection==ia.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null);class su{constructor(t,e){this.gutter=t,this.localMarkers=[],this.i=0,this.height=0,this.cursor=qs.iter(Array.isArray(t.markers)?t.markers:[t.markers],e.from)}line(t,e){for(this.localMarkers.length&&(this.localMarkers=[]);this.cursor.value&&this.cursor.from<=e.from;)this.cursor.from==e.from&&this.localMarkers.push(this.cursor.value),this.cursor.next();let i=this.gutter.config.lineMarker(t,e,this.localMarkers);i&&this.localMarkers.unshift(i);let r=this.gutter;if(0==this.localMarkers.length&&!r.config.renderEmptyElements)return;let n=e.top-this.height;if(this.i==r.elements.length){let i=new au(t,e.height,n,this.localMarkers,r.elementClass);r.elements.push(i),r.dom.appendChild(i.dom)}else{let i=this.localMarkers,s=r.elements[this.i];(function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0})(i,s.markers)&&(i=s.markers,this.localMarkers.length=0),s.update(t,e.height,n,i,r.elementClass)}this.height=e.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;)t.dom.removeChild(t.elements.pop().dom)}}class ou{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className=Yo("gutter"+(this.config.style?"."+this.config.style:"")),this.elementClass=Yo("gutterElement"+(this.config.style?"."+this.config.style:""));for(let i in e.domEventHandlers)this.dom.addEventListener(i,r=>{let n=t.lineAtHeight(r.clientY);e.domEventHandlers[i](t,n,r)&&r.preventDefault()});this.markers=e.markers(t.state),e.initialSpacer&&(this.spacer=new au(t,0,0,[e.initialSpacer(t)],this.elementClass),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=this.config.markers(t.state),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e],this.elementClass)}return this.markers==e}destroy(){this.dom.remove()}}class au{constructor(t,e,i,r,n){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(t,e,i,r,n)}update(t,e,i,r,n){if(this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),this.markers!=r){this.markers=r;for(let t;t=this.dom.lastChild;)t.remove();let e=n;for(let i of r){let r=i.toDOM(t);r&&this.dom.appendChild(r);let n=i.elementClass;n&&(e+=" "+n)}this.dom.className=e}}}const lu=Hn.define(),hu=Hn.define({combine:t=>Ps(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i={};for(let e in t)i[e]=t[e];for(let t in e){let r=i[t],n=e[t];i[t]=r?(t,e,i)=>r(t,e,i)||n(t,e,i):n}return i}})});class cu extends Kc{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(t){let e=t.state.facet(hu);return document.createTextNode(e.formatNumber(this.number))}}const uu=(du={style:"lineNumber",markers:t=>t.facet(lu),lineMarker:(t,e,i)=>i.length?null:new cu(t.state.doc.lineAt(e.from).number),initialSpacer:t=>new cu(pu(t.state.doc.lines)),updateSpacer(t,e){let i=pu(e.view.state.doc.lines);return i==t.number?t:new cu(i)}},[ru(),tu.of(As(du,Jc))]);var du;function fu(t={}){return[hu.of(t),uu]}function pu(t){let e=9;for(;e<t;)e=10*e+9;return e}const Ou=[Vl.theme({wrap:{color:"#abb2bf",backgroundColor:"#282c34","& ::selection":{backgroundColor:"#405948"},caretColor:"#528bff"},secondaryCursor:{borderLeft:"1.4px solid #528bff"},secondarySelection:{backgroundColor:"#405948"},panels:{backgroundColor:"#282c34",color:"#abb2bf"},"panels.top":{borderBottom:"2px solid black"},"panels.bottom":{borderTop:"2px solid black"},searchMatch:{backgroundColor:"#42557b",border:"1px solid #457dff"},"searchMatch.selected":{backgroundColor:"#6199ff2f"},activeLine:{backgroundColor:"#2c313c"},selectionMatch:{backgroundColor:"#354139"},"matchingBracket, nonmatchingBracket":{backgroundColor:"#515a6b",border:"1px solid #515a6b"},gutters:{backgroundColor:"#282c34",color:"#495162",border:"none"},"gutterElement.lineNumber":{color:"inherit"},foldPlaceholder:{backgroundColor:"none",border:"none",color:"#ddd"},tooltip:{border:"1px solid #181a1f",backgroundColor:"#606862"},"tooltip.autocomplete":{"& > li[aria-selected]":{backgroundColor:"#282c34"}}},{dark:!0}),Dh({invalid:{color:"#ffffff"},comment:{color:"#7f848e"},keyword:{color:"#c678dd"},"name, deleted":{color:"#e06c75"},"operator, operatorKeyword, regexp":{color:"#56b6c2"},"string, inserted":{color:"#98c379"},propertyName:{color:"#61afef"},"color, name constant, name standard":{color:"#d19a66"},"name definition":{color:"#abb2bf"},"typeName, className, number, changed":{color:"#e5c07b"},meta:{color:"#5c6370"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},link:{color:"#5c6370",textDecoration:"underline"},heading:{fontWeight:"bold",color:"#e06c75"}})];let gu=class extends Pr{constructor(){super(...arguments),this.sourceCode=null,this.editorState=ks.create({doc:"Hello World",extensions:[fu(),Qh.extension,[Uc,Mc],Zc(),Ou]}),this.editorView=new Vl({state:this.editorState})}render(){return z`
            <textarea class=${Lr}></textarea>
        `}firstUpdated(t){if(!this.shadowRoot.querySelector(Lr))throw new Error("Could not find textArea element!")}updated(t){}};gu.styles=it(".codemirrorElement_e2494e1a{background:transparent;resize:none;border:0}.CodeMirror_e2494e1a{background:#232323;color:#fff;height:auto}.CodeMirror_e2494e1a .CodeMirrorCursor_e2494e1a{border-left:2px solid #fff}.CodeMirror_e2494e1a .CodeMirrorActivelineBackground_e2494e1a{background:#303030}.CodeMirror_e2494e1a .CodeMirrorSelected_e2494e1a{background:#3d3d3d}.CodeMirror_e2494e1a .CodeMirrorGutters_e2494e1a{background:#232323}.CodeMirror_e2494e1a .CodeMirrorLinenumber_e2494e1a{color:hsla(0,0%,100%,.7)}.CodeMirror_e2494e1a .cmComment_e2494e1a{color:hsla(0,0%,100%,.3)}.CodeMirror_e2494e1a .cmString_e2494e1a{color:#e6db74}.CodeMirror_e2494e1a .cmAtom_e2494e1a,.CodeMirror_e2494e1a .cmNumber_e2494e1a{color:#66d9ef}.CodeMirror_e2494e1a .cmKeyword_e2494e1a{color:#f92672}.CodeMirror_e2494e1a .cmVariable_e2494e1a{color:#a6e22e}.CodeMirror_e2494e1a .cmDef_e2494e1a{font-style:italic;color:#fd971f}.CodeMirror_e2494e1a .cmVariable2_e2494e1a{color:#f92672}.CodeMirror_e2494e1a .cmProperty_e2494e1a{color:#66d9ef}.CodeMirror_e2494e1a .cmOperator_e2494e1a{color:#a6a5a5}"),t([K()],gu.prototype,"sourceCode",void 0),gu=t([H("my-editor-code")],gu);const mu="editor_c8c1fdf6",vu="editorCode_c8c1fdf6";let yu=class extends Pr{constructor(){super(...arguments),this.exampleService=$r.get("exampleService"),this.sourceCode=null}connectedCallback(){super.connectedCallback(),xi(()=>{console.log("reaction",this.exampleService.currentExample),this.loadSourceCode(this.exampleService.currentExample)})}async loadSourceCode(t){null!==t&&(this.sourceCode=await this.exampleService.loadExampleSource(t.path))}render(){var t;const e=(null===(t=this.exampleService.currentExample)||void 0===t?void 0:t.name)||"";return z`
            <div class=${mu}>
                <my-editor-preview sourceCode=${this.sourceCode} />

                <section class=${vu}>
                    <my-toolbar title="${"Example Code: "+e}">
                        <my-button @click="${this.triggerRefreshPreview}">REFRESH</my-button>
                    </my-toolbar>
                    <my-editor-code sourceCode=${this.sourceCode} />
                </section>
            </div>
        `}triggerRefreshPreview(){console.log("Refresh click!")}};var bu;yu.styles=it(".editor_c8c1fdf6{position:relative;overflow:auto;overflow-x:hidden;height:100%}.editorCode_c8c1fdf6{box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);border-radius:2px;background:#232323;position:relative;height:auto;width:100%}"),t([K({attribute:!1,hasChanged:null==bu?void 0:bu.hasChanged})],yu.prototype,"sourceCode",void 0),yu=t([H("my-editor")],yu);((t,e)=>{const i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),e.appendChild(i)})('@import url("https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap");html{font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,html{font-size:14px;min-height:100%}body{color:#fff;font-weight:400;background:#131313;background-size:cover;line-height:20px;margin:0}',document.head),function(t){var e=t.enforceActions,i=t.computedRequiresReaction,r=t.computedConfigurable,n=t.disableErrorBoundaries,s=t.reactionScheduler,o=t.reactionRequiresObservable,a=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Je.pendingReactions.length||Je.inBatch||Je.isRunningReactions)&&$t("isolateGlobalState should be called before MobX is running any reactions"),Ke=!0,Fe&&(0==--He().__mobxInstanceCount&&(He().__mobxGlobals=void 0),Je=new Ye)),void 0!==e){"boolean"!=typeof e&&"strict"!==e||function t(e,i){return"production"!==process.env.NODE_ENV&&(i?t("'"+e+"', use '"+i+"' instead."):-1===Rt.indexOf(e)&&(Rt.push(e),console.error("[mobx] Deprecated: "+e),!0))}("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var l=void 0;switch(e){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:$t("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Je.enforceActions=l,Je.allowStateChanges=!0!==l&&"strict"!==l}void 0!==i&&(Je.computedRequiresReaction=!!i),void 0!==o&&(Je.reactionRequiresObservable=!!o),void 0!==a&&(Je.observableRequiresReaction=!!a,Je.allowStateReads=!Je.observableRequiresReaction),void 0!==r&&(Je.computedConfigurable=!!r),void 0!==n&&(!0===n&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Je.disableErrorBoundaries=!!n),s&&di(s)}({enforceActions:"observed"}),$r.loadDependencies({requestOptions:{cache:"no-cache",method:"GET",mode:"cors"}}).then(()=>W(z`<my-app />`,document.body)).catch(t=>console.error("An error occurred while loading dependencies!",t))}));
//# sourceMappingURL=examples.min.js.map
